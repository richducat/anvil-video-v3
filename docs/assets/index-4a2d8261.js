var Zg=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Ps=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var Fs=(t,e,n)=>(Zg(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Kg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wf={exports:{}},Ya={},xf={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),Jg=Symbol.for("react.portal"),e_=Symbol.for("react.fragment"),t_=Symbol.for("react.strict_mode"),n_=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),r_=Symbol.for("react.context"),i_=Symbol.for("react.forward_ref"),o_=Symbol.for("react.suspense"),a_=Symbol.for("react.memo"),l_=Symbol.for("react.lazy"),Ih=Symbol.iterator;function u_(t){return t===null||typeof t!="object"?null:(t=Ih&&t[Ih]||t["@@iterator"],typeof t=="function"?t:null)}var Sf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kf=Object.assign,Tf={};function Er(t,e,n){this.props=t,this.context=e,this.refs=Tf,this.updater=n||Sf}Er.prototype.isReactComponent={};Er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cf(){}Cf.prototype=Er.prototype;function cc(t,e,n){this.props=t,this.context=e,this.refs=Tf,this.updater=n||Sf}var hc=cc.prototype=new Cf;hc.constructor=cc;kf(hc,Er.prototype);hc.isPureReactComponent=!0;var Ph=Array.isArray,Nf=Object.prototype.hasOwnProperty,dc={current:null},Ef={key:!0,ref:!0,__self:!0,__source:!0};function Af(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Nf.call(e,s)&&!Ef.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Ui,type:t,key:i,ref:o,props:r,_owner:dc.current}}function c_(t,e){return{$$typeof:Ui,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ui}function h_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Fh=/\/+/g;function Dl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h_(""+t.key):e.toString(36)}function Do(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ui:case Jg:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+Dl(o,0):s,Ph(r)?(n="",t!=null&&(n=t.replace(Fh,"$&/")+"/"),Do(r,e,n,"",function(u){return u})):r!=null&&(fc(r)&&(r=c_(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(Fh,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",Ph(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+Dl(i,a);o+=Do(i,e,n,l,r)}else if(l=u_(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+Dl(i,a++),o+=Do(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ao(t,e,n){if(t==null)return t;var s=[],r=0;return Do(t,s,"","",function(i){return e.call(n,i,r++)}),s}function d_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Mo={transition:null},f_={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Mo,ReactCurrentOwner:dc};function Df(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:ao,forEach:function(t,e,n){ao(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ao(t,function(){e++}),e},toArray:function(t){return ao(t,function(e){return e})||[]},only:function(t){if(!fc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Er;se.Fragment=e_;se.Profiler=n_;se.PureComponent=cc;se.StrictMode=t_;se.Suspense=o_;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f_;se.act=Df;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=kf({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=dc.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Nf.call(e,l)&&!Ef.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Ui,type:t.type,key:r,ref:i,props:s,_owner:o}};se.createContext=function(t){return t={$$typeof:r_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:s_,_context:t},t.Consumer=t};se.createElement=Af;se.createFactory=function(t){var e=Af.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:i_,render:t}};se.isValidElement=fc;se.lazy=function(t){return{$$typeof:l_,_payload:{_status:-1,_result:t},_init:d_}};se.memo=function(t,e){return{$$typeof:a_,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Mo.transition;Mo.transition={};try{t()}finally{Mo.transition=e}};se.unstable_act=Df;se.useCallback=function(t,e){return st.current.useCallback(t,e)};se.useContext=function(t){return st.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return st.current.useDeferredValue(t)};se.useEffect=function(t,e){return st.current.useEffect(t,e)};se.useId=function(){return st.current.useId()};se.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return st.current.useMemo(t,e)};se.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};se.useRef=function(t){return st.current.useRef(t)};se.useState=function(t){return st.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return st.current.useTransition()};se.version="18.3.1";xf.exports=se;var ye=xf.exports;const p_=Kg(ye);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_=ye,g_=Symbol.for("react.element"),__=Symbol.for("react.fragment"),y_=Object.prototype.hasOwnProperty,v_=m_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w_={key:!0,ref:!0,__self:!0,__source:!0};function Mf(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)y_.call(e,s)&&!w_.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:g_,type:t,key:i,ref:o,props:r,_owner:v_.current}}Ya.Fragment=__;Ya.jsx=Mf;Ya.jsxs=Mf;wf.exports=Ya;var C=wf.exports,au={},Of={exports:{}},St={},bf={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,b){var P=O.length;O.push(b);e:for(;0<P;){var j=P-1>>>1,Y=O[j];if(0<r(Y,b))O[j]=b,O[P]=Y,P=j;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var b=O[0],P=O.pop();if(P!==b){O[0]=P;e:for(var j=0,Y=O.length,Re=Y>>>1;j<Re;){var de=2*(j+1)-1,K=O[de],ie=de+1,Ce=O[ie];if(0>r(K,P))ie<Y&&0>r(Ce,K)?(O[j]=Ce,O[ie]=P,j=ie):(O[j]=K,O[de]=P,j=de);else if(ie<Y&&0>r(Ce,P))O[j]=Ce,O[ie]=P,j=ie;else break e}}return b}function r(O,b){var P=O.sortIndex-b.sortIndex;return P!==0?P:O.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,m=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var b=n(u);b!==null;){if(b.callback===null)s(u);else if(b.startTime<=O)s(u),b.sortIndex=b.expirationTime,e(l,b);else break;b=n(u)}}function k(O){if(_=!1,y(O),!m)if(n(l)!==null)m=!0,L(v);else{var b=n(u);b!==null&&B(k,b.startTime-O)}}function v(O,b){m=!1,_&&(_=!1,f(x),x=-1),p=!0;var P=d;try{for(y(b),h=n(l);h!==null&&(!(h.expirationTime>b)||O&&!A());){var j=h.callback;if(typeof j=="function"){h.callback=null,d=h.priorityLevel;var Y=j(h.expirationTime<=b);b=t.unstable_now(),typeof Y=="function"?h.callback=Y:h===n(l)&&s(l),y(b)}else s(l);h=n(l)}if(h!==null)var Re=!0;else{var de=n(u);de!==null&&B(k,de.startTime-b),Re=!1}return Re}finally{h=null,d=P,p=!1}}var T=!1,S=null,x=-1,D=5,N=-1;function A(){return!(t.unstable_now()-N<D)}function E(){if(S!==null){var O=t.unstable_now();N=O;var b=!0;try{b=S(!0,O)}finally{b?I():(T=!1,S=null)}}else T=!1}var I;if(typeof g=="function")I=function(){g(E)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=E,I=function(){G.postMessage(null)}}else I=function(){w(E,0)};function L(O){S=O,T||(T=!0,I())}function B(O,b){x=w(function(){O(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(v))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var b=3;break;default:b=d}var P=d;d=b;try{return O()}finally{d=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,b){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var P=d;d=O;try{return b()}finally{d=P}},t.unstable_scheduleCallback=function(O,b,P){var j=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?j+P:j):P=j,O){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=P+Y,O={id:c++,callback:b,priorityLevel:O,startTime:P,expirationTime:Y,sortIndex:-1},P>j?(O.sortIndex=P,e(u,O),n(l)===null&&O===n(u)&&(_?(f(x),x=-1):_=!0,B(k,P-j))):(O.sortIndex=Y,e(l,O),m||p||(m=!0,L(v))),O},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(O){var b=d;return function(){var P=d;d=b;try{return O.apply(this,arguments)}finally{d=P}}}})(Rf);bf.exports=Rf;var x_=bf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_=ye,xt=x_;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var If=new Set,ai={};function Ms(t,e){ur(t,e),ur(t+"Capture",e)}function ur(t,e){for(ai[t]=e,t=0;t<e.length;t++)If.add(e[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=Object.prototype.hasOwnProperty,k_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vh={},jh={};function T_(t){return lu.call(jh,t)?!0:lu.call(Vh,t)?!1:k_.test(t)?jh[t]=!0:(Vh[t]=!0,!1)}function C_(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N_(t,e,n,s){if(e===null||typeof e>"u"||C_(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var pc=/[\-:]([a-z])/g;function mc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pc,mc);$e[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pc,mc);$e[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pc,mc);$e[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gc(t,e,n,s){var r=$e.hasOwnProperty(e)?$e[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N_(e,n,r,s)&&(n=null),s||r===null?T_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var An=S_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lo=Symbol.for("react.element"),zs=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),_c=Symbol.for("react.strict_mode"),uu=Symbol.for("react.profiler"),Pf=Symbol.for("react.provider"),Ff=Symbol.for("react.context"),yc=Symbol.for("react.forward_ref"),cu=Symbol.for("react.suspense"),hu=Symbol.for("react.suspense_list"),vc=Symbol.for("react.memo"),Vn=Symbol.for("react.lazy"),Vf=Symbol.for("react.offscreen"),Lh=Symbol.iterator;function Fr(t){return t===null||typeof t!="object"?null:(t=Lh&&t[Lh]||t["@@iterator"],typeof t=="function"?t:null)}var Te=Object.assign,Ml;function Hr(t){if(Ml===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ml=e&&e[1]||""}return`
`+Ml+t}var Ol=!1;function bl(t,e){if(!t||Ol)return"";Ol=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ol=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Hr(t):""}function E_(t){switch(t.tag){case 5:return Hr(t.type);case 16:return Hr("Lazy");case 13:return Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 2:case 15:return t=bl(t.type,!1),t;case 11:return t=bl(t.type.render,!1),t;case 1:return t=bl(t.type,!0),t;default:return""}}function du(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ws:return"Fragment";case zs:return"Portal";case uu:return"Profiler";case _c:return"StrictMode";case cu:return"Suspense";case hu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ff:return(t.displayName||"Context")+".Consumer";case Pf:return(t._context.displayName||"Context")+".Provider";case yc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vc:return e=t.displayName||null,e!==null?e:du(t.type)||"Memo";case Vn:e=t._payload,t=t._init;try{return du(t(e))}catch{}}return null}function A_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return du(e);case 8:return e===_c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D_(t){var e=jf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function uo(t){t._valueTracker||(t._valueTracker=D_(t))}function Lf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=jf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Bo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fu(t,e){var n=e.checked;return Te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qh(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qf(t,e){e=e.checked,e!=null&&gc(t,"checked",e,!1)}function pu(t,e){qf(t,e);var n=Jn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mu(t,e.type,n):e.hasOwnProperty("defaultValue")&&mu(t,e.type,Jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mu(t,e,n){(e!=="number"||Bo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qr=Array.isArray;function nr(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Jn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function gu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return Te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Qr(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jn(n)}}function zf(t,e){var n=Jn(e.value),s=Jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function Bh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _u(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var co,Bf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(co=co||document.createElement("div"),co.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=co.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function li(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M_=["Webkit","ms","Moz","O"];Object.keys(Zr).forEach(function(t){M_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zr[e]=Zr[t]})});function Uf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zr.hasOwnProperty(t)&&Zr[t]?(""+e).trim():e+"px"}function $f(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Uf(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var O_=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yu(t,e){if(e){if(O_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function vu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=null;function wc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xu=null,sr=null,rr=null;function Uh(t){if(t=Hi(t)){if(typeof xu!="function")throw Error(R(280));var e=t.stateNode;e&&(e=el(e),xu(t.stateNode,t.type,e))}}function Gf(t){sr?rr?rr.push(t):rr=[t]:sr=t}function Hf(){if(sr){var t=sr,e=rr;if(rr=sr=null,Uh(t),e)for(t=0;t<e.length;t++)Uh(e[t])}}function Qf(t,e){return t(e)}function Yf(){}var Rl=!1;function Xf(t,e,n){if(Rl)return t(e,n);Rl=!0;try{return Qf(t,e,n)}finally{Rl=!1,(sr!==null||rr!==null)&&(Yf(),Hf())}}function ui(t,e){var n=t.stateNode;if(n===null)return null;var s=el(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Su=!1;if(vn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Su=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Su=!1}function b_(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Kr=!1,Uo=null,$o=!1,ku=null,R_={onError:function(t){Kr=!0,Uo=t}};function I_(t,e,n,s,r,i,o,a,l){Kr=!1,Uo=null,b_.apply(R_,arguments)}function P_(t,e,n,s,r,i,o,a,l){if(I_.apply(this,arguments),Kr){if(Kr){var u=Uo;Kr=!1,Uo=null}else throw Error(R(198));$o||($o=!0,ku=u)}}function Os(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $h(t){if(Os(t)!==t)throw Error(R(188))}function F_(t){var e=t.alternate;if(!e){if(e=Os(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return $h(r),t;if(i===s)return $h(r),e;i=i.sibling}throw Error(R(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==s)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Kf(t){return t=F_(t),t!==null?Jf(t):null}function Jf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jf(t);if(e!==null)return e;t=t.sibling}return null}var ep=xt.unstable_scheduleCallback,Gh=xt.unstable_cancelCallback,V_=xt.unstable_shouldYield,j_=xt.unstable_requestPaint,Me=xt.unstable_now,L_=xt.unstable_getCurrentPriorityLevel,xc=xt.unstable_ImmediatePriority,tp=xt.unstable_UserBlockingPriority,Go=xt.unstable_NormalPriority,q_=xt.unstable_LowPriority,np=xt.unstable_IdlePriority,Xa=null,nn=null;function z_(t){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Xa,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:U_,W_=Math.log,B_=Math.LN2;function U_(t){return t>>>=0,t===0?32:31-(W_(t)/B_|0)|0}var ho=64,fo=4194304;function Yr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ho(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=Yr(a):(i&=o,i!==0&&(s=Yr(i)))}else o=n&~r,o!==0?s=Yr(o):i!==0&&(s=Yr(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-zt(e),r=1<<n,s|=t[n],e&=~r;return s}function $_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G_(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-zt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=$_(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Tu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sp(){var t=ho;return ho<<=1,!(ho&4194240)&&(ho=64),t}function Il(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $i(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zt(e),t[e]=n}function H_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-zt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Sc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-zt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var ce=0;function rp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ip,kc,op,ap,lp,Cu=!1,po=[],Un=null,$n=null,Gn=null,ci=new Map,hi=new Map,qn=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hh(t,e){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":ci.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hi.delete(e.pointerId)}}function jr(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Hi(e),e!==null&&kc(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Y_(t,e,n,s,r){switch(e){case"focusin":return Un=jr(Un,t,e,n,s,r),!0;case"dragenter":return $n=jr($n,t,e,n,s,r),!0;case"mouseover":return Gn=jr(Gn,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return ci.set(i,jr(ci.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,hi.set(i,jr(hi.get(i)||null,t,e,n,s,r)),!0}return!1}function up(t){var e=ds(t.target);if(e!==null){var n=Os(e);if(n!==null){if(e=n.tag,e===13){if(e=Zf(n),e!==null){t.blockedOn=e,lp(t.priority,function(){op(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);wu=s,n.target.dispatchEvent(s),wu=null}else return e=Hi(n),e!==null&&kc(e),t.blockedOn=n,!1;e.shift()}return!0}function Qh(t,e,n){Oo(t)&&n.delete(e)}function X_(){Cu=!1,Un!==null&&Oo(Un)&&(Un=null),$n!==null&&Oo($n)&&($n=null),Gn!==null&&Oo(Gn)&&(Gn=null),ci.forEach(Qh),hi.forEach(Qh)}function Lr(t,e){t.blockedOn===e&&(t.blockedOn=null,Cu||(Cu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,X_)))}function di(t){function e(r){return Lr(r,t)}if(0<po.length){Lr(po[0],t);for(var n=1;n<po.length;n++){var s=po[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Un!==null&&Lr(Un,t),$n!==null&&Lr($n,t),Gn!==null&&Lr(Gn,t),ci.forEach(e),hi.forEach(e),n=0;n<qn.length;n++)s=qn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)up(n),n.blockedOn===null&&qn.shift()}var ir=An.ReactCurrentBatchConfig,Qo=!0;function Z_(t,e,n,s){var r=ce,i=ir.transition;ir.transition=null;try{ce=1,Tc(t,e,n,s)}finally{ce=r,ir.transition=i}}function K_(t,e,n,s){var r=ce,i=ir.transition;ir.transition=null;try{ce=4,Tc(t,e,n,s)}finally{ce=r,ir.transition=i}}function Tc(t,e,n,s){if(Qo){var r=Nu(t,e,n,s);if(r===null)Ul(t,e,s,Yo,n),Hh(t,s);else if(Y_(r,t,e,n,s))s.stopPropagation();else if(Hh(t,s),e&4&&-1<Q_.indexOf(t)){for(;r!==null;){var i=Hi(r);if(i!==null&&ip(i),i=Nu(t,e,n,s),i===null&&Ul(t,e,s,Yo,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Ul(t,e,s,null,n)}}var Yo=null;function Nu(t,e,n,s){if(Yo=null,t=wc(s),t=ds(t),t!==null)if(e=Os(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yo=t,null}function cp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L_()){case xc:return 1;case tp:return 4;case Go:case q_:return 16;case np:return 536870912;default:return 16}default:return 16}}var Wn=null,Cc=null,bo=null;function hp(){if(bo)return bo;var t,e=Cc,n=e.length,s,r="value"in Wn?Wn.value:Wn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return bo=r.slice(t,1<s?1-s:void 0)}function Ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function mo(){return!0}function Yh(){return!1}function kt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?mo:Yh,this.isPropagationStopped=Yh,this}return Te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=mo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=mo)},persist:function(){},isPersistent:mo}),e}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=kt(Ar),Gi=Te({},Ar,{view:0,detail:0}),J_=kt(Gi),Pl,Fl,qr,Za=Te({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qr&&(qr&&t.type==="mousemove"?(Pl=t.screenX-qr.screenX,Fl=t.screenY-qr.screenY):Fl=Pl=0,qr=t),Pl)},movementY:function(t){return"movementY"in t?t.movementY:Fl}}),Xh=kt(Za),e0=Te({},Za,{dataTransfer:0}),t0=kt(e0),n0=Te({},Gi,{relatedTarget:0}),Vl=kt(n0),s0=Te({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),r0=kt(s0),i0=Te({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o0=kt(i0),a0=Te({},Ar,{data:0}),Zh=kt(a0),l0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c0[t])?!!e[t]:!1}function Ec(){return h0}var d0=Te({},Gi,{key:function(t){if(t.key){var e=l0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(t){return t.type==="keypress"?Ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f0=kt(d0),p0=Te({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kh=kt(p0),m0=Te({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),g0=kt(m0),_0=Te({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),y0=kt(_0),v0=Te({},Za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w0=kt(v0),x0=[9,13,27,32],Ac=vn&&"CompositionEvent"in window,Jr=null;vn&&"documentMode"in document&&(Jr=document.documentMode);var S0=vn&&"TextEvent"in window&&!Jr,dp=vn&&(!Ac||Jr&&8<Jr&&11>=Jr),Jh=String.fromCharCode(32),ed=!1;function fp(t,e){switch(t){case"keyup":return x0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bs=!1;function k0(t,e){switch(t){case"compositionend":return pp(e);case"keypress":return e.which!==32?null:(ed=!0,Jh);case"textInput":return t=e.data,t===Jh&&ed?null:t;default:return null}}function T0(t,e){if(Bs)return t==="compositionend"||!Ac&&fp(t,e)?(t=hp(),bo=Cc=Wn=null,Bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dp&&e.locale!=="ko"?null:e.data;default:return null}}var C0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!C0[t.type]:e==="textarea"}function mp(t,e,n,s){Gf(s),e=Xo(e,"onChange"),0<e.length&&(n=new Nc("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var ei=null,fi=null;function N0(t){Np(t,0)}function Ka(t){var e=Gs(t);if(Lf(e))return t}function E0(t,e){if(t==="change")return e}var gp=!1;if(vn){var jl;if(vn){var Ll="oninput"in document;if(!Ll){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),Ll=typeof nd.oninput=="function"}jl=Ll}else jl=!1;gp=jl&&(!document.documentMode||9<document.documentMode)}function sd(){ei&&(ei.detachEvent("onpropertychange",_p),fi=ei=null)}function _p(t){if(t.propertyName==="value"&&Ka(fi)){var e=[];mp(e,fi,t,wc(t)),Xf(N0,e)}}function A0(t,e,n){t==="focusin"?(sd(),ei=e,fi=n,ei.attachEvent("onpropertychange",_p)):t==="focusout"&&sd()}function D0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ka(fi)}function M0(t,e){if(t==="click")return Ka(e)}function O0(t,e){if(t==="input"||t==="change")return Ka(e)}function b0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bt=typeof Object.is=="function"?Object.is:b0;function pi(t,e){if(Bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!lu.call(e,r)||!Bt(t[r],e[r]))return!1}return!0}function rd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function id(t,e){var n=rd(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rd(n)}}function yp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vp(){for(var t=window,e=Bo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bo(t.document)}return e}function Dc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function R0(t){var e=vp(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yp(n.ownerDocument.documentElement,n)){if(s!==null&&Dc(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=id(n,i);var o=id(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I0=vn&&"documentMode"in document&&11>=document.documentMode,Us=null,Eu=null,ti=null,Au=!1;function od(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Au||Us==null||Us!==Bo(s)||(s=Us,"selectionStart"in s&&Dc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ti&&pi(ti,s)||(ti=s,s=Xo(Eu,"onSelect"),0<s.length&&(e=new Nc("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Us)))}function go(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $s={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionend:go("Transition","TransitionEnd")},ql={},wp={};vn&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function Ja(t){if(ql[t])return ql[t];if(!$s[t])return t;var e=$s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wp)return ql[t]=e[n];return t}var xp=Ja("animationend"),Sp=Ja("animationiteration"),kp=Ja("animationstart"),Tp=Ja("transitionend"),Cp=new Map,ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(t,e){Cp.set(t,e),Ms(e,[t])}for(var zl=0;zl<ad.length;zl++){var Wl=ad[zl],P0=Wl.toLowerCase(),F0=Wl[0].toUpperCase()+Wl.slice(1);rs(P0,"on"+F0)}rs(xp,"onAnimationEnd");rs(Sp,"onAnimationIteration");rs(kp,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(Tp,"onTransitionEnd");ur("onMouseEnter",["mouseout","mouseover"]);ur("onMouseLeave",["mouseout","mouseover"]);ur("onPointerEnter",["pointerout","pointerover"]);ur("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xr));function ld(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,P_(s,e,void 0,t),t.currentTarget=null}function Np(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;ld(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;ld(r,a,u),i=l}}}if($o)throw t=ku,$o=!1,ku=null,t}function me(t,e){var n=e[Ru];n===void 0&&(n=e[Ru]=new Set);var s=t+"__bubble";n.has(s)||(Ep(e,t,2,!1),n.add(s))}function Bl(t,e,n){var s=0;e&&(s|=4),Ep(n,t,s,e)}var _o="_reactListening"+Math.random().toString(36).slice(2);function mi(t){if(!t[_o]){t[_o]=!0,If.forEach(function(n){n!=="selectionchange"&&(V0.has(n)||Bl(n,!1,t),Bl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_o]||(e[_o]=!0,Bl("selectionchange",!1,e))}}function Ep(t,e,n,s){switch(cp(e)){case 1:var r=Z_;break;case 4:r=K_;break;default:r=Tc}n=r.bind(null,e,n,t),r=void 0,!Su||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ul(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}Xf(function(){var u=i,c=wc(n),h=[];e:{var d=Cp.get(t);if(d!==void 0){var p=Nc,m=t;switch(t){case"keypress":if(Ro(n)===0)break e;case"keydown":case"keyup":p=f0;break;case"focusin":m="focus",p=Vl;break;case"focusout":m="blur",p=Vl;break;case"beforeblur":case"afterblur":p=Vl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=t0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=g0;break;case xp:case Sp:case kp:p=r0;break;case Tp:p=y0;break;case"scroll":p=J_;break;case"wheel":p=w0;break;case"copy":case"cut":case"paste":p=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Kh}var _=(e&4)!==0,w=!_&&t==="scroll",f=_?d!==null?d+"Capture":null:d;_=[];for(var g=u,y;g!==null;){y=g;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,f!==null&&(k=ui(g,f),k!=null&&_.push(gi(g,k,y)))),w)break;g=g.return}0<_.length&&(d=new p(d,m,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==wu&&(m=n.relatedTarget||n.fromElement)&&(ds(m)||m[wn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?ds(m):null,m!==null&&(w=Os(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(_=Xh,k="onMouseLeave",f="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Kh,k="onPointerLeave",f="onPointerEnter",g="pointer"),w=p==null?d:Gs(p),y=m==null?d:Gs(m),d=new _(k,g+"leave",p,n,c),d.target=w,d.relatedTarget=y,k=null,ds(c)===u&&(_=new _(f,g+"enter",m,n,c),_.target=y,_.relatedTarget=w,k=_),w=k,p&&m)t:{for(_=p,f=m,g=0,y=_;y;y=Vs(y))g++;for(y=0,k=f;k;k=Vs(k))y++;for(;0<g-y;)_=Vs(_),g--;for(;0<y-g;)f=Vs(f),y--;for(;g--;){if(_===f||f!==null&&_===f.alternate)break t;_=Vs(_),f=Vs(f)}_=null}else _=null;p!==null&&ud(h,d,p,_,!1),m!==null&&w!==null&&ud(h,w,m,_,!0)}}e:{if(d=u?Gs(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var v=E0;else if(td(d))if(gp)v=O0;else{v=D0;var T=A0}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(v=M0);if(v&&(v=v(t,u))){mp(h,v,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&mu(d,"number",d.value)}switch(T=u?Gs(u):window,t){case"focusin":(td(T)||T.contentEditable==="true")&&(Us=T,Eu=u,ti=null);break;case"focusout":ti=Eu=Us=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,od(h,n,c);break;case"selectionchange":if(I0)break;case"keydown":case"keyup":od(h,n,c)}var S;if(Ac)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bs?fp(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(dp&&n.locale!=="ko"&&(Bs||x!=="onCompositionStart"?x==="onCompositionEnd"&&Bs&&(S=hp()):(Wn=c,Cc="value"in Wn?Wn.value:Wn.textContent,Bs=!0)),T=Xo(u,x),0<T.length&&(x=new Zh(x,t,null,n,c),h.push({event:x,listeners:T}),S?x.data=S:(S=pp(n),S!==null&&(x.data=S)))),(S=S0?k0(t,n):T0(t,n))&&(u=Xo(u,"onBeforeInput"),0<u.length&&(c=new Zh("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=S))}Np(h,e)})}function gi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xo(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=ui(t,n),i!=null&&s.unshift(gi(t,i,r)),i=ui(t,e),i!=null&&s.push(gi(t,i,r))),t=t.return}return s}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ud(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=ui(n,i),l!=null&&o.unshift(gi(n,l,a))):r||(l=ui(n,i),l!=null&&o.push(gi(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var j0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function cd(t){return(typeof t=="string"?t:""+t).replace(j0,`
`).replace(L0,"")}function yo(t,e,n){if(e=cd(e),cd(t)!==e&&n)throw Error(R(425))}function Zo(){}var Du=null,Mu=null;function Ou(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bu=typeof setTimeout=="function"?setTimeout:void 0,q0=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(t){return hd.resolve(null).then(t).catch(W0)}:bu;function W0(t){setTimeout(function(){throw t})}function $l(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),di(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);di(e)}function Hn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),en="__reactFiber$"+Dr,_i="__reactProps$"+Dr,wn="__reactContainer$"+Dr,Ru="__reactEvents$"+Dr,B0="__reactListeners$"+Dr,U0="__reactHandles$"+Dr;function ds(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wn]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dd(t);t!==null;){if(n=t[en])return n;t=dd(t)}return e}t=n,n=t.parentNode}return null}function Hi(t){return t=t[en]||t[wn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function el(t){return t[_i]||null}var Iu=[],Hs=-1;function is(t){return{current:t}}function ge(t){0>Hs||(t.current=Iu[Hs],Iu[Hs]=null,Hs--)}function fe(t,e){Hs++,Iu[Hs]=t.current,t.current=e}var es={},Xe=is(es),ht=is(!1),xs=es;function cr(t,e){var n=t.type.contextTypes;if(!n)return es;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function dt(t){return t=t.childContextTypes,t!=null}function Ko(){ge(ht),ge(Xe)}function fd(t,e,n){if(Xe.current!==es)throw Error(R(168));fe(Xe,e),fe(ht,n)}function Ap(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(R(108,A_(t)||"Unknown",r));return Te({},n,s)}function Jo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,xs=Xe.current,fe(Xe,t),fe(ht,ht.current),!0}function pd(t,e,n){var s=t.stateNode;if(!s)throw Error(R(169));n?(t=Ap(t,e,xs),s.__reactInternalMemoizedMergedChildContext=t,ge(ht),ge(Xe),fe(Xe,t)):ge(ht),fe(ht,n)}var fn=null,tl=!1,Gl=!1;function Dp(t){fn===null?fn=[t]:fn.push(t)}function $0(t){tl=!0,Dp(t)}function os(){if(!Gl&&fn!==null){Gl=!0;var t=0,e=ce;try{var n=fn;for(ce=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}fn=null,tl=!1}catch(r){throw fn!==null&&(fn=fn.slice(t+1)),ep(xc,os),r}finally{ce=e,Gl=!1}}return null}var Qs=[],Ys=0,ea=null,ta=0,Ct=[],Nt=0,Ss=null,pn=1,mn="";function cs(t,e){Qs[Ys++]=ta,Qs[Ys++]=ea,ea=t,ta=e}function Mp(t,e,n){Ct[Nt++]=pn,Ct[Nt++]=mn,Ct[Nt++]=Ss,Ss=t;var s=pn;t=mn;var r=32-zt(s)-1;s&=~(1<<r),n+=1;var i=32-zt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,pn=1<<32-zt(e)+r|n<<r|s,mn=i+t}else pn=1<<i|n<<r|s,mn=t}function Mc(t){t.return!==null&&(cs(t,1),Mp(t,1,0))}function Oc(t){for(;t===ea;)ea=Qs[--Ys],Qs[Ys]=null,ta=Qs[--Ys],Qs[Ys]=null;for(;t===Ss;)Ss=Ct[--Nt],Ct[Nt]=null,mn=Ct[--Nt],Ct[Nt]=null,pn=Ct[--Nt],Ct[Nt]=null}var vt=null,_t=null,we=!1,jt=null;function Op(t,e){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function md(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vt=t,_t=Hn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:pn,overflow:mn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vt=t,_t=null,!0):!1;default:return!1}}function Pu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fu(t){if(we){var e=_t;if(e){var n=e;if(!md(t,e)){if(Pu(t))throw Error(R(418));e=Hn(n.nextSibling);var s=vt;e&&md(t,e)?Op(s,n):(t.flags=t.flags&-4097|2,we=!1,vt=t)}}else{if(Pu(t))throw Error(R(418));t.flags=t.flags&-4097|2,we=!1,vt=t}}}function gd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vt=t}function vo(t){if(t!==vt)return!1;if(!we)return gd(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ou(t.type,t.memoizedProps)),e&&(e=_t)){if(Pu(t))throw bp(),Error(R(418));for(;e;)Op(t,e),e=Hn(e.nextSibling)}if(gd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=Hn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=vt?Hn(t.stateNode.nextSibling):null;return!0}function bp(){for(var t=_t;t;)t=Hn(t.nextSibling)}function hr(){_t=vt=null,we=!1}function bc(t){jt===null?jt=[t]:jt.push(t)}var G0=An.ReactCurrentBatchConfig;function zr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var s=n.stateNode}if(!s)throw Error(R(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function wo(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _d(t){var e=t._init;return e(t._payload)}function Rp(t){function e(f,g){if(t){var y=f.deletions;y===null?(f.deletions=[g],f.flags|=16):y.push(g)}}function n(f,g){if(!t)return null;for(;g!==null;)e(f,g),g=g.sibling;return null}function s(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function r(f,g){return f=Zn(f,g),f.index=0,f.sibling=null,f}function i(f,g,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<g?(f.flags|=2,g):y):(f.flags|=2,g)):(f.flags|=1048576,g)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,g,y,k){return g===null||g.tag!==6?(g=Jl(y,f.mode,k),g.return=f,g):(g=r(g,y),g.return=f,g)}function l(f,g,y,k){var v=y.type;return v===Ws?c(f,g,y.props.children,k,y.key):g!==null&&(g.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Vn&&_d(v)===g.type)?(k=r(g,y.props),k.ref=zr(f,g,y),k.return=f,k):(k=qo(y.type,y.key,y.props,null,f.mode,k),k.ref=zr(f,g,y),k.return=f,k)}function u(f,g,y,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=eu(y,f.mode,k),g.return=f,g):(g=r(g,y.children||[]),g.return=f,g)}function c(f,g,y,k,v){return g===null||g.tag!==7?(g=_s(y,f.mode,k,v),g.return=f,g):(g=r(g,y),g.return=f,g)}function h(f,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Jl(""+g,f.mode,y),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case lo:return y=qo(g.type,g.key,g.props,null,f.mode,y),y.ref=zr(f,null,g),y.return=f,y;case zs:return g=eu(g,f.mode,y),g.return=f,g;case Vn:var k=g._init;return h(f,k(g._payload),y)}if(Qr(g)||Fr(g))return g=_s(g,f.mode,y,null),g.return=f,g;wo(f,g)}return null}function d(f,g,y,k){var v=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return v!==null?null:a(f,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lo:return y.key===v?l(f,g,y,k):null;case zs:return y.key===v?u(f,g,y,k):null;case Vn:return v=y._init,d(f,g,v(y._payload),k)}if(Qr(y)||Fr(y))return v!==null?null:c(f,g,y,k,null);wo(f,y)}return null}function p(f,g,y,k,v){if(typeof k=="string"&&k!==""||typeof k=="number")return f=f.get(y)||null,a(g,f,""+k,v);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case lo:return f=f.get(k.key===null?y:k.key)||null,l(g,f,k,v);case zs:return f=f.get(k.key===null?y:k.key)||null,u(g,f,k,v);case Vn:var T=k._init;return p(f,g,y,T(k._payload),v)}if(Qr(k)||Fr(k))return f=f.get(y)||null,c(g,f,k,v,null);wo(g,k)}return null}function m(f,g,y,k){for(var v=null,T=null,S=g,x=g=0,D=null;S!==null&&x<y.length;x++){S.index>x?(D=S,S=null):D=S.sibling;var N=d(f,S,y[x],k);if(N===null){S===null&&(S=D);break}t&&S&&N.alternate===null&&e(f,S),g=i(N,g,x),T===null?v=N:T.sibling=N,T=N,S=D}if(x===y.length)return n(f,S),we&&cs(f,x),v;if(S===null){for(;x<y.length;x++)S=h(f,y[x],k),S!==null&&(g=i(S,g,x),T===null?v=S:T.sibling=S,T=S);return we&&cs(f,x),v}for(S=s(f,S);x<y.length;x++)D=p(S,f,x,y[x],k),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?x:D.key),g=i(D,g,x),T===null?v=D:T.sibling=D,T=D);return t&&S.forEach(function(A){return e(f,A)}),we&&cs(f,x),v}function _(f,g,y,k){var v=Fr(y);if(typeof v!="function")throw Error(R(150));if(y=v.call(y),y==null)throw Error(R(151));for(var T=v=null,S=g,x=g=0,D=null,N=y.next();S!==null&&!N.done;x++,N=y.next()){S.index>x?(D=S,S=null):D=S.sibling;var A=d(f,S,N.value,k);if(A===null){S===null&&(S=D);break}t&&S&&A.alternate===null&&e(f,S),g=i(A,g,x),T===null?v=A:T.sibling=A,T=A,S=D}if(N.done)return n(f,S),we&&cs(f,x),v;if(S===null){for(;!N.done;x++,N=y.next())N=h(f,N.value,k),N!==null&&(g=i(N,g,x),T===null?v=N:T.sibling=N,T=N);return we&&cs(f,x),v}for(S=s(f,S);!N.done;x++,N=y.next())N=p(S,f,x,N.value,k),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?x:N.key),g=i(N,g,x),T===null?v=N:T.sibling=N,T=N);return t&&S.forEach(function(E){return e(f,E)}),we&&cs(f,x),v}function w(f,g,y,k){if(typeof y=="object"&&y!==null&&y.type===Ws&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case lo:e:{for(var v=y.key,T=g;T!==null;){if(T.key===v){if(v=y.type,v===Ws){if(T.tag===7){n(f,T.sibling),g=r(T,y.props.children),g.return=f,f=g;break e}}else if(T.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Vn&&_d(v)===T.type){n(f,T.sibling),g=r(T,y.props),g.ref=zr(f,T,y),g.return=f,f=g;break e}n(f,T);break}else e(f,T);T=T.sibling}y.type===Ws?(g=_s(y.props.children,f.mode,k,y.key),g.return=f,f=g):(k=qo(y.type,y.key,y.props,null,f.mode,k),k.ref=zr(f,g,y),k.return=f,f=k)}return o(f);case zs:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(f,g.sibling),g=r(g,y.children||[]),g.return=f,f=g;break e}else{n(f,g);break}else e(f,g);g=g.sibling}g=eu(y,f.mode,k),g.return=f,f=g}return o(f);case Vn:return T=y._init,w(f,g,T(y._payload),k)}if(Qr(y))return m(f,g,y,k);if(Fr(y))return _(f,g,y,k);wo(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(f,g.sibling),g=r(g,y),g.return=f,f=g):(n(f,g),g=Jl(y,f.mode,k),g.return=f,f=g),o(f)):n(f,g)}return w}var dr=Rp(!0),Ip=Rp(!1),na=is(null),sa=null,Xs=null,Rc=null;function Ic(){Rc=Xs=sa=null}function Pc(t){var e=na.current;ge(na),t._currentValue=e}function Vu(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function or(t,e){sa=t,Rc=Xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(lt=!0),t.firstContext=null)}function Ot(t){var e=t._currentValue;if(Rc!==t)if(t={context:t,memoizedValue:e,next:null},Xs===null){if(sa===null)throw Error(R(308));Xs=t,sa.dependencies={lanes:0,firstContext:t}}else Xs=Xs.next=t;return e}var fs=null;function Fc(t){fs===null?fs=[t]:fs.push(t)}function Pp(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,Fc(e)):(n.next=r.next,r.next=n),e.interleaved=n,xn(t,s)}function xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jn=!1;function Vc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,oe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,xn(t,n)}return r=s.interleaved,r===null?(e.next=e,Fc(s)):(e.next=r.next,r.next=e),s.interleaved=e,xn(t,n)}function Io(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Sc(t,n)}}function yd(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ra(t,e,n,s){var r=t.updateQueue;jn=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,p=a.eventTime;if((s&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(d=e,p=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(p,h,d):m,d==null)break e;h=Te({},h,d);break e;case 2:jn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);Ts|=o,t.lanes=o,t.memoizedState=h}}function vd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(R(191,r));r.call(s)}}}var Qi={},sn=is(Qi),yi=is(Qi),vi=is(Qi);function ps(t){if(t===Qi)throw Error(R(174));return t}function jc(t,e){switch(fe(vi,e),fe(yi,t),fe(sn,Qi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_u(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_u(e,t)}ge(sn),fe(sn,e)}function fr(){ge(sn),ge(yi),ge(vi)}function Vp(t){ps(vi.current);var e=ps(sn.current),n=_u(e,t.type);e!==n&&(fe(yi,t),fe(sn,n))}function Lc(t){yi.current===t&&(ge(sn),ge(yi))}var xe=is(0);function ia(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hl=[];function qc(){for(var t=0;t<Hl.length;t++)Hl[t]._workInProgressVersionPrimary=null;Hl.length=0}var Po=An.ReactCurrentDispatcher,Ql=An.ReactCurrentBatchConfig,ks=0,ke=null,Pe=null,Le=null,oa=!1,ni=!1,wi=0,H0=0;function He(){throw Error(R(321))}function zc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Bt(t[n],e[n]))return!1;return!0}function Wc(t,e,n,s,r,i){if(ks=i,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Po.current=t===null||t.memoizedState===null?Z0:K0,t=n(s,r),ni){i=0;do{if(ni=!1,wi=0,25<=i)throw Error(R(301));i+=1,Le=Pe=null,e.updateQueue=null,Po.current=J0,t=n(s,r)}while(ni)}if(Po.current=aa,e=Pe!==null&&Pe.next!==null,ks=0,Le=Pe=ke=null,oa=!1,e)throw Error(R(300));return t}function Bc(){var t=wi!==0;return wi=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?ke.memoizedState=Le=t:Le=Le.next=t,Le}function bt(){if(Pe===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Le===null?ke.memoizedState:Le.next;if(e!==null)Le=e,Pe=t;else{if(t===null)throw Error(R(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Le===null?ke.memoizedState=Le=t:Le=Le.next=t}return Le}function xi(t,e){return typeof e=="function"?e(t):e}function Yl(t){var e=bt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var s=Pe,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((ks&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,ke.lanes|=c,Ts|=c}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,Bt(s,e.memoizedState)||(lt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ke.lanes|=i,Ts|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xl(t){var e=bt(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Bt(i,e.memoizedState)||(lt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function jp(){}function Lp(t,e){var n=ke,s=bt(),r=e(),i=!Bt(s.memoizedState,r);if(i&&(s.memoizedState=r,lt=!0),s=s.queue,Uc(Wp.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,Si(9,zp.bind(null,n,s,r,e),void 0,null),qe===null)throw Error(R(349));ks&30||qp(n,e,r)}return r}function qp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zp(t,e,n,s){e.value=n,e.getSnapshot=s,Bp(e)&&Up(t)}function Wp(t,e,n){return n(function(){Bp(e)&&Up(t)})}function Bp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Bt(t,n)}catch{return!0}}function Up(t){var e=xn(t,1);e!==null&&Wt(e,t,1,-1)}function wd(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},e.queue=t,t=t.dispatch=X0.bind(null,ke,t),[e.memoizedState,t]}function Si(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function $p(){return bt().memoizedState}function Fo(t,e,n,s){var r=Jt();ke.flags|=t,r.memoizedState=Si(1|e,n,void 0,s===void 0?null:s)}function nl(t,e,n,s){var r=bt();s=s===void 0?null:s;var i=void 0;if(Pe!==null){var o=Pe.memoizedState;if(i=o.destroy,s!==null&&zc(s,o.deps)){r.memoizedState=Si(e,n,i,s);return}}ke.flags|=t,r.memoizedState=Si(1|e,n,i,s)}function xd(t,e){return Fo(8390656,8,t,e)}function Uc(t,e){return nl(2048,8,t,e)}function Gp(t,e){return nl(4,2,t,e)}function Hp(t,e){return nl(4,4,t,e)}function Qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yp(t,e,n){return n=n!=null?n.concat([t]):null,nl(4,4,Qp.bind(null,e,t),n)}function $c(){}function Xp(t,e){var n=bt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&zc(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Zp(t,e){var n=bt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&zc(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Kp(t,e,n){return ks&21?(Bt(n,e)||(n=sp(),ke.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,lt=!0),t.memoizedState=n)}function Q0(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var s=Ql.transition;Ql.transition={};try{t(!1),e()}finally{ce=n,Ql.transition=s}}function Jp(){return bt().memoizedState}function Y0(t,e,n){var s=Xn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},em(t))tm(e,n);else if(n=Pp(t,e,n,s),n!==null){var r=tt();Wt(n,t,s,r),nm(n,e,s)}}function X0(t,e,n){var s=Xn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(em(t))tm(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,Bt(a,o)){var l=e.interleaved;l===null?(r.next=r,Fc(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Pp(t,e,r,s),n!==null&&(r=tt(),Wt(n,t,s,r),nm(n,e,s))}}function em(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function tm(t,e){ni=oa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nm(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Sc(t,n)}}var aa={readContext:Ot,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Z0={readContext:Ot,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Ot,useEffect:xd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fo(4194308,4,Qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fo(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Jt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Y0.bind(null,ke,t),[s.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:wd,useDebugValue:$c,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=wd(!1),e=t[0];return t=Q0.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ke,r=Jt();if(we){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),qe===null)throw Error(R(349));ks&30||qp(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,xd(Wp.bind(null,s,i,t),[t]),s.flags|=2048,Si(9,zp.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Jt(),e=qe.identifierPrefix;if(we){var n=mn,s=pn;n=(s&~(1<<32-zt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=wi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=H0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K0={readContext:Ot,useCallback:Xp,useContext:Ot,useEffect:Uc,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Hp,useMemo:Zp,useReducer:Yl,useRef:$p,useState:function(){return Yl(xi)},useDebugValue:$c,useDeferredValue:function(t){var e=bt();return Kp(e,Pe.memoizedState,t)},useTransition:function(){var t=Yl(xi)[0],e=bt().memoizedState;return[t,e]},useMutableSource:jp,useSyncExternalStore:Lp,useId:Jp,unstable_isNewReconciler:!1},J0={readContext:Ot,useCallback:Xp,useContext:Ot,useEffect:Uc,useImperativeHandle:Yp,useInsertionEffect:Gp,useLayoutEffect:Hp,useMemo:Zp,useReducer:Xl,useRef:$p,useState:function(){return Xl(xi)},useDebugValue:$c,useDeferredValue:function(t){var e=bt();return Pe===null?e.memoizedState=t:Kp(e,Pe.memoizedState,t)},useTransition:function(){var t=Xl(xi)[0],e=bt().memoizedState;return[t,e]},useMutableSource:jp,useSyncExternalStore:Lp,useId:Jp,unstable_isNewReconciler:!1};function Ft(t,e){if(t&&t.defaultProps){e=Te({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ju(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Te({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sl={isMounted:function(t){return(t=t._reactInternals)?Os(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=tt(),r=Xn(t),i=_n(s,r);i.payload=e,n!=null&&(i.callback=n),e=Qn(t,i,r),e!==null&&(Wt(e,t,r,s),Io(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=tt(),r=Xn(t),i=_n(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Qn(t,i,r),e!==null&&(Wt(e,t,r,s),Io(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tt(),s=Xn(t),r=_n(n,s);r.tag=2,e!=null&&(r.callback=e),e=Qn(t,r,s),e!==null&&(Wt(e,t,s,n),Io(e,t,s))}};function Sd(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!pi(n,s)||!pi(r,i):!0}function sm(t,e,n){var s=!1,r=es,i=e.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(r=dt(e)?xs:Xe.current,s=e.contextTypes,i=(s=s!=null)?cr(t,r):es),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sl,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function kd(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&sl.enqueueReplaceState(e,e.state,null)}function Lu(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Vc(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Ot(i):(i=dt(e)?xs:Xe.current,r.context=cr(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ju(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&sl.enqueueReplaceState(r,r.state,null),ra(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function pr(t,e){try{var n="",s=e;do n+=E_(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Zl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ey=typeof WeakMap=="function"?WeakMap:Map;function rm(t,e,n){n=_n(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){ua||(ua=!0,Xu=s),qu(t,e)},n}function im(t,e,n){n=_n(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){qu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qu(t,e),typeof s!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Td(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new ey;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=py.bind(null,t,e,n),e.then(t,t))}function Cd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nd(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_n(-1,1),e.tag=2,Qn(n,e,1))),n.lanes|=1),t)}var ty=An.ReactCurrentOwner,lt=!1;function Ke(t,e,n,s){e.child=t===null?Ip(e,null,n,s):dr(e,t.child,n,s)}function Ed(t,e,n,s,r){n=n.render;var i=e.ref;return or(e,r),s=Wc(t,e,n,s,i,r),n=Bc(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Sn(t,e,r)):(we&&n&&Mc(e),e.flags|=1,Ke(t,e,s,r),e.child)}function Ad(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Jc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,om(t,e,i,s,r)):(t=qo(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:pi,n(o,s)&&t.ref===e.ref)return Sn(t,e,r)}return e.flags|=1,t=Zn(i,s),t.ref=e.ref,t.return=e,e.child=t}function om(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(pi(i,s)&&t.ref===e.ref)if(lt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(lt=!0);else return e.lanes=t.lanes,Sn(t,e,r)}return zu(t,e,n,s,r)}function am(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Ks,gt),gt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Ks,gt),gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,fe(Ks,gt),gt|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,fe(Ks,gt),gt|=s;return Ke(t,e,r,n),e.child}function lm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zu(t,e,n,s,r){var i=dt(n)?xs:Xe.current;return i=cr(e,i),or(e,r),n=Wc(t,e,n,s,i,r),s=Bc(),t!==null&&!lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Sn(t,e,r)):(we&&s&&Mc(e),e.flags|=1,Ke(t,e,n,r),e.child)}function Dd(t,e,n,s,r){if(dt(n)){var i=!0;Jo(e)}else i=!1;if(or(e,r),e.stateNode===null)Vo(t,e),sm(e,n,s),Lu(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=dt(n)?xs:Xe.current,u=cr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&kd(e,o,s,u),jn=!1;var d=e.memoizedState;o.state=d,ra(e,s,o,r),l=e.memoizedState,a!==s||d!==l||ht.current||jn?(typeof c=="function"&&(ju(e,n,c,s),l=e.memoizedState),(a=jn||Sd(e,n,a,s,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,Fp(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ft(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ot(l):(l=dt(n)?xs:Xe.current,l=cr(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&kd(e,o,s,l),jn=!1,d=e.memoizedState,o.state=d,ra(e,s,o,r);var m=e.memoizedState;a!==h||d!==m||ht.current||jn?(typeof p=="function"&&(ju(e,n,p,s),m=e.memoizedState),(u=jn||Sd(e,n,u,s,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),o.props=s,o.state=m,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return Wu(t,e,n,s,i,r)}function Wu(t,e,n,s,r,i){lm(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&pd(e,n,!1),Sn(t,e,i);s=e.stateNode,ty.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=dr(e,t.child,null,i),e.child=dr(e,null,a,i)):Ke(t,e,a,i),e.memoizedState=s.state,r&&pd(e,n,!0),e.child}function um(t){var e=t.stateNode;e.pendingContext?fd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fd(t,e.context,!1),jc(t,e.containerInfo)}function Md(t,e,n,s,r){return hr(),bc(r),e.flags|=256,Ke(t,e,n,s),e.child}var Bu={dehydrated:null,treeContext:null,retryLane:0};function Uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function cm(t,e,n){var s=e.pendingProps,r=xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),fe(xe,r&1),t===null)return Fu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ol(o,s,0,null),t=_s(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Uu(n),e.memoizedState=Bu,t):Gc(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ny(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Zn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Zn(a,i):(i=_s(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?Uu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Bu,s}return i=t.child,t=i.sibling,s=Zn(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function Gc(t,e){return e=ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xo(t,e,n,s){return s!==null&&bc(s),dr(e,t.child,null,n),t=Gc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ny(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Zl(Error(R(422))),xo(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=ol({mode:"visible",children:s.children},r,0,null),i=_s(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&dr(e,t.child,null,o),e.child.memoizedState=Uu(o),e.memoizedState=Bu,i);if(!(e.mode&1))return xo(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(R(419)),s=Zl(i,s,void 0),xo(t,e,o,s)}if(a=(o&t.childLanes)!==0,lt||a){if(s=qe,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,xn(t,r),Wt(s,t,r,-1))}return Kc(),s=Zl(Error(R(421))),xo(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=my.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,_t=Hn(r.nextSibling),vt=e,we=!0,jt=null,t!==null&&(Ct[Nt++]=pn,Ct[Nt++]=mn,Ct[Nt++]=Ss,pn=t.id,mn=t.overflow,Ss=e),e=Gc(e,s.children),e.flags|=4096,e)}function Od(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Vu(t.return,e,n)}function Kl(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function hm(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Ke(t,e,s.children,n),s=xe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Od(t,n,e);else if(t.tag===19)Od(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(fe(xe,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ia(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Kl(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ia(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Kl(e,!0,n,null,i);break;case"together":Kl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sy(t,e,n){switch(e.tag){case 3:um(e),hr();break;case 5:Vp(e);break;case 1:dt(e.type)&&Jo(e);break;case 4:jc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;fe(na,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(fe(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?cm(t,e,n):(fe(xe,xe.current&1),t=Sn(t,e,n),t!==null?t.sibling:null);fe(xe,xe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return hm(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),fe(xe,xe.current),s)break;return null;case 22:case 23:return e.lanes=0,am(t,e,n)}return Sn(t,e,n)}var dm,$u,fm,pm;dm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$u=function(){};fm=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ps(sn.current);var i=null;switch(n){case"input":r=fu(t,r),s=fu(t,s),i=[];break;case"select":r=Te({},r,{value:void 0}),s=Te({},s,{value:void 0}),i=[];break;case"textarea":r=gu(t,r),s=gu(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Zo)}yu(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ai.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ai.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&me("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};pm=function(t,e,n,s){n!==s&&(e.flags|=4)};function Wr(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function ry(t,e,n){var s=e.pendingProps;switch(Oc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return dt(e.type)&&Ko(),Qe(e),null;case 3:return s=e.stateNode,fr(),ge(ht),ge(Xe),qc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(vo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(Ju(jt),jt=null))),$u(t,e),Qe(e),null;case 5:Lc(e);var r=ps(vi.current);if(n=e.type,t!==null&&e.stateNode!=null)fm(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(R(166));return Qe(e),null}if(t=ps(sn.current),vo(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[en]=e,s[_i]=i,t=(e.mode&1)!==0,n){case"dialog":me("cancel",s),me("close",s);break;case"iframe":case"object":case"embed":me("load",s);break;case"video":case"audio":for(r=0;r<Xr.length;r++)me(Xr[r],s);break;case"source":me("error",s);break;case"img":case"image":case"link":me("error",s),me("load",s);break;case"details":me("toggle",s);break;case"input":qh(s,i),me("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},me("invalid",s);break;case"textarea":Wh(s,i),me("invalid",s)}yu(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&yo(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&yo(s.textContent,a,t),r=["children",""+a]):ai.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",s)}switch(n){case"input":uo(s),zh(s,i,!0);break;case"textarea":uo(s),Bh(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Zo)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[en]=e,t[_i]=s,dm(t,e,!1,!1),e.stateNode=t;e:{switch(o=vu(n,s),n){case"dialog":me("cancel",t),me("close",t),r=s;break;case"iframe":case"object":case"embed":me("load",t),r=s;break;case"video":case"audio":for(r=0;r<Xr.length;r++)me(Xr[r],t);r=s;break;case"source":me("error",t),r=s;break;case"img":case"image":case"link":me("error",t),me("load",t),r=s;break;case"details":me("toggle",t),r=s;break;case"input":qh(t,s),r=fu(t,s),me("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=Te({},s,{value:void 0}),me("invalid",t);break;case"textarea":Wh(t,s),r=gu(t,s),me("invalid",t);break;default:r=s}yu(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?$f(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&li(t,l):typeof l=="number"&&li(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ai.hasOwnProperty(i)?l!=null&&i==="onScroll"&&me("scroll",t):l!=null&&gc(t,i,l,o))}switch(n){case"input":uo(t),zh(t,s,!1);break;case"textarea":uo(t),Bh(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Jn(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?nr(t,!!s.multiple,i,!1):s.defaultValue!=null&&nr(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Zo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qe(e),null;case 6:if(t&&e.stateNode!=null)pm(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(R(166));if(n=ps(vi.current),ps(sn.current),vo(e)){if(s=e.stateNode,n=e.memoizedProps,s[en]=e,(i=s.nodeValue!==n)&&(t=vt,t!==null))switch(t.tag){case 3:yo(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yo(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[en]=e,e.stateNode=s}return Qe(e),null;case 13:if(ge(xe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&_t!==null&&e.mode&1&&!(e.flags&128))bp(),hr(),e.flags|=98560,i=!1;else if(i=vo(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(R(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[en]=e}else hr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),i=!1}else jt!==null&&(Ju(jt),jt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Fe===0&&(Fe=3):Kc())),e.updateQueue!==null&&(e.flags|=4),Qe(e),null);case 4:return fr(),$u(t,e),t===null&&mi(e.stateNode.containerInfo),Qe(e),null;case 10:return Pc(e.type._context),Qe(e),null;case 17:return dt(e.type)&&Ko(),Qe(e),null;case 19:if(ge(xe),i=e.memoizedState,i===null)return Qe(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Wr(i,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ia(t),o!==null){for(e.flags|=128,Wr(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(xe,xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Me()>mr&&(e.flags|=128,s=!0,Wr(i,!1),e.lanes=4194304)}else{if(!s)if(t=ia(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!we)return Qe(e),null}else 2*Me()-i.renderingStartTime>mr&&n!==1073741824&&(e.flags|=128,s=!0,Wr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Me(),e.sibling=null,n=xe.current,fe(xe,s?n&1|2:n&1),e):(Qe(e),null);case 22:case 23:return Zc(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?gt&1073741824&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function iy(t,e){switch(Oc(e),e.tag){case 1:return dt(e.type)&&Ko(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fr(),ge(ht),ge(Xe),qc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lc(e),null;case 13:if(ge(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));hr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ge(xe),null;case 4:return fr(),null;case 10:return Pc(e.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var So=!1,Ye=!1,oy=typeof WeakSet=="function"?WeakSet:Set,W=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ne(t,e,s)}else n.current=null}function Gu(t,e,n){try{n()}catch(s){Ne(t,e,s)}}var bd=!1;function ay(t,e){if(Du=Qo,t=vp(),Dc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===i&&++c===s&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mu={focusedElem:t,selectionRange:n},Qo=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,w=m.memoizedState,f=e.stateNode,g=f.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ft(e.type,_),w);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(k){Ne(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return m=bd,bd=!1,m}function si(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&Gu(e,n,i)}r=r.next}while(r!==s)}}function rl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Hu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mm(t){var e=t.alternate;e!==null&&(t.alternate=null,mm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[en],delete e[_i],delete e[Ru],delete e[B0],delete e[U0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gm(t){return t.tag===5||t.tag===3||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zo));else if(s!==4&&(t=t.child,t!==null))for(Qu(t,e,n),t=t.sibling;t!==null;)Qu(t,e,n),t=t.sibling}function Yu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Yu(t,e,n),t=t.sibling;t!==null;)Yu(t,e,n),t=t.sibling}var Be=null,Vt=!1;function In(t,e,n){for(n=n.child;n!==null;)_m(t,e,n),n=n.sibling}function _m(t,e,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Xa,n)}catch{}switch(n.tag){case 5:Ye||Zs(n,e);case 6:var s=Be,r=Vt;Be=null,In(t,e,n),Be=s,Vt=r,Be!==null&&(Vt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Vt?(t=Be,n=n.stateNode,t.nodeType===8?$l(t.parentNode,n):t.nodeType===1&&$l(t,n),di(t)):$l(Be,n.stateNode));break;case 4:s=Be,r=Vt,Be=n.stateNode.containerInfo,Vt=!0,In(t,e,n),Be=s,Vt=r;break;case 0:case 11:case 14:case 15:if(!Ye&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Gu(n,e,o),r=r.next}while(r!==s)}In(t,e,n);break;case 1:if(!Ye&&(Zs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){Ne(n,e,a)}In(t,e,n);break;case 21:In(t,e,n);break;case 22:n.mode&1?(Ye=(s=Ye)||n.memoizedState!==null,In(t,e,n),Ye=s):In(t,e,n);break;default:In(t,e,n)}}function Id(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oy),e.forEach(function(s){var r=gy.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Pt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Be=a.stateNode,Vt=!1;break e;case 3:Be=a.stateNode.containerInfo,Vt=!0;break e;case 4:Be=a.stateNode.containerInfo,Vt=!0;break e}a=a.return}if(Be===null)throw Error(R(160));_m(i,o,r),Be=null,Vt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ne(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ym(e,t),e=e.sibling}function ym(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Kt(t),s&4){try{si(3,t,t.return),rl(3,t)}catch(_){Ne(t,t.return,_)}try{si(5,t,t.return)}catch(_){Ne(t,t.return,_)}}break;case 1:Pt(e,t),Kt(t),s&512&&n!==null&&Zs(n,n.return);break;case 5:if(Pt(e,t),Kt(t),s&512&&n!==null&&Zs(n,n.return),t.flags&32){var r=t.stateNode;try{li(r,"")}catch(_){Ne(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&qf(r,i),vu(a,o);var u=vu(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?$f(r,h):c==="dangerouslySetInnerHTML"?Bf(r,h):c==="children"?li(r,h):gc(r,c,h,u)}switch(a){case"input":pu(r,i);break;case"textarea":zf(r,i);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?nr(r,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?nr(r,!!i.multiple,i.defaultValue,!0):nr(r,!!i.multiple,i.multiple?[]:"",!1))}r[_i]=i}catch(_){Ne(t,t.return,_)}}break;case 6:if(Pt(e,t),Kt(t),s&4){if(t.stateNode===null)throw Error(R(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){Ne(t,t.return,_)}}break;case 3:if(Pt(e,t),Kt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{di(e.containerInfo)}catch(_){Ne(t,t.return,_)}break;case 4:Pt(e,t),Kt(t);break;case 13:Pt(e,t),Kt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Yc=Me())),s&4&&Id(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ye=(u=Ye)||c,Pt(e,t),Ye=u):Pt(e,t),Kt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(h=W=c;W!==null;){switch(d=W,p=d.child,d.tag){case 0:case 11:case 14:case 15:si(4,d,d.return);break;case 1:Zs(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){s=d,n=d.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){Ne(s,n,_)}}break;case 5:Zs(d,d.return);break;case 22:if(d.memoizedState!==null){Fd(h);continue}}p!==null?(p.return=d,W=p):Fd(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uf("display",o))}catch(_){Ne(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ne(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Pt(e,t),Kt(t),s&4&&Id(t);break;case 21:break;default:Pt(e,t),Kt(t)}}function Kt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gm(n)){var s=n;break e}n=n.return}throw Error(R(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(li(r,""),s.flags&=-33);var i=Rd(t);Yu(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=Rd(t);Qu(t,a,o);break;default:throw Error(R(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ly(t,e,n){W=t,vm(t)}function vm(t,e,n){for(var s=(t.mode&1)!==0;W!==null;){var r=W,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||So;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=So;var u=Ye;if(So=o,(Ye=l)&&!u)for(W=r;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Vd(r):l!==null?(l.return=o,W=l):Vd(r);for(;i!==null;)W=i,vm(i),i=i.sibling;W=r,So=a,Ye=u}Pd(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,W=i):Pd(t)}}function Pd(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ye||rl(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ye)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Ft(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&vd(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&di(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ye||e.flags&512&&Hu(e)}catch(d){Ne(e,e.return,d)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Fd(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Vd(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Ne(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){Ne(e,r,l)}}var i=e.return;try{Hu(e)}catch(l){Ne(e,i,l)}break;case 5:var o=e.return;try{Hu(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var uy=Math.ceil,la=An.ReactCurrentDispatcher,Hc=An.ReactCurrentOwner,At=An.ReactCurrentBatchConfig,oe=0,qe=null,Ie=null,Ue=0,gt=0,Ks=is(0),Fe=0,ki=null,Ts=0,il=0,Qc=0,ri=null,ot=null,Yc=0,mr=1/0,hn=null,ua=!1,Xu=null,Yn=null,ko=!1,Bn=null,ca=0,ii=0,Zu=null,jo=-1,Lo=0;function tt(){return oe&6?Me():jo!==-1?jo:jo=Me()}function Xn(t){return t.mode&1?oe&2&&Ue!==0?Ue&-Ue:G0.transition!==null?(Lo===0&&(Lo=sp()),Lo):(t=ce,t!==0||(t=window.event,t=t===void 0?16:cp(t.type)),t):1}function Wt(t,e,n,s){if(50<ii)throw ii=0,Zu=null,Error(R(185));$i(t,n,s),(!(oe&2)||t!==qe)&&(t===qe&&(!(oe&2)&&(il|=n),Fe===4&&zn(t,Ue)),ft(t,s),n===1&&oe===0&&!(e.mode&1)&&(mr=Me()+500,tl&&os()))}function ft(t,e){var n=t.callbackNode;G_(t,e);var s=Ho(t,t===qe?Ue:0);if(s===0)n!==null&&Gh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&Gh(n),e===1)t.tag===0?$0(jd.bind(null,t)):Dp(jd.bind(null,t)),z0(function(){!(oe&6)&&os()}),n=null;else{switch(rp(s)){case 1:n=xc;break;case 4:n=tp;break;case 16:n=Go;break;case 536870912:n=np;break;default:n=Go}n=Em(n,wm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wm(t,e){if(jo=-1,Lo=0,oe&6)throw Error(R(327));var n=t.callbackNode;if(ar()&&t.callbackNode!==n)return null;var s=Ho(t,t===qe?Ue:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=ha(t,s);else{e=s;var r=oe;oe|=2;var i=Sm();(qe!==t||Ue!==e)&&(hn=null,mr=Me()+500,gs(t,e));do try{dy();break}catch(a){xm(t,a)}while(1);Ic(),la.current=i,oe=r,Ie!==null?e=0:(qe=null,Ue=0,e=Fe)}if(e!==0){if(e===2&&(r=Tu(t),r!==0&&(s=r,e=Ku(t,r))),e===1)throw n=ki,gs(t,0),zn(t,s),ft(t,Me()),n;if(e===6)zn(t,s);else{if(r=t.current.alternate,!(s&30)&&!cy(r)&&(e=ha(t,s),e===2&&(i=Tu(t),i!==0&&(s=i,e=Ku(t,i))),e===1))throw n=ki,gs(t,0),zn(t,s),ft(t,Me()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(R(345));case 2:hs(t,ot,hn);break;case 3:if(zn(t,s),(s&130023424)===s&&(e=Yc+500-Me(),10<e)){if(Ho(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){tt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=bu(hs.bind(null,t,ot,hn),e);break}hs(t,ot,hn);break;case 4:if(zn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-zt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Me()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*uy(s/1960))-s,10<s){t.timeoutHandle=bu(hs.bind(null,t,ot,hn),s);break}hs(t,ot,hn);break;case 5:hs(t,ot,hn);break;default:throw Error(R(329))}}}return ft(t,Me()),t.callbackNode===n?wm.bind(null,t):null}function Ku(t,e){var n=ri;return t.current.memoizedState.isDehydrated&&(gs(t,e).flags|=256),t=ha(t,e),t!==2&&(e=ot,ot=n,e!==null&&Ju(e)),t}function Ju(t){ot===null?ot=t:ot.push.apply(ot,t)}function cy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Bt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zn(t,e){for(e&=~Qc,e&=~il,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zt(e),s=1<<n;t[n]=-1,e&=~s}}function jd(t){if(oe&6)throw Error(R(327));ar();var e=Ho(t,0);if(!(e&1))return ft(t,Me()),null;var n=ha(t,e);if(t.tag!==0&&n===2){var s=Tu(t);s!==0&&(e=s,n=Ku(t,s))}if(n===1)throw n=ki,gs(t,0),zn(t,e),ft(t,Me()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hs(t,ot,hn),ft(t,Me()),null}function Xc(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(mr=Me()+500,tl&&os())}}function Cs(t){Bn!==null&&Bn.tag===0&&!(oe&6)&&ar();var e=oe;oe|=1;var n=At.transition,s=ce;try{if(At.transition=null,ce=1,t)return t()}finally{ce=s,At.transition=n,oe=e,!(oe&6)&&os()}}function Zc(){gt=Ks.current,ge(Ks)}function gs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,q0(n)),Ie!==null)for(n=Ie.return;n!==null;){var s=n;switch(Oc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Ko();break;case 3:fr(),ge(ht),ge(Xe),qc();break;case 5:Lc(s);break;case 4:fr();break;case 13:ge(xe);break;case 19:ge(xe);break;case 10:Pc(s.type._context);break;case 22:case 23:Zc()}n=n.return}if(qe=t,Ie=t=Zn(t.current,null),Ue=gt=e,Fe=0,ki=null,Qc=il=Ts=0,ot=ri=null,fs!==null){for(e=0;e<fs.length;e++)if(n=fs[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}fs=null}return t}function xm(t,e){do{var n=Ie;try{if(Ic(),Po.current=aa,oa){for(var s=ke.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}oa=!1}if(ks=0,Le=Pe=ke=null,ni=!1,wi=0,Hc.current=null,n===null||n.return===null){Fe=1,ki=e,Ie=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Cd(o);if(p!==null){p.flags&=-257,Nd(p,o,a,i,e),p.mode&1&&Td(i,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){Td(i,u,e),Kc();break e}l=Error(R(426))}}else if(we&&a.mode&1){var w=Cd(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Nd(w,o,a,i,e),bc(pr(l,a));break e}}i=l=pr(l,a),Fe!==4&&(Fe=2),ri===null?ri=[i]:ri.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=rm(i,l,e);yd(i,f);break e;case 1:a=l;var g=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Yn===null||!Yn.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=im(i,a,e);yd(i,k);break e}}i=i.return}while(i!==null)}Tm(n)}catch(v){e=v,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(1)}function Sm(){var t=la.current;return la.current=aa,t===null?aa:t}function Kc(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),qe===null||!(Ts&268435455)&&!(il&268435455)||zn(qe,Ue)}function ha(t,e){var n=oe;oe|=2;var s=Sm();(qe!==t||Ue!==e)&&(hn=null,gs(t,e));do try{hy();break}catch(r){xm(t,r)}while(1);if(Ic(),oe=n,la.current=s,Ie!==null)throw Error(R(261));return qe=null,Ue=0,Fe}function hy(){for(;Ie!==null;)km(Ie)}function dy(){for(;Ie!==null&&!V_();)km(Ie)}function km(t){var e=Nm(t.alternate,t,gt);t.memoizedProps=t.pendingProps,e===null?Tm(t):Ie=e,Hc.current=null}function Tm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iy(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Ie=null;return}}else if(n=ry(n,e,gt),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Fe===0&&(Fe=5)}function hs(t,e,n){var s=ce,r=At.transition;try{At.transition=null,ce=1,fy(t,e,n,s)}finally{At.transition=r,ce=s}return null}function fy(t,e,n,s){do ar();while(Bn!==null);if(oe&6)throw Error(R(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(H_(t,i),t===qe&&(Ie=qe=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ko||(ko=!0,Em(Go,function(){return ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=At.transition,At.transition=null;var o=ce;ce=1;var a=oe;oe|=4,Hc.current=null,ay(t,n),ym(n,t),R0(Mu),Qo=!!Du,Mu=Du=null,t.current=n,ly(n),j_(),oe=a,ce=o,At.transition=i}else t.current=n;if(ko&&(ko=!1,Bn=t,ca=r),i=t.pendingLanes,i===0&&(Yn=null),z_(n.stateNode),ft(t,Me()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(ua)throw ua=!1,t=Xu,Xu=null,t;return ca&1&&t.tag!==0&&ar(),i=t.pendingLanes,i&1?t===Zu?ii++:(ii=0,Zu=t):ii=0,os(),null}function ar(){if(Bn!==null){var t=rp(ca),e=At.transition,n=ce;try{if(At.transition=null,ce=16>t?16:t,Bn===null)var s=!1;else{if(t=Bn,Bn=null,ca=0,oe&6)throw Error(R(331));var r=oe;for(oe|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:si(8,c,i)}var h=c.child;if(h!==null)h.return=c,W=h;else for(;W!==null;){c=W;var d=c.sibling,p=c.return;if(mm(c),c===u){W=null;break}if(d!==null){d.return=p,W=d;break}W=p}}}var m=i.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,W=f;break e}W=i.return}}var g=t.current;for(W=g;W!==null;){o=W;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,W=y;else e:for(o=g;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rl(9,a)}}catch(v){Ne(a,a.return,v)}if(a===o){W=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,W=k;break e}W=a.return}}if(oe=r,os(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Xa,t)}catch{}s=!0}return s}finally{ce=n,At.transition=e}}return!1}function Ld(t,e,n){e=pr(n,e),e=rm(t,e,1),t=Qn(t,e,1),e=tt(),t!==null&&($i(t,1,e),ft(t,e))}function Ne(t,e,n){if(t.tag===3)Ld(t,t,n);else for(;e!==null;){if(e.tag===3){Ld(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Yn===null||!Yn.has(s))){t=pr(n,t),t=im(e,t,1),e=Qn(e,t,1),t=tt(),e!==null&&($i(e,1,t),ft(e,t));break}}e=e.return}}function py(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=tt(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Ue&n)===n&&(Fe===4||Fe===3&&(Ue&130023424)===Ue&&500>Me()-Yc?gs(t,0):Qc|=n),ft(t,e)}function Cm(t,e){e===0&&(t.mode&1?(e=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):e=1);var n=tt();t=xn(t,e),t!==null&&($i(t,e,n),ft(t,n))}function my(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cm(t,n)}function gy(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(R(314))}s!==null&&s.delete(e),Cm(t,n)}var Nm;Nm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ht.current)lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return lt=!1,sy(t,e,n);lt=!!(t.flags&131072)}else lt=!1,we&&e.flags&1048576&&Mp(e,ta,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Vo(t,e),t=e.pendingProps;var r=cr(e,Xe.current);or(e,n),r=Wc(null,e,s,t,r,n);var i=Bc();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(s)?(i=!0,Jo(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Vc(e),r.updater=sl,e.stateNode=r,r._reactInternals=e,Lu(e,s,t,n),e=Wu(null,e,s,!0,i,n)):(e.tag=0,we&&i&&Mc(e),Ke(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Vo(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=yy(s),t=Ft(s,t),r){case 0:e=zu(null,e,s,t,n);break e;case 1:e=Dd(null,e,s,t,n);break e;case 11:e=Ed(null,e,s,t,n);break e;case 14:e=Ad(null,e,s,Ft(s.type,t),n);break e}throw Error(R(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ft(s,r),zu(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ft(s,r),Dd(t,e,s,r,n);case 3:e:{if(um(e),t===null)throw Error(R(387));s=e.pendingProps,i=e.memoizedState,r=i.element,Fp(t,e),ra(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=pr(Error(R(423)),e),e=Md(t,e,s,n,r);break e}else if(s!==r){r=pr(Error(R(424)),e),e=Md(t,e,s,n,r);break e}else for(_t=Hn(e.stateNode.containerInfo.firstChild),vt=e,we=!0,jt=null,n=Ip(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),s===r){e=Sn(t,e,n);break e}Ke(t,e,s,n)}e=e.child}return e;case 5:return Vp(e),t===null&&Fu(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Ou(s,r)?o=null:i!==null&&Ou(s,i)&&(e.flags|=32),lm(t,e),Ke(t,e,o,n),e.child;case 6:return t===null&&Fu(e),null;case 13:return cm(t,e,n);case 4:return jc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=dr(e,null,s,n):Ke(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ft(s,r),Ed(t,e,s,r,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,fe(na,s._currentValue),s._currentValue=o,i!==null)if(Bt(i.value,o)){if(i.children===r.children&&!ht.current){e=Sn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=_n(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Vu(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(R(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vu(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ke(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,or(e,n),r=Ot(r),s=s(r),e.flags|=1,Ke(t,e,s,n),e.child;case 14:return s=e.type,r=Ft(s,e.pendingProps),r=Ft(s.type,r),Ad(t,e,s,r,n);case 15:return om(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Ft(s,r),Vo(t,e),e.tag=1,dt(s)?(t=!0,Jo(e)):t=!1,or(e,n),sm(e,s,r),Lu(e,s,r,n),Wu(null,e,s,!0,t,n);case 19:return hm(t,e,n);case 22:return am(t,e,n)}throw Error(R(156,e.tag))};function Em(t,e){return ep(t,e)}function _y(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,s){return new _y(t,e,n,s)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yy(t){if(typeof t=="function")return Jc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yc)return 11;if(t===vc)return 14}return 2}function Zn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qo(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")Jc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ws:return _s(n.children,r,i,e);case _c:o=8,r|=8;break;case uu:return t=Et(12,n,e,r|2),t.elementType=uu,t.lanes=i,t;case cu:return t=Et(13,n,e,r),t.elementType=cu,t.lanes=i,t;case hu:return t=Et(19,n,e,r),t.elementType=hu,t.lanes=i,t;case Vf:return ol(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pf:o=10;break e;case Ff:o=9;break e;case yc:o=11;break e;case vc:o=14;break e;case Vn:o=16,s=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=Et(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function _s(t,e,n,s){return t=Et(7,t,s,e),t.lanes=n,t}function ol(t,e,n,s){return t=Et(22,t,s,e),t.elementType=Vf,t.lanes=n,t.stateNode={isHidden:!1},t}function Jl(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function eu(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vy(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function eh(t,e,n,s,r,i,o,a,l){return t=new vy(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Et(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vc(i),t}function wy(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function Am(t){if(!t)return es;t=t._reactInternals;e:{if(Os(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(dt(n))return Ap(t,n,e)}return e}function Dm(t,e,n,s,r,i,o,a,l){return t=eh(n,s,!0,t,r,i,o,a,l),t.context=Am(null),n=t.current,s=tt(),r=Xn(n),i=_n(s,r),i.callback=e??null,Qn(n,i,r),t.current.lanes=r,$i(t,r,s),ft(t,s),t}function al(t,e,n,s){var r=e.current,i=tt(),o=Xn(r);return n=Am(n),e.context===null?e.context=n:e.pendingContext=n,e=_n(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Qn(r,e,o),t!==null&&(Wt(t,r,o,i),Io(t,r,o)),o}function da(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function th(t,e){qd(t,e),(t=t.alternate)&&qd(t,e)}function xy(){return null}var Mm=typeof reportError=="function"?reportError:function(t){console.error(t)};function nh(t){this._internalRoot=t}ll.prototype.render=nh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));al(t,e,null,null)};ll.prototype.unmount=nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cs(function(){al(null,t,null,null)}),e[wn]=null}};function ll(t){this._internalRoot=t}ll.prototype.unstable_scheduleHydration=function(t){if(t){var e=ap();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qn.length&&e!==0&&e<qn[n].priority;n++);qn.splice(n,0,t),n===0&&up(t)}};function sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zd(){}function Sy(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=da(o);i.call(u)}}var o=Dm(e,s,t,0,null,!1,!1,"",zd);return t._reactRootContainer=o,t[wn]=o.current,mi(t.nodeType===8?t.parentNode:t),Cs(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=da(l);a.call(u)}}var l=eh(t,0,!1,null,null,!1,!1,"",zd);return t._reactRootContainer=l,t[wn]=l.current,mi(t.nodeType===8?t.parentNode:t),Cs(function(){al(e,l,n,s)}),l}function cl(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=da(o);a.call(l)}}al(e,o,t,r)}else o=Sy(n,e,t,r,s);return da(o)}ip=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yr(e.pendingLanes);n!==0&&(Sc(e,n|1),ft(e,Me()),!(oe&6)&&(mr=Me()+500,os()))}break;case 13:Cs(function(){var s=xn(t,1);if(s!==null){var r=tt();Wt(s,t,1,r)}}),th(t,1)}};kc=function(t){if(t.tag===13){var e=xn(t,134217728);if(e!==null){var n=tt();Wt(e,t,134217728,n)}th(t,134217728)}};op=function(t){if(t.tag===13){var e=Xn(t),n=xn(t,e);if(n!==null){var s=tt();Wt(n,t,e,s)}th(t,e)}};ap=function(){return ce};lp=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};xu=function(t,e,n){switch(e){case"input":if(pu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=el(s);if(!r)throw Error(R(90));Lf(s),pu(s,r)}}}break;case"textarea":zf(t,n);break;case"select":e=n.value,e!=null&&nr(t,!!n.multiple,e,!1)}};Qf=Xc;Yf=Cs;var ky={usingClientEntryPoint:!1,Events:[Hi,Gs,el,Gf,Hf,Xc]},Br={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ty={bundleType:Br.bundleType,version:Br.version,rendererPackageName:Br.rendererPackageName,rendererConfig:Br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:An.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kf(t),t===null?null:t.stateNode},findFiberByHostInstance:Br.findFiberByHostInstance||xy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{Xa=To.inject(Ty),nn=To}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ky;St.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sh(e))throw Error(R(200));return wy(t,e,null,n)};St.createRoot=function(t,e){if(!sh(t))throw Error(R(299));var n=!1,s="",r=Mm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=eh(t,1,!1,null,null,n,!1,s,r),t[wn]=e.current,mi(t.nodeType===8?t.parentNode:t),new nh(e)};St.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Kf(e),t=t===null?null:t.stateNode,t};St.flushSync=function(t){return Cs(t)};St.hydrate=function(t,e,n){if(!ul(e))throw Error(R(200));return cl(null,t,e,!0,n)};St.hydrateRoot=function(t,e,n){if(!sh(t))throw Error(R(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=Mm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Dm(e,null,t,1,n??null,r,!1,i,o),t[wn]=e.current,mi(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new ll(e)};St.render=function(t,e,n){if(!ul(e))throw Error(R(200));return cl(null,t,e,!1,n)};St.unmountComponentAtNode=function(t){if(!ul(t))throw Error(R(40));return t._reactRootContainer?(Cs(function(){cl(null,null,t,!1,function(){t._reactRootContainer=null,t[wn]=null})}),!0):!1};St.unstable_batchedUpdates=Xc;St.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ul(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return cl(t,e,n,!1,s)};St.version="18.3.1-next-f1338f8080-20240426";function Om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Om)}catch(t){console.error(t)}}Om(),Of.exports=St;var Cy=Of.exports,Wd=Cy;au.createRoot=Wd.createRoot,au.hydrateRoot=Wd.hydrateRoot;const bm="14.9.17",Bd=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),Ud=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),ec=(t,e)=>({startTime:e,type:"setValue",value:t}),Rm=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),Im=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),Js=t=>t.type==="exponentialRampToValue",fa=t=>t.type==="linearRampToValue",Ln=t=>Js(t)||fa(t),rh=t=>t.type==="setValue",dn=t=>t.type==="setValueCurve",pa=(t,e,n,s)=>{const r=t[e];return r===void 0?s:Ln(r)||rh(r)?r.value:dn(r)?r.values[r.values.length-1]:Im(n,pa(t,e-1,r.startTime,s),r)},$d=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:Ln(n)?[n.endTime,n.value]:rh(n)?[n.startTime,n.value]:dn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,pa(t,e-1,n.startTime,r)],tc=t=>t.type==="cancelAndHold",nc=t=>t.type==="cancelScheduledValues",Pn=t=>tc(t)||nc(t)?t.cancelTime:Js(t)||fa(t)?t.endTime:t.startTime,Gd=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,Hd=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),Ny=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},Ey=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return Ny(s,r)},Co=t=>t.type==="setTarget";class Ay{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=Pn(e);if(tc(e)||nc(e)){const s=this._automationEvents.findIndex(i=>nc(e)&&dn(i)?i.startTime+i.duration>=n:Pn(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),tc(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Ln(r)){if(i!==void 0&&Co(i))throw new Error("The internal list is malformed.");const o=i===void 0?r.insertTime:dn(i)?i.startTime+i.duration:Pn(i),a=i===void 0?this._defaultValue:dn(i)?i.values[i.values.length-1]:i.value,l=Js(r)?Gd(n,o,a,r):Hd(n,o,a,r),u=Js(r)?Bd(l,n,this._currenTime):Ud(l,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&Co(i)&&this._automationEvents.push(ec(this.getValue(n),n)),i!==void 0&&dn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=i.values.slice(0,l);if(u<1)for(let h=1;h<l;h+=1){const d=u*h%1;c[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=Rm(c,i.startTime,o)}}}else{const s=this._automationEvents.findIndex(o=>Pn(o)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&dn(r)&&Pn(r)+r.duration>n)return!1;const i=Js(e)?Bd(e.value,e.endTime,this._currenTime):fa(e)?Ud(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(dn(e)&&n+e.duration>Pn(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>Pn(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];Co(r)&&s.unshift(ec(pa(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>Pn(o)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&Co(i)&&(s===void 0||!Ln(s)||s.insertTime>e))return Im(e,pa(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&rh(i)&&(s===void 0||!Ln(s)))return i.value;if(i!==void 0&&dn(i)&&(s===void 0||!Ln(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Ey(e,i):i.values[i.values.length-1];if(i!==void 0&&Ln(i)&&(s===void 0||!Ln(s)))return i.value;if(s!==void 0&&Js(s)){const[o,a]=$d(this._automationEvents,r,i,s,this._defaultValue);return Gd(e,o,a,s)}if(s!==void 0&&fa(s)){const[o,a]=$d(this._automationEvents,r,i,s,this._defaultValue);return Hd(e,o,a,s)}return this._defaultValue}}const Dy=t=>({cancelTime:t,type:"cancelAndHold"}),My=t=>({cancelTime:t,type:"cancelScheduledValues"}),Oy=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),by=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),Ry=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),Iy=()=>new DOMException("","AbortError"),Py=t=>(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)},Fy=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},Vy=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},gr=new WeakSet,Pm=new WeakMap,ih=new WeakMap,Fm=new WeakMap,oh=new WeakMap,hl=new WeakMap,Vm=new WeakMap,sc=new WeakMap,rc=new WeakMap,ic=new WeakMap,jm={construct(){return jm}},jy=t=>{try{const e=new Proxy(t,jm);new e}catch{return!1}return!0},Qd=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Yd=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(Qd);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(Qd)}return[n.join(";"),s]},Xd=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Zd=t=>{if(!jy(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Ly=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{let p=0;return(m,_,w={credentials:"omit"})=>{const f=c.get(m);if(f!==void 0&&f.has(_))return Promise.resolve();const g=u.get(m);if(g!==void 0){const v=g.get(_);if(v!==void 0)return v}const y=i(m),k=y.audioWorklet===void 0?r(_).then(([v,T])=>{const[S,x]=Yd(v,T),D=`${S};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${x}
})})(window,'_AWGS')`;return n(D)}).then(()=>{const v=d._AWGS.pop();if(v===void 0)throw new SyntaxError;s(y.currentTime,y.sampleRate,()=>v(class{},void 0,(T,S)=>{if(T.trim()==="")throw e();const x=rc.get(y);if(x!==void 0){if(x.has(T))throw e();Zd(S),Xd(S.parameterDescriptors),x.set(T,S)}else Zd(S),Xd(S.parameterDescriptors),rc.set(y,new Map([[T,S]]))},y.sampleRate,void 0,void 0))}):Promise.all([r(_),Promise.resolve(t(h,h))]).then(([[v,T],S])=>{const x=p+1;p=x;const[D,N]=Yd(v,T),F=`${D};((AudioWorkletProcessor,registerProcessor)=>{${N}
})(${S?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${S?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${S?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${x}',class extends AudioWorkletProcessor{process(){return !1}})`,G=new Blob([F],{type:"application/javascript; charset=utf-8"}),L=URL.createObjectURL(G);return y.audioWorklet.addModule(L,w).then(()=>{if(a(y))return y;const B=o(y);return B.audioWorklet.addModule(L,w).then(()=>B)}).then(B=>{if(l===null)throw new SyntaxError;try{new l(B,`__sac${x}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(L))});return g===void 0?u.set(m,new Map([[_,k]])):g.set(_,k),k.then(()=>{const v=c.get(m);v===void 0?c.set(m,new Set([_])):v.add(_)}).finally(()=>{const v=u.get(m);v!==void 0&&v.delete(_)}),k}},Ut=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},dl=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},Lm=(t,e,n,s)=>{const r=Ut(t,e),i=dl(r,o=>o[0]===n&&o[1]===s);return r.size===0&&t.delete(e),i},Yi=t=>Ut(Vm,t),_r=t=>{if(gr.has(t))throw new Error("The AudioNode is already stored.");gr.add(t),Yi(t).forEach(e=>e(!0))},qm=t=>"port"in t,Xi=t=>{if(!gr.has(t))throw new Error("The AudioNode is not stored.");gr.delete(t),Yi(t).forEach(e=>e(!1))},oc=(t,e)=>{!qm(t)&&e.every(n=>n.size===0)&&Xi(t)},qy=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{const p=new WeakMap;return(m,_,w,f,g)=>{const{activeInputs:y,passiveInputs:k}=i(_),{outputs:v}=i(m),T=a(m),S=x=>{const D=l(_),N=l(m);if(x){const A=Lm(k,m,w,f);t(y,m,A,!1),!g&&!h(m)&&n(N,D,w,f),d(_)&&_r(_)}else{const A=s(y,m,w,f);e(k,f,A,!1),!g&&!h(m)&&r(N,D,w,f);const E=o(_);if(E===0)c(_)&&oc(_,y);else{const I=p.get(_);I!==void 0&&clearTimeout(I),p.set(_,setTimeout(()=>{c(_)&&oc(_,y)},E*1e3))}}};return u(v,[_,w,f],x=>x[0]===_&&x[1]===w&&x[2]===f,!0)?(T.add(S),c(m)?t(y,m,[w,f,S],!0):e(k,f,[m,w,S],!0),!0):!1}},zy=t=>(e,n,[s,r,i],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],l=>l[0]===r&&l[1]===n,o)},Wy=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},By=t=>(e,n)=>{t(e).add(n)},Uy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},$y=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...Uy,...l},h=s(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Ze=(t,e)=>t.context===e,Gy=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},ma=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},on=()=>new DOMException("","IndexSizeError"),ah=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?on():s}})(t.getChannelData)},Hy={numberOfChannels:1},Qy=(t,e,n,s,r,i,o,a)=>{let l=null;return class zm{constructor(c){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:p}={...Hy,...c};l===null&&(l=new r(1,1,44100));const m=s!==null&&e(i,i)?new s({length:h,numberOfChannels:d,sampleRate:p}):l.createBuffer(d,h,p);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(o(m),ah(m)):e(ma,()=>ma(m))||a(m),t.add(m),m}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===zm.prototype||t.has(c)}}},at=-34028234663852886e22,Je=-at,yn=t=>gr.has(t),Yy={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Xy=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...Yy,...c},p=r(h,d),m=o(h),_=m?e():null;super(u,!1,p,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,m,p.playbackRate,Je,at)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){_r(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),yn(this)&&Xi(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},Zy=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Ze(h,c);if(!d){const p={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,p),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await s(c,u.playbackRate,h.playbackRate),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},Ky=t=>"playbackRate"in t,Jy=t=>"frequency"in t&&"gain"in t,ev=t=>"offset"in t,tv=t=>!("frequency"in t)&&"gain"in t,nv=t=>"detune"in t&&"frequency"in t&&!("gain"in t),sv=t=>"pan"in t,et=t=>Ut(Pm,t),Zi=t=>Ut(Fm,t),ac=(t,e)=>{const{activeInputs:n}=et(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||ac(i,[...e,t])}));const s=Ky(t)?[t.playbackRate]:qm(t)?Array.from(t.parameters.values()):Jy(t)?[t.Q,t.detune,t.frequency,t.gain]:ev(t)?[t.offset]:tv(t)?[t.gain]:nv(t)?[t.detune,t.frequency]:sv(t)?[t.pan]:[];for(const r of s){const i=Zi(r);i!==void 0&&i.activeInputs.forEach(([o])=>ac(o,e))}yn(t)&&Xi(t)},Wm=t=>{ac(t.destination,[])},rv=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),iv=(t,e,n,s,r,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(h===null)throw s();if(!rv(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:p}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/p:d==="interactive"||d===void 0?256/p:d==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(d*p/128)))*128/p,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",m)};h.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Wm(this)}))}createMediaElementSource(c){return new r(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},ov=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),p=r(h,c,d),m=d?e(a):null;super(u,!1,p,m),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},av=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},lv=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const v=new Float32Array(1),T=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),S=o(u);let x=!1,D=[0,0,-1,0,1,0],N=[0,0,0];const A=()=>{if(x)return;x=!0;const G=s(u,256,9,0);G.onaudioprocess=({inputBuffer:L})=>{const B=[i(L,v,0),i(L,v,1),i(L,v,2),i(L,v,3),i(L,v,4),i(L,v,5)];B.some((b,P)=>b!==D[P])&&(c.setOrientation(...B),D=B);const O=[i(L,v,6),i(L,v,7),i(L,v,8)];O.some((b,P)=>b!==N[P])&&(c.setPosition(...O),N=O)},T.connect(G)},E=G=>L=>{L!==D[G]&&(D[G]=L,c.setOrientation(...D))},I=G=>L=>{L!==N[G]&&(N[G]=L,c.setPosition(...N))},F=(G,L,B)=>{const O=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:L});O.connect(T,0,G),O.start(),Object.defineProperty(O.offset,"defaultValue",{get(){return L}});const b=t({context:l},S,O.offset,Je,at);return a(b,"value",P=>()=>P.call(b),P=>j=>{try{P.call(b,j)}catch(Y){if(Y.code!==9)throw Y}A(),S&&B(j)}),b.cancelAndHoldAtTime=(P=>S?()=>{throw r()}:(...j)=>{const Y=P.apply(b,j);return A(),Y})(b.cancelAndHoldAtTime),b.cancelScheduledValues=(P=>S?()=>{throw r()}:(...j)=>{const Y=P.apply(b,j);return A(),Y})(b.cancelScheduledValues),b.exponentialRampToValueAtTime=(P=>S?()=>{throw r()}:(...j)=>{const Y=P.apply(b,j);return A(),Y})(b.exponentialRampToValueAtTime),b.linearRampToValueAtTime=(P=>S?()=>{throw r()}:(...j)=>{const Y=P.apply(b,j);return A(),Y})(b.linearRampToValueAtTime),b.setTargetAtTime=(P=>S?()=>{throw r()}:(...j)=>{const Y=P.apply(b,j);return A(),Y})(b.setTargetAtTime),b.setValueAtTime=(P=>S?()=>{throw r()}:(...j)=>{const Y=P.apply(b,j);return A(),Y})(b.setValueAtTime),b.setValueCurveAtTime=(P=>S?()=>{throw r()}:(...j)=>{const Y=P.apply(b,j);return A(),Y})(b.setValueCurveAtTime),b};return{forwardX:F(0,0,E(0)),forwardY:F(1,0,E(1)),forwardZ:F(2,-1,E(2)),positionX:F(6,0,I(0)),positionY:F(7,0,I(1)),positionZ:F(8,0,I(2)),upX:F(3,0,E(3)),upY:F(4,1,E(4)),upZ:F(5,0,E(5))}},{forwardX:d,forwardY:p,forwardZ:m,positionX:_,positionY:w,positionZ:f,upX:g,upY:y,upZ:k}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return p},get forwardZ(){return m},get positionX(){return _},get positionY(){return w},get positionZ(){return f},get upX(){return g},get upY(){return y},get upZ(){return k}}},ga=t=>"context"in t,Ki=t=>ga(t[0]),bs=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Kd=(t,e,[n,s],r)=>{bs(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},Jd=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):bs(i,[n,s],o=>o[0]===n,r)},Mr=t=>"inputs"in t,_a=(t,e,n,s)=>{if(Mr(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},Bm=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},uv=(t,e,n)=>dl(t,s=>s[0]===e&&s[1]===n),Um=(t,e)=>{if(!Yi(t).delete(e))throw new Error("Missing the expected event listener.")},$m=(t,e,n)=>{const s=Ut(t,e),r=dl(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},ya=(t,e,n,s)=>{Mr(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},_e=t=>Ut(ih,t),Ti=t=>Ut(oh,t),Ns=t=>sc.has(t),zo=t=>!gr.has(t),ef=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),tu=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},va=t=>"context"in t,cv=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=va(s)?n(s,r,i):n(s,r),a=e.get(s);return a===void 0?e.set(s,[{input:i,output:r}]):a.every(l=>l.input!==i||l.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==s);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(s))if(r===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(l=>l.output!==r&&(l.input!==i||i===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(l=>{va(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},hv=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Zi(e),{outputs:o}=et(t),a=Yi(t),l=u=>{const c=_e(t),h=Ti(e);if(u){const d=$m(i,t,n);Kd(r,t,d,!1),!s&&!Ns(t)&&c.connect(h,n)}else{const d=uv(r,t,n);Jd(i,d,!1),!s&&!Ns(t)&&c.disconnect(h,n)}};return bs(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),yn(t)?Kd(r,t,[n,l],!0):Jd(i,[t,n,l],!0),!0):!1},dv=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=et(e),o=Bm(r[s],t,n);return o===null?[Lm(i,t,n,s)[2],!1]:[o[2],!0]},fv=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Zi(e),i=Bm(s,t,n);return i===null?[$m(r,t,n)[1],!1]:[i[2],!0]},lh=(t,e,n,s,r)=>{const[i,o]=dv(t,n,s,r);if(i!==null&&(Um(t,i),o&&!e&&!Ns(t)&&ya(_e(t),_e(n),s,r)),yn(n)){const{activeInputs:a}=et(n);oc(n,a)}},uh=(t,e,n,s)=>{const[r,i]=fv(t,n,s);r!==null&&(Um(t,r),i&&!e&&!Ns(t)&&_e(t).disconnect(Ti(n),s))},pv=(t,e)=>{const n=et(t),s=[];for(const r of n.outputs)Ki(r)?lh(t,e,...r):uh(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},mv=(t,e,n)=>{const s=et(t),r=[];for(const i of s.outputs)i[1]===n&&(Ki(i)?lh(t,e,...i):uh(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},gv=(t,e,n,s,r)=>{const i=et(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(s===void 0||o[1]===s)&&(r===void 0||o[2]===r)).map(o=>(Ki(o)?lh(t,e,...o):uh(t,e,...o),i.outputs.delete(o),o[0]))},_v=(t,e,n,s,r,i,o,a,l,u,c,h,d,p,m,_)=>class extends u{constructor(f,g,y,k){super(y),this._context=f,this._nativeAudioNode=y;const v=c(f);h(v)&&n(ef,()=>ef(v,_))!==!0&&cv(y),ih.set(this,y),Vm.set(this,new Set),f.state!=="closed"&&g&&_r(this),t(this,k,y)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,g=0,y=0){if(g<0||g>=this._nativeAudioNode.numberOfOutputs)throw r();const k=c(this._context),v=m(k);if(d(f)||p(f))throw i();if(ga(f)){const x=_e(f);try{const N=_a(this._nativeAudioNode,x,g,y),A=zo(this);(v||A)&&this._nativeAudioNode.disconnect(...N),this.context.state!=="closed"&&!A&&zo(f)&&_r(f)}catch(N){throw N.code===12?i():N}if(e(this,f,g,y,v)){const N=l([this],f);tu(N,s(v))}return f}const T=Ti(f);if(T.name==="playbackRate"&&T.maxValue===1024)throw o();try{this._nativeAudioNode.connect(T,g),(v||zo(this))&&this._nativeAudioNode.disconnect(T,g)}catch(x){throw x.code===12?i():x}if(hv(this,f,g,v)){const x=l([this],f);tu(x,s(v))}}disconnect(f,g,y){let k;const v=c(this._context),T=m(v);if(f===void 0)k=pv(this,T);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw r();k=mv(this,T,f)}else{if(g!==void 0&&(g<0||g>=this.numberOfOutputs)||ga(f)&&y!==void 0&&(y<0||y>=f.numberOfInputs))throw r();if(k=gv(this,T,f,g,y),k.length===0)throw i()}for(const S of k){const x=l([this],S);tu(x,a)}}},yv=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(p,m,_,w=null,f=null)=>{const g=_.value,y=new Ay(g),k=m?s(y):null,v={get defaultValue(){return g},get maxValue(){return w===null?_.maxValue:w},get minValue(){return f===null?_.minValue:f},get value(){return _.value},set value(T){_.value=T,v.setValueAtTime(T,p.context.currentTime)},cancelAndHoldAtTime(T){if(typeof _.cancelAndHoldAtTime=="function")k===null&&y.flush(p.context.currentTime),y.add(r(T)),_.cancelAndHoldAtTime(T);else{const S=Array.from(y).pop();k===null&&y.flush(p.context.currentTime),y.add(r(T));const x=Array.from(y).pop();_.cancelScheduledValues(T),S!==x&&x!==void 0&&(x.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(x.value,x.endTime):x.type==="linearRampToValue"?_.linearRampToValueAtTime(x.value,x.endTime):x.type==="setValue"?_.setValueAtTime(x.value,x.startTime):x.type==="setValueCurve"&&_.setValueCurveAtTime(x.values,x.startTime,x.duration))}return v},cancelScheduledValues(T){return k===null&&y.flush(p.context.currentTime),y.add(i(T)),_.cancelScheduledValues(T),v},exponentialRampToValueAtTime(T,S){if(T===0)throw new RangeError;if(!Number.isFinite(S)||S<0)throw new RangeError;const x=p.context.currentTime;return k===null&&y.flush(x),Array.from(y).length===0&&(y.add(u(g,x)),_.setValueAtTime(g,x)),y.add(o(T,S)),_.exponentialRampToValueAtTime(T,S),v},linearRampToValueAtTime(T,S){const x=p.context.currentTime;return k===null&&y.flush(x),Array.from(y).length===0&&(y.add(u(g,x)),_.setValueAtTime(g,x)),y.add(a(T,S)),_.linearRampToValueAtTime(T,S),v},setTargetAtTime(T,S,x){return k===null&&y.flush(p.context.currentTime),y.add(l(T,S,x)),_.setTargetAtTime(T,S,x),v},setValueAtTime(T,S){return k===null&&y.flush(p.context.currentTime),y.add(u(T,S)),_.setValueAtTime(T,S),v},setValueCurveAtTime(T,S,x){const D=T instanceof Float32Array?T:new Float32Array(T);if(h!==null&&h.name==="webkitAudioContext"){const N=S+x,A=p.context.sampleRate,E=Math.ceil(S*A),I=Math.floor(N*A),F=I-E,G=new Float32Array(F);for(let B=0;B<F;B+=1){const O=(D.length-1)/x*((E+B)/A-S),b=Math.floor(O),P=Math.ceil(O);G[B]=b===P?D[b]:(1-(O-b))*D[b]+(1-(P-O))*D[P]}k===null&&y.flush(p.context.currentTime),y.add(c(G,S,x)),_.setValueCurveAtTime(G,S,x);const L=I/A;L<N&&d(v,G[G.length-1],L),d(v,D[D.length-1],N)}else k===null&&y.flush(p.context.currentTime),y.add(c(D,S,x)),_.setValueCurveAtTime(D,S,x);return v}};return n.set(v,_),e.set(v,p),t(v,k),v},vv=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class Gm{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const wv={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},xv=(t,e,n,s,r,i,o,a,l,u,c,h,d,p)=>class extends e{constructor(_,w,f){var g;const y=a(_),k=l(y),v=c({...wv,...f});d(v);const T=rc.get(y),S=T==null?void 0:T.get(w),x=k||y.state!=="closed"?y:(g=o(y))!==null&&g!==void 0?g:y,D=r(x,k?null:_.baseLatency,u,w,S,v),N=k?s(w,v,S):null;super(_,!0,D,N);const A=[];D.parameters.forEach((I,F)=>{const G=n(this,k,I);A.push([F,G])}),this._nativeAudioWorkletNode=D,this._onprocessorerror=null,this._parameters=new Gm(A),k&&t(y,this);const{activeInputs:E}=i(this);h(D,E)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const w=typeof _=="function"?p(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=w;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===w?_:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function wa(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const Hm=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},xa=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},Sv=(t,e)=>{const n=Ut(ic,t),s=_e(e);return Ut(n,s)},kv=async(t,e,n,s,r,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=s.channelCount*s.numberOfInputs,u=r.reduce((w,f)=>w+f,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=et(t),d=await Sv(n,t),p=xa(s.numberOfInputs,s.channelCount),m=xa(s.numberOfOutputs,r),_=Array.from(t.parameters.keys()).reduce((w,f)=>({...w,[f]:new Float32Array(128)}),{});for(let w=0;w<a;w+=128){if(s.numberOfInputs>0&&e!==null)for(let f=0;f<s.numberOfInputs;f+=1)for(let g=0;g<s.channelCount;g+=1)wa(e,p[f],g,g,w);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},g)=>{wa(e,_,f,l+g,w)});for(let f=0;f<s.numberOfInputs;f+=1)for(let g=0;g<r[f];g+=1)m[f][g].byteLength===0&&(m[f][g]=new Float32Array(128));try{const f=p.map((y,k)=>h.activeInputs[k].size===0?[]:y),g=o(w/n.sampleRate,n.sampleRate,()=>d.process(f,m,_));if(c!==null)for(let y=0,k=0;y<s.numberOfOutputs;y+=1){for(let v=0;v<r[y];v+=1)Hm(c,m[y],v,k+v,w);k+=r[y]}if(!g)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return c},Tv=(t,e,n,s,r,i,o,a,l,u,c,h,d,p,m,_)=>(w,f,g)=>{const y=new WeakMap;let k=null;const v=async(T,S)=>{let x=c(T),D=null;const N=Ze(x,S),A=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(h===null){const E=A.reduce((L,B)=>L+B,0),I=r(S,{channelCount:Math.max(1,E),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,E)}),F=[];for(let L=0;L<T.numberOfOutputs;L+=1)F.push(s(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:A[L]}));const G=o(S,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});G.connect=e.bind(null,F),G.disconnect=l.bind(null,F),D=[I,F,G]}else N||(x=new h(S,w));if(y.set(S,D===null?x:D[2]),D!==null){if(k===null){if(g===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const B=T.channelCount*T.numberOfInputs,O=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length,b=B+O;k=kv(T,b===0?null:await(async()=>{const j=new d(b,Math.ceil(T.context.length/128)*128,S.sampleRate),Y=[],Re=[];for(let ie=0;ie<f.numberOfInputs;ie+=1)Y.push(o(j,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),Re.push(r(j,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const de=await Promise.all(Array.from(T.parameters.values()).map(async ie=>{const Ce=i(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ie.value});return await p(j,ie,Ce.offset),Ce})),K=s(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,B+O)});for(let ie=0;ie<f.numberOfInputs;ie+=1){Y[ie].connect(Re[ie]);for(let Ce=0;Ce<f.channelCount;Ce+=1)Re[ie].connect(K,Ce,ie*f.channelCount+Ce)}for(const[ie,Ce]of de.entries())Ce.connect(K,0,B+ie),Ce.start(0);return K.connect(j.destination),await Promise.all(Y.map(ie=>m(T,j,ie))),_(j)})(),S,f,A,g,u)}const E=await k,I=n(S,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[F,G,L]=D;E!==null&&(I.buffer=E,I.start(0)),I.connect(F);for(let B=0,O=0;B<T.numberOfOutputs;B+=1){const b=G[B];for(let P=0;P<A[B];P+=1)F.connect(b,O+P,P);O+=A[B]}return L}if(N)for(const[E,I]of T.parameters.entries())await t(S,I,x.parameters.get(E));else for(const[E,I]of T.parameters.entries())await p(S,I,x.parameters.get(E));return await m(T,S,x),x};return{render(T,S){a(S,T);const x=y.get(S);return x!==void 0?Promise.resolve(x):v(T,S)}}},Cv=(t,e,n,s,r,i,o,a,l,u,c,h,d,p,m,_,w,f,g,y)=>class extends m{constructor(v,T){super(v,T),this._nativeContext=v,this._audioWorklet=t===void 0?void 0:{addModule:(S,x)=>t(this,S,x)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(v,T,S){return new n({length:T,numberOfChannels:v,sampleRate:S})}createBufferSource(){return new s(this)}createChannelMerger(v=6){return new i(this,{numberOfInputs:v})}createChannelSplitter(v=6){return new o(this,{numberOfOutputs:v})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(v=1){return new c(this,{maxDelayTime:v})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(v,T){return new p(this,{feedback:T,feedforward:v})}createOscillator(){return new _(this)}createPanner(){return new w(this)}createPeriodicWave(v,T,S={disableNormalization:!1}){return new f(this,{...S,imag:T,real:v})}createStereoPanner(){return new g(this)}createWaveShaper(){return new y(this)}decodeAudioData(v,T,S){return u(this._nativeContext,v).then(x=>(typeof T=="function"&&T(x),x),x=>{throw typeof S=="function"&&S(x),x})}},Nv={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Ev=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...Nv,...c},p=r(h,d),m=o(h),_=m?n():null;super(u,!1,p,_),this._Q=e(this,m,p.Q,Je,at),this._detune=e(this,m,p.detune,1200*Math.log2(Je),-1200*Math.log2(Je)),this._frequency=e(this,m,p.frequency,u.sampleRate/2,0),this._gain=e(this,m,p.gain,40*Math.log10(Je),at),this._nativeBiquadFilterNode=p,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?s():d}if(u.length!==c.length||c.length!==h.length)throw s()}},Av=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await s(l,a.Q,u.Q),await s(l,a.detune,u.detune),await s(l,a.frequency,u.frequency),await s(l,a.gain,u.gain)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Dv=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},Mv={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Ov=(t,e,n,s,r)=>class extends t{constructor(o,a){const l=s(o),u={...Mv,...a},c=n(l,u),h=r(l)?e():null;super(o,!1,c,h)}},bv=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Rv={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Iv=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=i({...Rv,...l}),h=n(u,c),d=r(u)?e():null;super(a,!1,h,d)}},Pv=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Fv=t=>(e,n,s)=>t(n,e,s),Vv=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return va(n)?i.connect(n,0,r):i.connect(n,0)},jv=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},Lv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},qv=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Lv,...u},d=s(c,h),p=i(c),m=p?n():null;super(l,!1,d,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=d,this._offset=e(this,p,d.offset,Je,at),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){_r(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),yn(this)&&Xi(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},zv=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Ze(h,c);if(!d){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,p),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await s(c,u.offset,h.offset),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},Wv=t=>e=>(t[0]=e,t[0]),Bv={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Uv=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c={...Bv,...l},h=n(u,c),p=r(u)?e():null;super(a,!1,h,p),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},$v=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return s.set(o,a),Mr(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Gv=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},Hv=()=>new DOMException("","DataCloneError"),tf=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},Qv=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const p=o(h)?h:i(h);if(r.has(d)){const m=n();return Promise.reject(m)}try{r.add(d)}catch{}return e(l,()=>l(p))?p.decodeAudioData(d).then(m=>(tf(d).catch(()=>{}),e(a,()=>a(m))||c(m),t.add(m),m)):new Promise((m,_)=>{const w=async()=>{try{await tf(d)}catch{}},f=g=>{_(g),w()};try{p.decodeAudioData(d,g=>{typeof g.copyFromChannel!="function"&&(u(g),ah(g)),t.add(g),w().then(()=>m(g))},g=>{f(g===null?s():g)})}catch(g){f(g)}})},Yv=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const p=s(l),{outputs:m}=n(l);for(const _ of m)if(Ki(_)){const w=s(_[0]);t(p,w,_[1],_[2])}else{const w=r(_[0]);p.connect(w,_[1])}}}else e.set(l,c-u)},Xv={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Zv=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Xv,...u},d=s(c,h),p=i(c),m=p?n(h.maxDelayTime):null;super(l,!1,d,m),this._delayTime=e(this,p,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},Kv=(t,e,n,s,r)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=Ze(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await s(u,l.delayTime,c.delayTime),await r(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},Jv=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),e1=t=>(e,n)=>{t(e).delete(n)},t1=t=>"delayTime"in t,n1=(t,e,n)=>function s(r,i){const o=ga(i)?i:n(t,i);if(t1(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>s([...r,o],l[0])).reduce((l,u)=>l.concat(u),[])},No=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},s1=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?No(t,e,n).disconnect():va(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?No(t,e,s).disconnect(n,0):No(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):No(t,e,s).disconnect(n,0),r1={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},i1=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...r1,...c},p=s(h,d),m=o(h),_=m?n():null;super(u,!1,p,_),this._attack=e(this,m,p.attack),this._knee=e(this,m,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=e(this,m,p.ratio),this._release=e(this,m,p.release),this._threshold=e(this,m,p.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},o1=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await s(l,a.attack,u.attack),await s(l,a.knee,u.knee),await s(l,a.ratio,u.ratio),await s(l,a.release,u.release),await s(l,a.threshold,u.threshold)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},a1=()=>new DOMException("","EncodingError"),l1=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,p,m)=>{if(h===a||h===t.location.href&&d===1&&p===1)return u(),s(m),!1;if(l!==null)return l(c,h,d,p,m)},i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",r.appendChild(i)}}),u1=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},c1=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},h1=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},d1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},f1=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...d1,...l},h=s(u,c),d=i(u),p=d?n():null;super(a,!1,h,p),this._gain=e(this,d,h.gain,Je,at)}get gain(){return this._gain}},p1=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await s(l,a.gain,u.gain),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},m1=(t,e)=>n=>e(t,n),g1=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},_1=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},y1=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},v1=t=>e=>t.get(e),ze=()=>new DOMException("","InvalidStateError"),w1=t=>e=>{const n=t.get(e);if(n===void 0)throw ze();return n},x1=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},S1=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},fl=()=>new DOMException("","InvalidAccessError"),k1=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw fl();return e.call(t,n,s,r)})(t.getFrequencyResponse)},T1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},C1=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=r(u),h={...T1,...l},d=e(u,c?null:a.baseLatency,h),p=c?n(h.feedback,h.feedforward):null;super(a,!1,d,p),k1(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},Qm=(t,e,n,s,r,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let p=0;p<h;p+=1){let m=n[0]*u[p];for(let _=1;_<r;_+=1){const w=d-_&l-1;m+=n[_]*i[w],m-=t[_]*o[w]}for(let _=r;_<s;_+=1)m+=n[_]*i[d-_&l-1];for(let _=r;_<e;_+=1)m-=t[_]*o[d-_&l-1];i[d]=u[p],o[d]=m,d=d+1&l-1,c[p]=m}return d},N1=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(r[0]!==1){for(let m=0;m<o;m+=1)i[m]/=r[0];for(let m=1;m<a;m+=1)r[m]/=r[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let m=0;m<p;m+=1){const _=t.getChannelData(m),w=d.getChannelData(m);c.fill(0),h.fill(0),Qm(r,o,i,a,l,c,h,0,u,_,w)}return d},E1=(t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,p=e(c);const m=Ze(p,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(p=h.createIIRFilter(o,i)),a.set(h,d===null?p:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await s(c,w,w.destination);const f=await r(w);return N1(f,h,i,o)})()}const _=await l;return d.buffer=_,d.start(0),d}return await s(c,h,p),p};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},A1=(t,e,n,s,r,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=s(a),{outputs:h}=n(a);for(const d of h)if(Ki(d)){const p=s(d[0]);e(c,p,d[1],d[2])}else{const p=r(d[0]);c.disconnect(p,d[1])}}t.set(a,l)}else t.set(a,u+l)},D1=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},M1=(t,e)=>n=>t.has(n)||e(n),O1=(t,e)=>n=>t.has(n)||e(n),b1=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},R1=t=>e=>t!==null&&e instanceof t,I1=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,P1=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,F1=(t,e)=>n=>t(n)||e(n),V1=t=>e=>t!==null&&e instanceof t,j1=t=>t!==null&&t.isSecureContext,L1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},q1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},z1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const l={...q1,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},W1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},B1=(t,e,n)=>class extends t{constructor(r,i){const o=n(r),a=e(o,i);super(r,!0,a,null)}},U1=(t,e,n,s,r,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,hl.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Ci=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},$1=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&s(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&s()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&r()})(n.disconnect),n},ve=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},Ve=(t,e)=>{ve(t,e,"channelCount"),ve(t,e,"channelCountMode"),ve(t,e,"channelInterpretation")},nf=t=>typeof t.getFloatTimeDomainData=="function",G1=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},H1=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(Ve(r,s),!(s.maxDecibels>s.minDecibels))throw e();return ve(r,s,"fftSize"),ve(r,s,"maxDecibels"),ve(r,s,"minDecibels"),ve(r,s,"smoothingTimeConstant"),t(nf,()=>nf(r))||G1(r),r},Q1=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Ee=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},Y1=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw ze();e.call(t,s,r,i),n=!0}})(t.start)},ch=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},hh=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},X1=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const p=h.createBufferSource();return Ve(p,d),Ee(p,d,"playbackRate"),ve(p,d,"buffer"),ve(p,d,"loop"),ve(p,d,"loopEnd"),ve(p,d,"loopStart"),e(n,()=>n(h))||Y1(p),e(s,()=>s(h))||l(p),e(r,()=>r(h))||u(p,h),e(i,()=>i(h))||ch(p),e(o,()=>o(h))||c(p,h),e(a,()=>a(h))||hh(p),t(h,p),p},Z1=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,K1=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},J1=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,ew=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},tw=(t,e,n,s,r)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let p=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>p,set:m=>{typeof p=="function"&&h.removeEventListener("processorerror",p),p=typeof m=="function"?m:null,typeof p=="function"&&h.addEventListener("processorerror",p)}}}),h.addEventListener=(m=>(..._)=>{if(_[0]==="processorerror"){const w=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(w!==null){const f=d.get(_[1]);f!==void 0?_[1]=f:(_[1]=g=>{g.type==="error"?(Object.defineProperties(g,{type:{value:"processorerror"}}),w(g)):w(new ErrorEvent(_[0],{...g}))},d.set(w,_[1]))}}return m.call(h,"error",_[1],_[2]),m.call(h,..._)})(h.addEventListener),h.removeEventListener=(m=>(..._)=>{if(_[0]==="processorerror"){const w=d.get(_[1]);w!==void 0&&(d.delete(_[1]),_[1]=w)}return m.call(h,"error",_[1],_[2]),m.call(h,_[0],_[1],_[2])})(h.removeEventListener),c.numberOfOutputs!==0){const m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(m).connect(i.destination),r(h,()=>m.disconnect(),()=>m.connect(i.destination))}return h}catch(h){throw h.code===11?s():h}if(u===void 0)throw s();return ew(c),e(i,o,u,c)},Ym=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),nw=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),sw=async(t,e)=>{const n=await nw(e);return new t(n)},rw=(t,e,n,s)=>{let r=ic.get(t);r===void 0&&(r=new WeakMap,ic.set(t,r));const i=sw(n,s);return r.set(e,i),i},iw=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(p,m,_,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw l();const f=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(f.some(q=>q<1))throw l();if(f.length!==w.numberOfOutputs)throw e();if(w.channelCountMode!=="explicit")throw l();const g=w.channelCount*w.numberOfInputs,y=f.reduce((q,X)=>q+X,0),k=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(g+k>6||y>6)throw l();const v=new MessageChannel,T=[],S=[];for(let q=0;q<w.numberOfInputs;q+=1)T.push(o(p,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),S.push(r(p,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const x=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:q,maxValue:X,minValue:V,name:U}of _.parameterDescriptors){const $=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[U]!==void 0?w.parameterData[U]:q===void 0?0:q});Object.defineProperties($.offset,{defaultValue:{get:()=>q===void 0?0:q},maxValue:{get:()=>X===void 0?Je:X},minValue:{get:()=>V===void 0?at:V}}),x.push($)}const D=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,g+k)}),N=Ym(m,p.sampleRate),A=a(p,N,g+k,Math.max(1,y)),E=r(p,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),I=[];for(let q=0;q<w.numberOfOutputs;q+=1)I.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[q]}));for(let q=0;q<w.numberOfInputs;q+=1){T[q].connect(S[q]);for(let X=0;X<w.channelCount;X+=1)S[q].connect(D,X,q*w.channelCount+X)}const F=new Gm(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:q},X)=>{const V=x[X];return V.connect(D,0,g+X),V.start(0),[q,V.offset]}));D.connect(A);let G=w.channelInterpretation,L=null;const B=w.numberOfOutputs===0?[A]:I,O={get bufferSize(){return N},get channelCount(){return w.channelCount},set channelCount(q){throw n()},get channelCountMode(){return w.channelCountMode},set channelCountMode(q){throw n()},get channelInterpretation(){return G},set channelInterpretation(q){for(const X of T)X.channelInterpretation=q;G=q},get context(){return A.context},get inputs(){return T},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return L},set onprocessorerror(q){typeof L=="function"&&O.removeEventListener("processorerror",L),L=typeof q=="function"?q:null,typeof L=="function"&&O.addEventListener("processorerror",L)},get parameters(){return F},get port(){return v.port2},addEventListener(...q){return A.addEventListener(q[0],q[1],q[2])},connect:t.bind(null,B),disconnect:u.bind(null,B),dispatchEvent(...q){return A.dispatchEvent(q[0])},removeEventListener(...q){return A.removeEventListener(q[0],q[1],q[2])}},b=new Map;v.port1.addEventListener=(q=>(...X)=>{if(X[0]==="message"){const V=typeof X[1]=="function"?X[1]:typeof X[1]=="object"&&X[1]!==null&&typeof X[1].handleEvent=="function"?X[1].handleEvent:null;if(V!==null){const U=b.get(X[1]);U!==void 0?X[1]=U:(X[1]=$=>{c(p.currentTime,p.sampleRate,()=>V($))},b.set(V,X[1]))}}return q.call(v.port1,X[0],X[1],X[2])})(v.port1.addEventListener),v.port1.removeEventListener=(q=>(...X)=>{if(X[0]==="message"){const V=b.get(X[1]);V!==void 0&&(b.delete(X[1]),X[1]=V)}return q.call(v.port1,X[0],X[1],X[2])})(v.port1.removeEventListener);let P=null;Object.defineProperty(v.port1,"onmessage",{get:()=>P,set:q=>{typeof P=="function"&&v.port1.removeEventListener("message",P),P=typeof q=="function"?q:null,typeof P=="function"&&(v.port1.addEventListener("message",P),v.port1.start())}}),_.prototype.port=v.port1;let j=null;rw(p,O,_,w).then(q=>j=q);const Re=xa(w.numberOfInputs,w.channelCount),de=xa(w.numberOfOutputs,f),K=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((q,{name:X})=>({...q,[X]:new Float32Array(128)}),{});let ie=!0;const Ce=()=>{w.numberOfOutputs>0&&A.disconnect(E);for(let q=0,X=0;q<w.numberOfOutputs;q+=1){const V=I[q];for(let U=0;U<f[q];U+=1)E.disconnect(V,X+U,U);X+=f[q]}},H=new Map;A.onaudioprocess=({inputBuffer:q,outputBuffer:X})=>{if(j!==null){const V=h(O);for(let U=0;U<N;U+=128){for(let $=0;$<w.numberOfInputs;$+=1)for(let ee=0;ee<w.channelCount;ee+=1)wa(q,Re[$],ee,ee,U);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:$},ee)=>{wa(q,K,$,g+ee,U)});for(let $=0;$<w.numberOfInputs;$+=1)for(let ee=0;ee<f[$];ee+=1)de[$][ee].byteLength===0&&(de[$][ee]=new Float32Array(128));try{const $=Re.map((ae,We)=>{if(V[We].size>0)return H.set(We,N/128),ae;const Pr=H.get(We);return Pr===void 0?[]:(ae.every(Nl=>Nl.every(El=>El===0))&&(Pr===1?H.delete(We):H.set(We,Pr-1)),ae)});ie=c(p.currentTime+U/p.sampleRate,p.sampleRate,()=>j.process($,de,K));for(let ae=0,We=0;ae<w.numberOfOutputs;ae+=1){for(let Tt=0;Tt<f[ae];Tt+=1)Hm(X,de[ae],Tt,We+Tt,U);We+=f[ae]}}catch($){ie=!1,O.dispatchEvent(new ErrorEvent("processorerror",{colno:$.colno,filename:$.filename,lineno:$.lineno,message:$.message}))}if(!ie){for(let $=0;$<w.numberOfInputs;$+=1){T[$].disconnect(S[$]);for(let ee=0;ee<w.channelCount;ee+=1)S[U].disconnect(D,ee,$*w.channelCount+ee)}if(_.parameterDescriptors!==void 0){const $=_.parameterDescriptors.length;for(let ee=0;ee<$;ee+=1){const ae=x[ee];ae.disconnect(D,0,g+ee),ae.stop()}}D.disconnect(A),A.onaudioprocess=null,un?Ce():Rn();break}}}};let un=!1;const Zt=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),bn=()=>A.connect(Zt).connect(p.destination),Rn=()=>{A.disconnect(Zt),Zt.disconnect()},Tl=()=>{if(ie){Rn(),w.numberOfOutputs>0&&A.connect(E);for(let q=0,X=0;q<w.numberOfOutputs;q+=1){const V=I[q];for(let U=0;U<f[q];U+=1)E.connect(V,X+U,U);X+=f[q]}}un=!0},Cl=()=>{ie&&(bn(),Ce()),un=!1};return bn(),d(O,Tl,Cl)},Xm=(t,e)=>{const n=t.createBiquadFilter();return Ve(n,e),Ee(n,e,"Q"),Ee(n,e,"detune"),Ee(n,e,"frequency"),Ee(n,e,"gain"),ve(n,e,"type"),n},ow=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),Ve(r,s),r},aw=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw ze()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw ze()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw ze()}})},Ji=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Ve(n,e),aw(n),n},lw=(t,e,n,s,r)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return Ve(a,o),Ee(a,o,"offset"),e(s,()=>s(i))||ch(a),e(r,()=>r(i))||hh(a),t(i,a),a},Or=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),uw=(t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(m){u.channelCount=m},get channelCountMode(){return u.channelCountMode},set channelCountMode(m){u.channelCountMode=m},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(m){u.channelInterpretation=m},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},d=()=>l.connect(u),p=()=>l.disconnect(u);return t(r,l),s(Or(h,u),d,p)},cw=(t,e)=>(n,s)=>{const r=n.createConvolver();if(Ve(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),ve(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw t();return i.call(r,o)}),r},Zm=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Ve(n,e),Ee(n,e,"delayTime"),n},hw=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Ve(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Ee(s,n,"attack"),Ee(s,n,"knee"),Ee(s,n,"ratio"),Ee(s,n,"release"),Ee(s,n,"threshold"),s},mt=(t,e)=>{const n=t.createGain();return Ve(n,e),Ee(n,e,"gain"),n},dw=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return Ve(r,s),r};function fw(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function pw(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function sf(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=pw(n,e),n[0]+=t[s];return n}const mw=(t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Ym(i,r.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),p=c instanceof Float64Array?c:new Float64Array(c),m=d.length,_=p.length,w=Math.min(m,_);if(m===0||m>20)throw s();if(d[0]===0)throw e();if(_===0||_>20)throw s();if(p[0]===0)throw e();if(d[0]!==1){for(let x=0;x<_;x+=1)p[x]/=d[0];for(let x=1;x<m;x+=1)d[x]/=d[0]}const f=n(r,h,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const g=32,y=[],k=[],v=[];for(let x=0;x<o;x+=1){y.push(0);const D=new Float32Array(g),N=new Float32Array(g);D.fill(0),N.fill(0),k.push(D),v.push(N)}f.onaudioprocess=x=>{const D=x.inputBuffer,N=x.outputBuffer,A=D.numberOfChannels;for(let E=0;E<A;E+=1){const I=D.getChannelData(E),F=N.getChannelData(E);y[E]=Qm(d,m,p,_,w,k[E],v[E],y[E],g,I,F)}};const T=r.sampleRate/2;return Or({get bufferSize(){return h},get channelCount(){return f.channelCount},set channelCount(x){f.channelCount=x},get channelCountMode(){return f.channelCountMode},set channelCountMode(x){f.channelCountMode=x},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(x){f.channelInterpretation=x},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...x){return f.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return f.dispatchEvent(x[0])},getFrequencyResponse(x,D,N){if(x.length!==D.length||D.length!==N.length)throw t();const A=x.length;for(let E=0;E<A;E+=1){const I=-Math.PI*(x[E]/T),F=[Math.cos(I),Math.sin(I)],G=sf(p,F),L=sf(d,F),B=fw(G,L);D[E]=Math.sqrt(B[0]*B[0]+B[1]*B[1]),N[E]=Math.atan2(B[1],B[0])}},removeEventListener(...x){return f.removeEventListener(x[0],x[1],x[2])}},f)},gw=(t,e)=>t.createMediaElementSource(e.mediaElement),_w=(t,e)=>{const n=t.createMediaStreamDestination();return Ve(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},yw=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},vw=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},ww=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,xw=(t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return Ve(l,a),Ee(l,a,"detune"),Ee(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):ve(l,a,"type"),e(n,()=>n(o))||ch(l),e(s,()=>s(o))||i(l,o),e(r,()=>r(o))||hh(l),t(o,l),l},Sw=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(Ve(s,n),Ee(s,n,"orientationX"),Ee(s,n,"orientationY"),Ee(s,n,"orientationZ"),Ee(s,n,"positionX"),Ee(s,n,"positionY"),Ee(s,n,"positionZ"),ve(s,n,"coneInnerAngle"),ve(s,n,"coneOuterAngle"),ve(s,n,"coneOuterGain"),ve(s,n,"distanceModel"),ve(s,n,"maxDistance"),ve(s,n,"panningModel"),ve(s,n,"refDistance"),ve(s,n,"rolloffFactor"),s)},kw=(t,e,n,s,r,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:m,maxDistance:_,orientationX:w,orientationY:f,orientationZ:g,panningModel:y,positionX:k,positionY:v,positionZ:T,refDistance:S,rolloffFactor:x,...D})=>{const N=c.createPanner();if(D.channelCount>2||D.channelCountMode==="max")throw o();Ve(N,D);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(c,{...A,channelInterpretation:"speakers",numberOfInputs:6}),I=s(c,{...D,gain:1}),F=s(c,{...A,gain:1}),G=s(c,{...A,gain:0}),L=s(c,{...A,gain:0}),B=s(c,{...A,gain:0}),O=s(c,{...A,gain:0}),b=s(c,{...A,gain:0}),P=r(c,256,6,1),j=i(c,{...A,curve:new Float32Array([1,1]),oversample:"none"});let Y=[w,f,g],Re=[k,v,T];const de=new Float32Array(1);P.onaudioprocess=({inputBuffer:H})=>{const un=[l(H,de,0),l(H,de,1),l(H,de,2)];un.some((bn,Rn)=>bn!==Y[Rn])&&(N.setOrientation(...un),Y=un);const Zt=[l(H,de,3),l(H,de,4),l(H,de,5)];Zt.some((bn,Rn)=>bn!==Re[Rn])&&(N.setPosition(...Zt),Re=Zt)},Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(b.gain,"defaultValue",{get:()=>0});const K={get bufferSize(){},get channelCount(){return N.channelCount},set channelCount(H){if(H>2)throw o();I.channelCount=H,N.channelCount=H},get channelCountMode(){return N.channelCountMode},set channelCountMode(H){if(H==="max")throw o();I.channelCountMode=H,N.channelCountMode=H},get channelInterpretation(){return N.channelInterpretation},set channelInterpretation(H){I.channelInterpretation=H,N.channelInterpretation=H},get coneInnerAngle(){return N.coneInnerAngle},set coneInnerAngle(H){N.coneInnerAngle=H},get coneOuterAngle(){return N.coneOuterAngle},set coneOuterAngle(H){N.coneOuterAngle=H},get coneOuterGain(){return N.coneOuterGain},set coneOuterGain(H){if(H<0||H>1)throw e();N.coneOuterGain=H},get context(){return N.context},get distanceModel(){return N.distanceModel},set distanceModel(H){N.distanceModel=H},get inputs(){return[I]},get maxDistance(){return N.maxDistance},set maxDistance(H){if(H<0)throw new RangeError;N.maxDistance=H},get numberOfInputs(){return N.numberOfInputs},get numberOfOutputs(){return N.numberOfOutputs},get orientationX(){return F.gain},get orientationY(){return G.gain},get orientationZ(){return L.gain},get panningModel(){return N.panningModel},set panningModel(H){N.panningModel=H},get positionX(){return B.gain},get positionY(){return O.gain},get positionZ(){return b.gain},get refDistance(){return N.refDistance},set refDistance(H){if(H<0)throw new RangeError;N.refDistance=H},get rolloffFactor(){return N.rolloffFactor},set rolloffFactor(H){if(H<0)throw new RangeError;N.rolloffFactor=H},addEventListener(...H){return I.addEventListener(H[0],H[1],H[2])},dispatchEvent(...H){return I.dispatchEvent(H[0])},removeEventListener(...H){return I.removeEventListener(H[0],H[1],H[2])}};h!==K.coneInnerAngle&&(K.coneInnerAngle=h),d!==K.coneOuterAngle&&(K.coneOuterAngle=d),p!==K.coneOuterGain&&(K.coneOuterGain=p),m!==K.distanceModel&&(K.distanceModel=m),_!==K.maxDistance&&(K.maxDistance=_),w!==K.orientationX.value&&(K.orientationX.value=w),f!==K.orientationY.value&&(K.orientationY.value=f),g!==K.orientationZ.value&&(K.orientationZ.value=g),y!==K.panningModel&&(K.panningModel=y),k!==K.positionX.value&&(K.positionX.value=k),v!==K.positionY.value&&(K.positionY.value=v),T!==K.positionZ.value&&(K.positionZ.value=T),S!==K.refDistance&&(K.refDistance=S),x!==K.rolloffFactor&&(K.rolloffFactor=x),(Y[0]!==1||Y[1]!==0||Y[2]!==0)&&N.setOrientation(...Y),(Re[0]!==0||Re[1]!==0||Re[2]!==0)&&N.setPosition(...Re);const ie=()=>{I.connect(N),t(I,j,0,0),j.connect(F).connect(E,0,0),j.connect(G).connect(E,0,1),j.connect(L).connect(E,0,2),j.connect(B).connect(E,0,3),j.connect(O).connect(E,0,4),j.connect(b).connect(E,0,5),E.connect(P).connect(c.destination)},Ce=()=>{I.disconnect(N),a(I,j,0,0),j.disconnect(F),F.disconnect(E),j.disconnect(G),G.disconnect(E),j.disconnect(L),L.disconnect(E),j.disconnect(B),B.disconnect(E),j.disconnect(O),O.disconnect(E),j.disconnect(b),b.disconnect(E),E.disconnect(P),P.disconnect(c.destination)};return u(Or(K,N),ie,Ce)},Tw=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},eo=(t,e,n,s)=>t.createScriptProcessor(e,n,s),Cw=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return Ve(i,s),Ee(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},Nw=(t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(m,_,w,f)=>{const g=new Float32Array(16385),y=new Float32Array(16385);for(let D=0;D<16385;D+=1){const N=D/16384*l;g[D]=Math.cos(N),y[D]=Math.sin(N)}const k=n(m,{...u,gain:0}),v=s(m,{...c,curve:g}),T=s(m,{...c,curve:a}),S=n(m,{...u,gain:0}),x=s(m,{...c,curve:y});return{connectGraph(){_.connect(k),_.connect(T.inputs===void 0?T:T.inputs[0]),_.connect(S),T.connect(w),w.connect(v.inputs===void 0?v:v.inputs[0]),w.connect(x.inputs===void 0?x:x.inputs[0]),v.connect(k.gain),x.connect(S.gain),k.connect(f,0,0),S.connect(f,0,1)},disconnectGraph(){_.disconnect(k),_.disconnect(T.inputs===void 0?T:T.inputs[0]),_.disconnect(S),T.disconnect(w),w.disconnect(v.inputs===void 0?v:v.inputs[0]),w.disconnect(x.inputs===void 0?x:x.inputs[0]),v.disconnect(k.gain),x.disconnect(S.gain),k.disconnect(f,0,0),S.disconnect(f,0,1)}}},d=(m,_,w,f)=>{const g=new Float32Array(16385),y=new Float32Array(16385),k=new Float32Array(16385),v=new Float32Array(16385),T=Math.floor(16385/2);for(let B=0;B<16385;B+=1)if(B>T){const O=(B-T)/(16384-T)*l;g[B]=Math.cos(O),y[B]=Math.sin(O),k[B]=0,v[B]=1}else{const O=B/(16384-T)*l;g[B]=1,y[B]=0,k[B]=Math.cos(O),v[B]=Math.sin(O)}const S=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),x=n(m,{...u,gain:0}),D=s(m,{...c,curve:g}),N=n(m,{...u,gain:0}),A=s(m,{...c,curve:y}),E=s(m,{...c,curve:a}),I=n(m,{...u,gain:0}),F=s(m,{...c,curve:k}),G=n(m,{...u,gain:0}),L=s(m,{...c,curve:v});return{connectGraph(){_.connect(S),_.connect(E.inputs===void 0?E:E.inputs[0]),S.connect(x,0),S.connect(N,0),S.connect(I,1),S.connect(G,1),E.connect(w),w.connect(D.inputs===void 0?D:D.inputs[0]),w.connect(A.inputs===void 0?A:A.inputs[0]),w.connect(F.inputs===void 0?F:F.inputs[0]),w.connect(L.inputs===void 0?L:L.inputs[0]),D.connect(x.gain),A.connect(N.gain),F.connect(I.gain),L.connect(G.gain),x.connect(f,0,0),I.connect(f,0,0),N.connect(f,0,1),G.connect(f,0,1)},disconnectGraph(){_.disconnect(S),_.disconnect(E.inputs===void 0?E:E.inputs[0]),S.disconnect(x,0),S.disconnect(N,0),S.disconnect(I,1),S.disconnect(G,1),E.disconnect(w),w.disconnect(D.inputs===void 0?D:D.inputs[0]),w.disconnect(A.inputs===void 0?A:A.inputs[0]),w.disconnect(F.inputs===void 0?F:F.inputs[0]),w.disconnect(L.inputs===void 0?L:L.inputs[0]),D.disconnect(x.gain),A.disconnect(N.gain),F.disconnect(I.gain),L.disconnect(G.gain),x.disconnect(f,0,0),I.disconnect(f,0,0),N.disconnect(f,0,1),G.disconnect(f,0,1)}}},p=(m,_,w,f,g)=>{if(_===1)return h(m,w,f,g);if(_===2)return d(m,w,f,g);throw r()};return(m,{channelCount:_,channelCountMode:w,pan:f,...g})=>{if(w==="max")throw r();const y=t(m,{...g,channelCount:1,channelCountMode:w,numberOfInputs:2}),k=n(m,{...g,channelCount:_,channelCountMode:w,gain:1}),v=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:T,disconnectGraph:S}=p(m,_,k,v,y);Object.defineProperty(v.gain,"defaultValue",{get:()=>0}),Object.defineProperty(v.gain,"maxValue",{get:()=>1}),Object.defineProperty(v.gain,"minValue",{get:()=>-1});const x={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(E){k.channelCount!==E&&(D&&S(),{connectGraph:T,disconnectGraph:S}=p(m,E,k,v,y),D&&T()),k.channelCount=E},get channelCountMode(){return k.channelCountMode},set channelCountMode(E){if(E==="clamped-max"||E==="max")throw r();k.channelCountMode=E},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(E){k.channelInterpretation=E},get context(){return k.context},get inputs(){return[k]},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get pan(){return v.gain},addEventListener(...E){return k.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return k.dispatchEvent(E[0])},removeEventListener(...E){return k.removeEventListener(E[0],E[1],E[2])}};let D=!1;const N=()=>{T(),D=!0},A=()=>{S(),D=!1};return i(Or(x,y),N,A)}},Ew=(t,e,n,s,r,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);Ve(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();ve(u,{curve:c},"curve"),ve(u,l,"oversample");let h=null,d=!1;return o(u,"curve",_=>()=>_.call(u),_=>w=>(_.call(u,w),d&&(s(w)&&h===null?h=t(a,u):!s(w)&&h!==null&&(h(),h=null)),w)),r(u,()=>{d=!0,s(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},Aw=(t,e,n,s,r)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();Ve(u,l),Ve(c,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),p=n(i,{...l,gain:1}),m=n(i,{...l,gain:-1});let _=null,w=!1,f=null;const g={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(v){h.channelCount=v,d.channelCount=v,u.channelCount=v,p.channelCount=v,c.channelCount=v,m.channelCount=v},get channelCountMode(){return u.channelCountMode},set channelCountMode(v){h.channelCountMode=v,d.channelCountMode=v,u.channelCountMode=v,p.channelCountMode=v,c.channelCountMode=v,m.channelCountMode=v},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(v){h.channelInterpretation=v,d.channelInterpretation=v,u.channelInterpretation=v,p.channelInterpretation=v,c.channelInterpretation=v,m.channelInterpretation=v},get context(){return u.context},get curve(){return f},set curve(v){if(v!==null&&v.length<2)throw e();if(v===null)u.curve=v,c.curve=v;else{const T=v.length,S=new Float32Array(T+2-T%2),x=new Float32Array(T+2-T%2);S[0]=v[0],x[0]=-v[T-1];const D=Math.ceil((T+1)/2),N=(T+1)/2-1;for(let A=1;A<D;A+=1){const E=A/D*N,I=Math.floor(E),F=Math.ceil(E);S[A]=I===F?v[I]:(1-(E-I))*v[I]+(1-(F-E))*v[F],x[A]=I===F?-v[T-1-I]:-((1-(E-I))*v[T-1-I])-(1-(F-E))*v[T-1-F]}S[D]=T%2===1?v[D-1]:(v[D-2]+v[D-1])/2,u.curve=S,c.curve=x}f=v,w&&(s(f)&&_===null?_=t(i,h):_!==null&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(v){u.oversample=v,c.oversample=v},addEventListener(...v){return h.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return h.dispatchEvent(v[0])},removeEventListener(...v){return h.removeEventListener(v[0],v[1],v[2])}};o!==null&&(g.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==g.oversample&&(g.oversample=a);const y=()=>{h.connect(u).connect(p),h.connect(d).connect(c).connect(m).connect(p),w=!0,s(f)&&(_=t(i,h))},k=()=>{h.disconnect(u),u.disconnect(p),h.disconnect(d),d.disconnect(c),c.disconnect(m),m.disconnect(p),w=!1,_!==null&&(_(),_=null)};return r(Or(g,p),y,k)},it=()=>new DOMException("","NotSupportedError"),Dw={numberOfChannels:1},Mw=(t,e,n,s,r)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}={...Dw,...u},p=s(h,c,d);e(Ci,()=>Ci(p))||p.addEventListener("statechange",(()=>{let m=0;const _=w=>{this._state==="running"&&(m>0?(p.removeEventListener("statechange",_),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):m+=1)};return _})()),super(p,h),this._length=c,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Wm(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},Ow={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},bw=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Ow,...u},d=n(c,h),p=i(c),m=p?s():null,_=l.sampleRate/2;super(l,!1,d,m),this._detune=e(this,p,d.detune,153600,-153600),this._frequency=e(this,p,d.frequency,_,-_),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){_r(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),yn(this)&&Xi(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},Rw=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const p=Ze(d,h);if(!p){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,m),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),p?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await s(h,c.detune,d.detune),await s(h,c.frequency,d.frequency)),await r(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},Iw={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Pw=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Iw,...u},d=n(c,h),p=i(c),m=p?s():null;super(l,!1,d,m),this._nativePannerNode=d,this._orientationX=e(this,p,d.orientationX,Je,at),this._orientationY=e(this,p,d.orientationY,Je,at),this._orientationZ=e(this,p,d.orientationZ,Je,at),this._positionX=e(this,p,d.positionX,Je,at),this._positionY=e(this,p,d.positionY,Je,at),this._positionZ=e(this,p,d.positionZ,Je,at),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},Fw=(t,e,n,s,r,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(p,m)=>{let _=null,w=i(p);const f={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},g={...f,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},y=Ze(w,m);if("bufferSize"in w)_=s(m,{...f,gain:1});else if(!y){const k={...g,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=r(m,k)}if(c.set(m,_===null?w:_),_!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const A=new o(6,p.context.length,m.sampleRate),E=e(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});E.connect(A.destination),h=(async()=>{const I=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(F,G)=>{const L=n(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G===0?1:0});return await a(A,F,L.offset),L}));for(let F=0;F<6;F+=1)I[F].connect(E,0,F),I[F].start(0);return u(A)})()}const k=await h,v=s(m,{...f,gain:1});await l(p,m,v);const T=[];for(let A=0;A<k.numberOfChannels;A+=1)T.push(k.getChannelData(A));let S=[T[0][0],T[1][0],T[2][0]],x=[T[3][0],T[4][0],T[5][0]],D=s(m,{...f,gain:1}),N=r(m,{...g,orientationX:S[0],orientationY:S[1],orientationZ:S[2],positionX:x[0],positionY:x[1],positionZ:x[2]});v.connect(D).connect(N.inputs[0]),N.connect(_);for(let A=128;A<k.length;A+=128){const E=[T[0][A],T[1][A],T[2][A]],I=[T[3][A],T[4][A],T[5][A]];if(E.some((F,G)=>F!==S[G])||I.some((F,G)=>F!==x[G])){S=E,x=I;const F=A/m.sampleRate;D.gain.setValueAtTime(0,F),D=s(m,{...f,gain:0}),N=r(m,{...g,orientationX:S[0],orientationY:S[1],orientationZ:S[2],positionX:x[0],positionY:x[1],positionZ:x[2]}),D.gain.setValueAtTime(1,F),v.connect(D).connect(N.inputs[0]),N.connect(_)}}return _}return y?(await t(m,p.orientationX,w.orientationX),await t(m,p.orientationY,w.orientationY),await t(m,p.orientationZ,w.orientationZ),await t(m,p.positionX,w.positionX),await t(m,p.positionY,w.positionY),await t(m,p.positionZ,w.positionZ)):(await a(m,p.orientationX,w.orientationX),await a(m,p.orientationY,w.orientationY),await a(m,p.orientationZ,w.orientationZ),await a(m,p.positionX,w.positionX),await a(m,p.positionY,w.positionY),await a(m,p.positionZ,w.positionZ)),Mr(w)?await l(p,m,w.inputs[0]):await l(p,m,w),w};return{render(p,m){const _=c.get(m);return _!==void 0?Promise.resolve(_):d(p,m)}}},Vw={disableNormalization:!1},jw=(t,e,n,s)=>class Km{constructor(i,o){const a=e(i),l=s({...Vw,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Km.prototype||n.has(i)}},Lw=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),qw=(t,e,n)=>async(s,r,i)=>{const o=t(s);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,r),p=s.context.destination;!n(u)&&(s!==p||!n(s))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},zw=(t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,r);n(a)||c.connect(i,l)}))},Ww=(t,e,n,s)=>r=>t(Ci,()=>Ci(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),Bw=t=>(e,n)=>{t.set(e,n)},Uw=t=>(e,n)=>t.set(e,n),$w=(t,e,n,s,r,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(s(u)).map(c=>n(c).render(c,u)))).then(()=>r(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),ah(c)):e(i,()=>i(c))||a(c),t.add(c),c)),Gw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Hw=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...Gw,...l},h=n(u,c),d=i(u),p=d?s():null;super(a,!1,h,p),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},Qw=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Ze(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await s(l,a.pan,u.pan),Mr(u)?await r(a,l,u.inputs[0]):await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},Yw=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Xw=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),l=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await s.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},Zw=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},Kw=()=>new DOMException("","UnknownError"),Jw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ex=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Jw,...u},d=n(c,h),m=i(c)?s():null;super(l,!0,d,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},tx=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Ze(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return s.set(o,a),Mr(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},nx=()=>typeof window>"u"?null:window,sx=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)s[h]=u[h+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=s[h]}},rx=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},ix=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},ox=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let l=0;l<a;l+=1)r.connect(s,0,l)},()=>r.disconnect(s))},Jm=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),eg=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},to=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},ax=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),lx=t=>({...t,channelCount:t.numberOfOutputs}),ux=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},tg=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;tg(t,e,n+1e-7)}},cx=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},hx=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},dx=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},dh=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},ng=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},fh=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},fx=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},px=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=i===null?s:Math.min(i.duration,s);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)},sg=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),Or(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},br=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},mx=Py(bs),gx=zy(bs),_x=Jv(dl),rg=new WeakMap,yx=_1(rg),Qt=Dv(new Map,new WeakMap),rn=nx(),ig=H1(Qt,on),ph=g1(et),Ge=qw(et,ph,Ns),vx=Gy(ig,_e,Ge),pe=w1(hl),Dn=ww(rn),he=V1(Dn),og=new WeakMap,ag=u1(br),no=Z1(rn),mh=R1(no),gh=I1(rn),lg=P1(rn),Ni=J1(rn),be=_v(Fy(Pm),qy(mx,gx,_a,_x,ya,et,yx,Yi,_e,bs,yn,Ns,zo),Qt,A1(sc,ya,et,_e,Ti,yn),on,fl,it,Yv(_a,sc,et,_e,Ti,pe,yn,he),n1(og,et,Ut),ag,pe,mh,gh,lg,he,Ni),wx=$y(be,vx,on,ig,pe,he),_h=new WeakSet,rf=Q1(rn),ug=Wv(new Uint32Array(1)),yh=sx(ug,on),vh=rx(ug),cg=Qy(_h,Qt,it,rf,Dn,Yw(rf),yh,vh),pl=Wy(mt),hg=zw(ph,Zi,Ns),an=Fv(hg),Rr=X1(pl,Qt,cx,hx,dx,dh,ng,fh,px,ix(to),sg),ln=Lw(y1(Zi),hg),xx=Zy(an,Rr,_e,ln,Ge),Yt=yv(Vy(Fm),og,oh,vv,Dy,My,Oy,by,Ry,ec,Rm,no,tg),Sx=Xy(be,xx,Yt,ze,Rr,pe,he,br),kx=ov(be,av,on,ze,K1(mt,to),pe,he,Ge),Tx=Av(an,Xm,_e,ln,Ge),Rs=Uw(rg),Cx=Ev(be,Yt,Tx,fl,Xm,pe,he,Rs),as=$1(bs,gh),Nx=ox(ze,as),ls=ow(no,Nx),Ex=bv(ls,_e,Ge),Ax=Ov(be,Ex,ls,pe,he),Dx=Pv(Ji,_e,Ge),Mx=Iv(be,Dx,Ji,pe,he,lx),Ox=uw(pl,Rr,mt,as),Ir=lw(pl,Qt,Ox,dh,fh),bx=zv(an,Ir,_e,ln,Ge),Rx=qv(be,Yt,bx,Ir,pe,he,br),dg=cw(it,to),Ix=$v(dg,_e,Ge),Px=Uv(be,Ix,dg,pe,he,Rs),Fx=Kv(an,Zm,_e,ln,Ge),Vx=Zv(be,Yt,Fx,Zm,pe,he,Rs),fg=hw(it),jx=o1(an,fg,_e,ln,Ge),Lx=i1(be,Yt,jx,fg,it,pe,he,Rs),qx=p1(an,mt,_e,ln,Ge),zx=f1(be,Yt,qx,mt,pe,he),Wx=mw(fl,ze,eo,it),ml=Ww(Qt,mt,eo,Zw(mt,Dn)),Bx=E1(Rr,_e,Dn,Ge,ml),Ux=dw(Wx),$x=C1(be,Ux,Bx,pe,he,Rs),Gx=lv(Yt,ls,Ir,eo,it,Jm,he,to),pg=new WeakMap,Hx=U1(kx,Gx,ag,he,pg,br),mg=xw(pl,Qt,dh,ng,fh,sg),Qx=Rw(an,mg,_e,ln,Ge),Yx=bw(be,Yt,mg,Qx,pe,he,br),gg=jv(Rr),Xx=Aw(gg,ze,mt,eg,as),gl=Ew(gg,ze,Xx,eg,as,no,to),Zx=kw(_a,ze,ls,mt,eo,gl,it,ya,Jm,as),_g=Sw(Zx),Kx=Fw(an,ls,Ir,mt,_g,_e,Dn,ln,Ge,ml),Jx=Pw(be,Yt,_g,Kx,pe,he,Rs),eS=Tw(on),tS=jw(eS,pe,new WeakSet,ux),nS=Nw(ls,Ji,mt,gl,it,as),yg=Cw(nS,it),sS=Qw(an,yg,_e,ln,Ge),rS=Hw(be,Yt,yg,sS,pe,he),iS=tx(gl,_e,Ge),oS=ex(be,ze,gl,iS,pe,he,Rs),vg=j1(rn),wh=c1(rn),wg=new WeakMap,aS=x1(wg,Dn),lS=vg?Ly(Qt,it,l1(rn),wh,h1(Iy),pe,aS,he,Ni,new WeakMap,new WeakMap,Xw(Ni,Dn),rn):void 0,uS=F1(mh,he),cS=Qv(_h,Qt,Hv,a1,new WeakSet,pe,uS,ma,Ci,yh,vh),xg=Cv(lS,wx,cg,Sx,Cx,Ax,Mx,Rx,Px,cS,Vx,Lx,zx,$x,Hx,Yx,Jx,tS,rS,oS),hS=L1(be,gw,pe,he),dS=z1(be,_w,pe,he),fS=W1(be,yw,pe,he),pS=vw(ze,he),mS=B1(be,pS,pe),gS=iv(xg,ze,it,Kw,hS,dS,fS,mS,no),xh=S1(pg),_S=By(xh),Sg=Vv(on),yS=e1(xh),kg=s1(on),Tg=new WeakMap,vS=m1(Tg,Ut),wS=iw(Sg,on,ze,ls,Ji,Ir,mt,eo,it,kg,wh,vS,as),xS=tw(ze,wS,mt,it,as),SS=Tv(an,Sg,Rr,ls,Ji,Ir,mt,yS,kg,wh,_e,Ni,Dn,ln,Ge,ml),kS=v1(wg),TS=Bw(Tg),of=vg?xv(_S,be,Yt,SS,xS,et,kS,pe,he,Ni,ax,TS,fx,br):void 0,CS=Gv(it,Dn),NS=$w(_h,Qt,ph,xh,ml,ma,yh,vh),ES=Mw(xg,Qt,ze,CS,NS),AS=D1(hl,mh),DS=M1(ih,gh),MS=O1(oh,lg),OS=b1(hl,he);function Dt(t){return t===void 0}function re(t){return t!==void 0}function bS(t){return typeof t=="function"}function kn(t){return typeof t=="number"}function ys(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function RS(t){return typeof t=="boolean"}function wt(t){return Array.isArray(t)}function Tn(t){return typeof t=="string"}function Eo(t){return Tn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Q(t,e){if(!t)throw new Error(e)}function Cn(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Cg(t){!t.isOffline&&t.state!=="running"&&_l('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ng=!1,af=!1;function lf(t){Ng=t}function IS(t){Dt(t)&&Ng&&!af&&(af=!0,_l("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let Eg=console;function PS(...t){Eg.log(...t)}function _l(...t){Eg.warn(...t)}function FS(t){return new gS(t)}function VS(t,e,n){return new ES(t,e,n)}const vs=typeof self=="object"?self:null,jS=vs&&(vs.hasOwnProperty("AudioContext")||vs.hasOwnProperty("webkitAudioContext"));function LS(t,e,n){return Q(re(of),"This node only works in a secure context (https or localhost)"),new of(t,e,n)}function Xt(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function Oe(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})}class qS{constructor(e,n,s,r){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Es(t){return MS(t)}function Kn(t){return DS(t)}function Wo(t){return OS(t)}function qs(t){return AS(t)}function zS(t){return t instanceof cg}function WS(t,e){return t==="value"||Es(e)||Kn(e)||zS(e)}function ws(t,...e){if(!e.length)return t;const n=e.shift();if(ys(t)&&ys(n))for(const s in n)WS(s,n[s])?t[s]=n[s]:ys(n[s])?(t[s]||Object.assign(t,{[s]:{}}),ws(t[s],n[s])):Object.assign(t,{[s]:n[s]});return ws(t,...e)}function BS(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function M(t,e,n=[],s){const r={},i=Array.from(e);if(ys(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(ws(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&ys(i[0]))ws(r,i[0]);else for(let o=0;o<n.length;o++)re(i[o])&&(r[n[o]]=i[o]);return ws(t,r)}function US(t){return t.constructor.getDefaults()}function lr(t,e){return Dt(t)?e:t}function yt(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Mn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||vs&&this.toString()===vs.TONE_DEBUG_CLASS)&&PS(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Mn.version=bm;const Sh=1e-6;function yr(t,e){return t>e+Sh}function lc(t,e){return yr(t,e)||Lt(t,e)}function Sa(t,e){return t+Sh<e}function Lt(t,e){return Math.abs(t-e)<Sh}function $S(t,e,n){return Math.max(Math.min(t,n),e)}class Mt extends Mn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=M(Mt.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Q(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Q(lc(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Lt(this._timeline[n].time,e)){for(let s=n;s>=0&&Lt(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&lc(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Lt(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Lt(c[n],e))o=u;else break}return o}else{if(Sa(a[n],e)&&yr(l[n],e))return o;yr(a[n],e)?i=o:s=o+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&Lt(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&Lt(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ag=[];function yl(t){Ag.push(t)}function GS(t){Ag.forEach(e=>e(t))}const Dg=[];function vl(t){Dg.push(t)}function HS(t){Dg.forEach(e=>e(t))}class so extends Mn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{Dt(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(Dt(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(Dt(n))this._events[r]=[];else{const i=this._events[r];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(so.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class Mg extends so{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ro extends Mg{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Mt,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=M(ro.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=FS({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new qS(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(GS(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Q(qs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Q(qs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Q(qs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Q(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Q(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Q(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Q(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return LS(this.rawContext,e,n)}addAudioWorkletModule(e){return Oe(this,void 0,void 0,function*(){Q(re(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Oe(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return qs(this._context)?this._context.resume():Promise.resolve()}close(){return Oe(this,void 0,void 0,function*(){qs(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&HS(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class QS extends Mg{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Oe(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function te(t,e){wt(e)?e.forEach(n=>te(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function io(t,e){wt(e)?e.forEach(n=>io(t,n)):Object.defineProperty(t,e,{writable:!0})}const ue=()=>{};class le extends Mn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ue;const e=M(le.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Tn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:ue,onload:ue,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ut().sampleRate}set(e){return e instanceof le?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return Oe(this,void 0,void 0,function*(){const n=le.load(e).then(s=>{this.set(s),this.onload(this)});le.downloads.push(n);try{yield n}finally{const s=le.downloads.indexOf(n);le.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=wt(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=ut(),o=i.createBuffer(s,r,i.sampleRate),a=!n&&s===1?[e]:e;for(let l=0;l<s;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(kn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(kn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){Q(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);Q(s<r,"The start time must be less than the end time");const i=r-s,o=ut().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,r),a);return new le(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new le().fromArray(e)}static fromUrl(e){return Oe(this,void 0,void 0,function*(){return yield new le().load(e)})}static load(e){return Oe(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let u=l[0];for(const c of l)if(le.supportsType(c)){u=c;break}e=e.replace(n[0],u)}const s=le.baseUrl===""||le.baseUrl.endsWith("/")?le.baseUrl:le.baseUrl+"/",r=document.createElement("a");r.href=s+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield ut().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return Oe(this,void 0,void 0,function*(){for(yield Promise.resolve();le.downloads.length;)yield le.downloads[0]})}}le.baseUrl="";le.downloads=[];class wl extends ro{constructor(){super({clockSource:"offline",context:Wo(arguments[0])?arguments[0]:VS(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Wo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Wo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Oe(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(e=!0){return Oe(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new le(n)})}close(){return Promise.resolve()}}const Og=new QS;let er=Og;function ut(){return er===Og&&jS&&uc(new ro),er}function uc(t,e=!1){e&&er.dispose(),qs(t)?er=new ro(t):Wo(t)?er=new wl(t):er=t}if(vs&&!vs.TONE_SILENCE_LOGGING){const e=` * Tone.js v${bm} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function YS(t){return Math.pow(10,t/20)}function XS(t){return 20*(Math.log(t)/Math.LN10)}function bg(t){return Math.pow(2,t/12)}let xl=440;function ZS(){return xl}function KS(t){xl=t}function ms(t){return Math.round(Rg(t))}function Rg(t){return 69+12*Math.log2(t/xl)}function Ig(t){return xl*Math.pow(2,(t-69)/12)}class kh extends Mn{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof kh&&this.fromType(this._val),Dt(this._val))return this._noArg();if(Tn(this._val)&&Dt(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ys(this._val)){let e=0;for(const n in this._val)if(re(this._val[n])){const s=this._val[n],r=new this.constructor(this.context,n).valueOf()*s;e+=r}return e}if(re(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Tn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class qt extends kh{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new qt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/s)*s-r;return r+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new qt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new qt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return ms(this.toFrequency())}_now(){return this.context.now()}}class ct extends qt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return ZS()}static set A4(e){KS(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:ct.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const r=JS[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:ct.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new ct(this.context,this.valueOf()*bg(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return ms(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/ct.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),ek[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Ig(e)}static ftom(e){return ms(e)}}const JS={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},ek=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function nu(t,e){return new ct(ut(),t,e)}class oi extends qt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class pt extends Mn{constructor(){super();const e=M(pt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:ut()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return IS(e),new qt(this.context,e).toSeconds()}toFrequency(e){return new ct(this.context,e).toFrequency()}toTicks(e){return new oi(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{Dt(e[s])&&delete n[s]}),n}get(){const e=US(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];re(s)&&re(s.value)&&re(s.setValueAtTime)?e[n]=s.value:s instanceof pt?e[n]=s._getPartialProperties(e[n]):wt(s)||kn(s)||Tn(s)||RS(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&re(this[n])&&(this[n]&&re(this[n].value)&&re(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof pt?this[n].set(e[n]):this[n]=e[n])}),this}}class Th extends Mt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return Cn(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class J extends pt{constructor(){super(M(J.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=M(J.getDefaults(),arguments,["param","units","convert"]);for(Q(re(e.param)&&(Es(e.param)||e.param instanceof J),"param must be an AudioParam");!Es(e.param);)e.param=e.param._param;this._swappable=re(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Mt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,re(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(pt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return re(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return re(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return re(this.maxValue)&&re(this.minValue)&&Cn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?YS(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?XS(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return Q(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,s.time,s.value,n):i=this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return Q(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=Lt(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return Q(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);Q(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),Q(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Q(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));Q(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&Lt(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){Q(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class z extends pt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return re(this.input)?Es(this.input)||this.input instanceof J?1:this.input.numberOfInputs:0}get numberOfOutputs(){return re(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return re(e)&&(e instanceof z||Kn(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Q(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return $t(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return _l("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return Pg(this,e,n,s),this}chain(...e){return Nn(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),re(this.input)&&(this.input instanceof z?this.input.dispose():Kn(this.input)&&this.input.disconnect()),re(this.output)&&(this.output instanceof z?this.output.dispose():Kn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Nn(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof z?n.connect(s):Kn(n)&&$t(n,s),s),e)}function $t(t,e,n=0,s=0){for(Q(re(t),"Cannot connect from undefined node"),Q(re(e),"Cannot connect to undefined node"),(e instanceof z||Kn(e))&&Q(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Q(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof z||e instanceof J;)re(e.input)&&(e=e.input);for(;t instanceof z;)re(t.output)&&(t=t.output);Es(e)?t.connect(e,n):t.connect(e,n,s)}function Pg(t,e,n=0,s=0){if(re(e))for(;e instanceof z;)e=e.input;for(;!Kn(t);)re(t.output)&&(t=t.output);Es(e)?t.disconnect(e,n):Kn(e)?t.disconnect(e,n,s):t.disconnect()}class Z extends z{constructor(){super(M(Z.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=M(Z.getDefaults(),arguments,["gain","units"]);this.gain=new J({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),te(this,"gain")}static getDefaults(){return Object.assign(z.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class vr extends z{constructor(e){super(e),this.onended=ue,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Z({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(z.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ue})}_startGain(e,n=1){Q(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Q(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ue&&(this.onended(this),this.onended=ue,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Q(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ue,this}}class ka extends vr{constructor(){super(M(ka.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=M(ka.getDefaults(),arguments,["offset"]);$t(this._source,this._gainNode),this.offset=new J({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(vr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ne extends z{constructor(){super(M(ne.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=M(ne.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ka({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(z.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return Sl(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Sl(t,e,n,s){(e instanceof J||Es(e)||e instanceof ne&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof ne&&(e.overridden=!0)),$t(t,e,n,s)}class Ta extends J{constructor(){super(M(Ta.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Mt(1/0),this._multiplier=1;const e=M(Ta.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(J.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const l=s*a+n,u=this._exponentialApproach(i.time,i.value,r,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const l=o*a+r.time,u=this._exponentialInterpolate(r.time,r.value,n,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Dt(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),l=(-r+a)/o,u=(-r-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Ca extends ne{constructor(){super(M(Ca.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=M(Ca.getDefaults(),arguments,["value"]);this.input=this._param=new Ta({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(ne.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Na extends pt{constructor(){super(M(Na.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Th,this._tickOffset=new Mt,this._ticksAtTime=new Mt,this._secondsAtTime=new Mt;const e=M(Na.getDefaults(),arguments,["frequency"]);this.frequency=new Ca({context:this.context,units:e.units,value:e.frequency}),te(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},pt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),re(n)&&this.setTicksAtTime(n,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=r||s,a=r?r.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let c=o.time;const h=this._tickOffset.get(u.time);h&&h.time>=o.time&&(a=h.ticks,c=h.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(c),u.time!==i.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const r=this._secondsAtTime.get(e);let i=r||n,o=r?r.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let u=i.time;const c=this._tickOffset.get(l.time);c&&c.time>=i.time&&(o=c.seconds,u=c.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==s.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(s),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(r.time),u=a-l;let c=Math.ceil(u)-u;c=Lt(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ei extends pt{constructor(){super(M(Ei.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=ue,this._lastUpdate=0,this._state=new Th("stopped"),this._boundLoop=this._loop.bind(this);const e=M(Ei.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new Na({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,te(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(pt.getDefaults(),{callback:ue,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Cg(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}so.mixin(Ei);class As extends z{constructor(){super(M(As.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=M(As.getDefaults(),arguments,["delayTime","maxDelay"]),n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new J({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),te(this,"delayTime")}static getDefaults(){return Object.assign(z.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function Ur(t,e,n=2,s=ut().sampleRate){return Oe(this,void 0,void 0,function*(){const r=ut(),i=new wl(n,e,s);uc(i),yield t(i);const o=i.render();uc(r);const a=yield o;return new le(a)})}class Ch extends Mn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=M(Ch.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ue,onload:ue,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Q(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=ue,r=ue){return Tn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new le(this.baseUrl+n,s,r))):this._buffers.set(e.toString(),new le(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Ea extends ct{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return ms(super._frequencyToUnits(e))}_ticksToUnits(e){return ms(super._ticksToUnits(e))}_beatsToUnits(e){return ms(super._beatsToUnits(e))}_secondsToUnits(e){return ms(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Ig(this.toMidi())}transpose(e){return new Ea(this.context,this.toMidi()+e)}}class tr extends oi{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class tk extends pt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Mt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}yl(t=>{t.draw=new tk({context:t})});vl(t=>{t.draw.dispose()});class nk extends Mn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Q(re(e.time),"Events must have a time property"),Q(re(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new sk(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class sk{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ds extends z{constructor(){super(M(Ds.getDefaults(),arguments,["volume"])),this.name="Volume";const e=M(Ds.getDefaults(),arguments,["volume"]);this.input=this.output=new Z({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,te(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(z.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Aa extends z{constructor(){super(M(Aa.getDefaults(),arguments)),this.name="Destination",this.input=new Ds({context:this.context}),this.output=new Z({context:this.context}),this.volume=this.input.volume;const e=M(Aa.getDefaults(),arguments);Nn(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(z.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Nn(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}yl(t=>{t.destination=new Aa({context:t})});vl(t=>{t.destination.dispose()});class rk extends Mn{constructor(e){super(),this.name="TimelineValue",this._timeline=new Mt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Gt extends z{constructor(){super(Object.assign(M(Gt.getDefaults(),arguments,["context"])))}connect(e,n=0,s=0){return Sl(this,e,n,s),this}}class ts extends Gt{constructor(){super(Object.assign(M(ts.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=M(ts.getDefaults(),arguments,["mapping","length"]);wt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):bS(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(ne.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const o=r/(i-1)*2-1;s[r]=e(o,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));Q(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Ai extends Gt{constructor(){super(Object.assign(M(Ai.getDefaults(),arguments,["value"]))),this.name="Pow";const e=M(Ai.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new ts({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Gt.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ns{constructor(e,n){this.id=ns._eventId++,this._remainderTime=0;const s=Object.assign(ns.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:ue,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ns._eventId=0;class Nh extends ns{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(Nh.getDefaults(),n);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ns.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Sa(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new tr(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Sa(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new tr(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);yr(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Di extends pt{constructor(){super(M(Di.getDefaults(),arguments)),this.name="Transport",this._loop=new rk(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Mt,this._repeatedEvents=new nk,this._syncedSignals=[],this._swingAmount=0;const e=M(Di.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new Ei({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),te(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(pt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new tr(this.context,this._swingTicks*2/3).toSeconds()*r}lf(!0),this._timeline.forEachAtTime(n,s=>s.invoke(e)),lf(!1)}schedule(e,n){const s=new ns(this,{callback:e,time:new oi(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new Nh(this,{callback:e,duration:new qt(this.context,r).toTicks(),interval:new qt(this.context,n).toTicks(),time:new oi(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new ns(this,{callback:e,once:!0,time:new oi(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new tr(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let s;return re(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){wt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new qt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new qt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new tr(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new tr(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){const s=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(s)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,u=new Z(l),c=new Ai(-1),h=new Z(l);r.chain(u,c,h),r=h,i=1/i,o=[u,c,h]}n||(e.getValueAtTime(s)!==0?n=e.getValueAtTime(s)/i:n=0);const a=new Z(n);return r.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.nodes.forEach(r=>r.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),io(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}so.mixin(Di);yl(t=>{t.transport=new Di({context:t})});vl(t=>{t.transport.dispose()});class je extends z{constructor(e){super(e),this.input=void 0,this._state=new Th("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ue,this._syncedStop=ue,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ds({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,te(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(z.getDefaults(),{mute:!1,onstop:ue,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=Dt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")Q(yr(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(lr(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Cg(this.context),this._start(r,n,s);return this}stop(e){let n=Dt(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||re(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(yr(n,0)){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ue,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class wr extends vr{constructor(){super(M(wr.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=M(wr.getDefaults(),arguments,["url","onload"]);$t(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new J({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new le(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(vr.getDefaults(),{url:new le,loop:!1,loopEnd:0,loopStart:0,onload:ue,onerror:ue,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){Q(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=lr(n,this.loopStart):n=lr(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;lc(o,a)&&(o=(o-l)%u+l),Lt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Sa(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),re(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Mi extends je{constructor(){super(M(Mi.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=M(Mi.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(je.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(Q(e in uf,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const n=this.now();this._stop(n),this._start(n)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const n=uf[this._type];this._source=new wr({url:n,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(n.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const js=44100*5,su=2,cn={brown:null,pink:null,white:null},uf={get brown(){if(!cn.brown){const t=[];for(let e=0;e<su;e++){const n=new Float32Array(js);t[e]=n;let s=0;for(let r=0;r<js;r++){const i=Math.random()*2-1;n[r]=(s+.02*i)/1.02,s=n[r],n[r]*=3.5}}cn.brown=new le().fromArray(t)}return cn.brown},get pink(){if(!cn.pink){const t=[];for(let e=0;e<su;e++){const n=new Float32Array(js);t[e]=n;let s,r,i,o,a,l,u;s=r=i=o=a=l=u=0;for(let c=0;c<js;c++){const h=Math.random()*2-1;s=.99886*s+h*.0555179,r=.99332*r+h*.0750759,i=.969*i+h*.153852,o=.8665*o+h*.3104856,a=.55*a+h*.5329522,l=-.7616*l-h*.016898,n[c]=s+r+i+o+a+l+u+h*.5362,n[c]*=.11,u=h*.115926}}cn.pink=new le().fromArray(t)}return cn.pink},get white(){if(!cn.white){const t=[];for(let e=0;e<su;e++){const n=new Float32Array(js);t[e]=n;for(let s=0;s<js;s++)n[s]=Math.random()*2-1}cn.white=new le().fromArray(t)}return cn.white}};function Is(t,e){return Oe(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new wl(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class Da extends vr{constructor(){super(M(Da.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=M(Da.getDefaults(),arguments,["frequency","type"]);$t(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new J({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new J({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),te(this,["frequency","detune"])}static getDefaults(){return Object.assign(vr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Se extends je{constructor(){super(M(Se.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=M(Se.getDefaults(),arguments,["frequency","type"]);this.frequency=new ne({context:this.context,units:"frequency",value:e.frequency}),te(this,"frequency"),this.detune=new ne({context:this.context,units:"cents",value:e.detune}),te(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(je.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new Da({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Se._periodicWaveCache.find(n=>n.phase===this._phase&&BS(n.partials,this._partials));{const e=Se._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(re(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Se._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Se._periodicWaveCache.length>100&&Se._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Cn(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let l=1;l<r;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*s)+n[o]*Math.sin(o*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)s=Math.max(this._inverseFFT(e,n,o/i*r),s);return $S(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return Oe(this,void 0,void 0,function*(){return Is(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Se._periodicWaveCache=[];class Eh extends Gt{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new ts({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Rt extends ne{constructor(){super(Object.assign(M(Rt.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=M(Rt.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Z({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ne.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Oi extends je{constructor(){super(M(Oi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Eh({context:this.context}),this._modulationNode=new Z({context:this.context});const e=M(Oi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Se({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Se({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Rt({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),te(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Se.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Oe(this,void 0,void 0,function*(){return Is(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class bi extends je{constructor(){super(M(bi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Z({context:this.context,gain:0});const e=M(bi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Se({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new ne({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Se({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Rt({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Rt({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),te(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Se.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return Oe(this,void 0,void 0,function*(){return Is(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class xr extends je{constructor(){super(M(xr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Z({context:this.context,gain:0}),this._thresh=new ts({context:this.context,mapping:n=>n<=0?-1:1});const e=M(xr.getDefaults(),arguments,["frequency","width"]);this.width=new ne({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Se({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),te(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(je.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return Oe(this,void 0,void 0,function*(){return Is(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ri extends je{constructor(){super(M(Ri.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=M(Ri.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new ne({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ne({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,te(this,["frequency","detune"])}static getDefaults(){return Object.assign(Se.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if(Cn(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new Se({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):ue});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return Oe(this,void 0,void 0,function*(){return Is(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Ii extends je{constructor(){super(M(Ii.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Rt({context:this.context,value:2});const e=M(Ii.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new xr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Se({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),te(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(je.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return Oe(this,void 0,void 0,function*(){return Is(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const cf={am:Oi,fat:Ri,fm:bi,oscillator:Se,pulse:xr,pwm:Ii};class En extends je{constructor(){super(M(En.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=M(En.getDefaults(),arguments,["frequency","type"]);this.frequency=new ne({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ne({context:this.context,units:"cents",value:e.detune}),te(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Se.getDefaults(),bi.getDefaults(),Oi.getDefaults(),Ri.getDefaults(),xr.getDefaults(),Ii.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=cf[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof cf[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&kn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&kn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Tn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return Oe(this,void 0,void 0,function*(){return Is(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class kl extends ne{constructor(){super(Object.assign(M(kl.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Z({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Nn(this._constantSource,this._sum)}static getDefaults(){return Object.assign(ne.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Sr extends Gt{constructor(){super(Object.assign(M(Sr.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=M(Sr.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Rt({context:this.context,value:e.max-e.min}),this._add=this.output=new kl({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Gt.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Ah extends Gt{constructor(){super(Object.assign(M(Ah.getDefaults(),arguments))),this.name="Zero",this._gain=new Z({context:this.context}),this.output=this._gain,this.input=void 0,$t(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Pg(this.context.getConstant(0),this._gain),this}}class kr extends z{constructor(){super(M(kr.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=J.prototype._fromType,this._toType=J.prototype._toType,this._is=J.prototype._is,this._clampValue=J.prototype._clampValue;const e=M(kr.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Se(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Z({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new ne({context:this.context,units:"audioRange",value:0}),this._zeros=new Ah({context:this.context}),this._a2g=new Eh({context:this.context}),this._scaler=this.output=new Sr({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),te(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Se.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,s=this.max;this._units=e,this.min=n,this.max=s}get state(){return this._oscillator.state}connect(e,n,s){return(e instanceof J||e instanceof ne)&&(this.convert=e.convert,this.units=e.units),Sl(this,e,n,s),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Fg(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Cn(i,t,e),n.set(this,i)}})}}function On(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){Cn(this.toSeconds(i),t,e),n.set(this,i)}})}}class Pi extends je{constructor(){super(M(Pi.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=M(Pi.getDefaults(),arguments,["url","onload"]);this._buffer=new le({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(je.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ue,onerror:ue,playbackRate:1,reverse:!1})}load(e){return Oe(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=ue){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=lr(n,this._loopStart):n=lr(n,0);const r=this.toSeconds(n),i=s;s=lr(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new wr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Dt(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Cn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Cn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Xt([On(0)],Pi.prototype,"fadeIn",void 0);Xt([On(0)],Pi.prototype,"fadeOut",void 0);class ik extends Gt{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new ts({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ok extends Gt{constructor(){super(...arguments),this.name="Negate",this._multiply=new Rt({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Dh extends ne{constructor(){super(Object.assign(M(Dh.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new Z({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new ok({context:this.context}),this.subtrahend=this._param,Nn(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(ne.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class nt extends z{constructor(){super(M(nt.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new ne({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=M(nt.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(z.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Tn(e))return e;{let s;for(s in Ao)if(Ao[s][n]===e)return s;return e}}_setCurve(e,n,s){if(Tn(s)&&Reflect.has(Ao,s)){const r=Ao[s];ys(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(wt(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+r;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(Q(wt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return Sl(this,e,n,s),this}asArray(e=1024){return Oe(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,s=new wl(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return l._sig.toDestination(),l.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Xt([On(0)],nt.prototype,"attack",void 0);Xt([On(0)],nt.prototype,"decay",void 0);Xt([Fg(0,1)],nt.prototype,"sustain",void 0);Xt([On(0)],nt.prototype,"release",void 0);const Ao=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/(128-1)*(Math.PI/2));const r=[],i=6.4;for(e=0;e<128-1;e++){n=e/(128-1);const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=d/10+n*.83}r[128-1]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/(128-1)*a)/a;const l=[];for(e=0;e<128;e++)n=e/(128-1),l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/(128-1);const d=Math.pow(n,3)*4+.2,p=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(p*(1-n))}function c(d){const p=new Array(d.length);for(let m=0;m<d.length;m++)p[m]=1-d[m];return p}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:c(r)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class Ht extends z{constructor(){super(M(Ht.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=M(Ht.getDefaults(),arguments);this._volume=this.output=new Ds({context:this.context,volume:e.volume}),this.volume=this._volume.volume,te(this,"volume")}static getDefaults(){return Object.assign(z.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class It extends Ht{constructor(){super(M(It.getDefaults(),arguments));const e=M(It.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Ht.getDefaults(),{detune:0,onsilence:ue,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof ct?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}Xt([On(0)],It.prototype,"portamento",void 0);class oo extends nt{constructor(){super(M(oo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Z({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ss extends It{constructor(){super(M(ss.getDefaults(),arguments)),this.name="Synth";const e=M(ss.getDefaults(),arguments);this.oscillator=new En(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new oo(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),te(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(It.getDefaults(),{envelope:Object.assign(yt(nt.getDefaults(),Object.keys(z.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(yt(En.getDefaults(),[...Object.keys(je.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ma extends It{constructor(){super(M(Ma.getDefaults(),arguments)),this.name="ModulationSynth";const e=M(Ma.getDefaults(),arguments);this._carrier=new ss({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ss({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new ne({context:this.context,units:"frequency"}),this.detune=new ne({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Rt({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Z({context:this.context,gain:0}),te(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(It.getDefaults(),{harmonicity:3,oscillator:Object.assign(yt(En.getDefaults(),[...Object.keys(je.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(yt(nt.getDefaults(),Object.keys(z.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(yt(En.getDefaults(),[...Object.keys(je.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(yt(nt.getDefaults(),Object.keys(z.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,n){this._carrier._triggerEnvelopeAttack(e,n),this._modulator._triggerEnvelopeAttack(e,n)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Mh extends Ma{constructor(){super(M(Mh.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Eh({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Fi extends z{constructor(){super(M(Fi.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=M(Fi.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new J({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new J({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new J({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new J({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(z.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){Q(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const l=Math.pow(o/e,2)*(2e4-20)+20;n[o]=l}const s=new Float32Array(e),r=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,s,r),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class gn extends z{constructor(){super(M(gn.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Z({context:this.context}),this.output=new Z({context:this.context}),this._filters=[];const e=M(gn.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new ne({context:this.context,units:"positive",value:e.Q}),this.frequency=new ne({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ne({context:this.context,units:"cents",value:e.detune}),this.gain=new ne({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,te(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(z.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){Q(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=kn(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let r=s.indexOf(n);Q(r!==-1,`rolloff can only be ${s.join(", ")}`),r+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(r);for(let i=0;i<r;i++){const o=new Fi({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,Nn(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new Fi({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>s[o]*=i)}),n.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),io(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Vi extends nt{constructor(){super(M(Vi.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=M(Vi.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new Ai({context:this.context,value:e.exponent}),this._scale=this.output=new Sr({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(nt.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const n=this.toFrequency(e);Cn(n,0),this._baseFrequency=n,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class ji extends It{constructor(){super(M(ji.getDefaults(),arguments)),this.name="MonoSynth";const e=M(ji.getDefaults(),arguments);this.oscillator=new En(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new gn(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new Vi(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new oo(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),te(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(It.getDefaults(),{envelope:Object.assign(yt(nt.getDefaults(),Object.keys(z.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(yt(gn.getDefaults(),Object.keys(z.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(yt(Vi.getDefaults(),Object.keys(z.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(yt(En.getDefaults(),Object.keys(je.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,n=1){if(this.envelope.triggerAttack(e,n),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Tr extends ss{constructor(){super(M(Tr.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=M(Tr.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,te(this,["oscillator","envelope"])}static getDefaults(){return ws(It.getDefaults(),ss.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof ct?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Xt([Fg(0)],Tr.prototype,"octaves",void 0);Xt([On(0)],Tr.prototype,"pitchDecay",void 0);class Li extends Ht{constructor(){super(M(Li.getDefaults(),arguments)),this.name="NoiseSynth";const e=M(Li.getDefaults(),arguments);this.noise=new Mi(Object.assign({context:this.context},e.noise)),this.envelope=new oo(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Ht.getDefaults(),{envelope:Object.assign(yt(nt.getDefaults(),Object.keys(z.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(yt(Mi.getDefaults(),Object.keys(je.getDefaults())),{type:"white"})})}triggerAttack(e,n=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,n),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),e=this.toSeconds(e),this.triggerAttack(n,s),this.triggerRelease(n+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const Oh=new Set;function bh(t){Oh.add(t)}function Vg(t,e){const n=`registerProcessor("${t}", ${e})`;Oh.add(n)}function ak(){return Array.from(Oh).join(`
`)}class lk extends z{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=ue;const n=URL.createObjectURL(new Blob([ak()],{type:"text/javascript"})),s=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(n).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(s,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const uk=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;bh(uk);const ck=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;bh(ck);const hk=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;bh(hk);const jg="feedback-comb-filter",dk=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Vg(jg,dk);class Oa extends lk{constructor(){super(M(Oa.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const e=M(Oa.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Z({context:this.context}),this.output=new Z({context:this.context}),this.delayTime=new J({context:this.context,value:e.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new J({context:this.context,value:e.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),te(this,["resonance","delayTime"])}_audioWorkletName(){return jg}static getDefaults(){return Object.assign(z.getDefaults(),{delayTime:.1,resonance:.5})}onReady(e){Nn(this.input,e,this.output);const n=e.parameters.get("delayTime");this.delayTime.setParam(n);const s=e.parameters.get("feedback");this.resonance.setParam(s)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class ba extends Ht{constructor(){super(M(ba.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=r=>this.releaseAll(r);const e=M(ba.getDefaults(),arguments,["voice","options"]);Q(!kn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Ht.getDefaults(),{maxPolyphony:32,options:{},voice:ss})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Q(e instanceof It,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else _l("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,s){e.forEach(r=>{const i=new Ea(this.context,r).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(r,n,s),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",r,n))})}_triggerRelease(e,n){e.forEach(s=>{const r=new Ea(this.context,s).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===r&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",s,n))})}_scheduleEvent(e,n,s,r){Q(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(n,s,r):this._triggerRelease(n,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,s,r)},s-this.now())}triggerAttack(e,n,s){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("attack",e,r,s),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s);if(this.triggerAttack(e,i,r),wt(n)){Q(wt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);Q(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+l)}}else{const o=this.toSeconds(n);Q(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=yt(e,["onsilence","context"]);return this.options=ws(this.options,n),this._voices.forEach(s=>s.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class qi extends Ht{constructor(){super(M(qi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=M(qi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(Q(Eo(s)||kn(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),Eo(s)){const i=new ct(this.context,s).toMidi();n[i]=e.urls[s]}else kn(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new Ch({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Ht.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ue,onerror:ue,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=Rg(new ct(this.context,r).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=bg(l+a),d=new wr({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,s),wt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const p=this._activeSources.get(o),m=p.indexOf(d);m!==-1&&p.splice(m,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new ct(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),wt(n)?(Q(wt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(Q(Eo(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Eo(e)){const r=new ct(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Xt([On(0)],qi.prototype,"attack",void 0);Xt([On(0)],qi.prototype,"release",void 0);class zi extends z{constructor(){super(Object.assign(M(zi.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new ik({context:this.context}),this.a=new Z({context:this.context,gain:0}),this.b=new Z({context:this.context,gain:0}),this.output=new Z({context:this.context}),this._internalChannels=[this.a,this.b];const e=M(zi.getDefaults(),arguments,["fade"]);this.fade=new ne({context:this.context,units:"normalRange",value:e.fade}),te(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",$t(this._split,this.a.gain,0),$t(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(z.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Cr extends z{constructor(e){super(e),this.name="Effect",this._dryWet=new zi({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Z({context:this.context}),this.effectReturn=new Z({context:this.context}),this.input=new Z({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],te(this,"wet")}static getDefaults(){return Object.assign(z.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Ra extends z{constructor(){super(Object.assign(M(Ra.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=M(Ra.getDefaults(),arguments,["pan"]);this.pan=new J({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",te(this,"pan")}static getDefaults(){return Object.assign(z.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const fk="bit-crusher",pk=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Vg(fk,pk);class Wi extends z{constructor(){super(M(Wi.getDefaults(),arguments,["channels"])),this.name="Split";const e=M(Wi.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(z.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Nr extends z{constructor(){super(M(Nr.getDefaults(),arguments,["channels"])),this.name="Merge";const e=M(Nr.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(z.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Ia extends z{constructor(e){super(e),this.name="StereoEffect",this.input=new Z({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new zi({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new Wi({context:this.context,channels:2}),this._merge=new Nr({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),te(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Nn(...e),$t(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Nn(...e),$t(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(z.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class hf extends Ia{constructor(e){super(e),this.feedback=new ne({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new Z({context:this.context}),this._feedbackR=new Z({context:this.context}),this._feedbackSplit=new Wi({context:this.context,channels:2}),this._feedbackMerge=new Nr({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),te(this,["feedback"])}static getDefaults(){return Object.assign(Ia.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class Pa extends hf{constructor(){super(M(Pa.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const e=M(Pa.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new kr({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new kr({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new As({context:this.context}),this._delayNodeR=new As({context:this.context}),this.frequency=this._lfoL.frequency,te(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(hf.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const n=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-n,0),this._lfoL.max=this._delayTime+n,this._lfoR.min=Math.max(this._delayTime-n,0),this._lfoR.max=this._delayTime+n}get delayTime(){return this._delayTime*1e3}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Bi extends Cr{constructor(){super(M(Bi.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=M(Bi.getDefaults(),arguments,["distortion"]);this._shaper=new ts({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(Cr.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const n=e*100,s=Math.PI/180;this._shaper.setMap(r=>Math.abs(r)<.001?0:(3+n)*r*20*s/(Math.PI+n*Math.abs(r)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class df extends Cr{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new Z({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,te(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Cr.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Fa extends df{constructor(){super(M(Fa.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const e=M(Fa.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new As({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),te(this,"delayTime")}static getDefaults(){return Object.assign(df.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}const ff=[1687/25e3,1601/25e3,2053/25e3,2251/25e3],mk=[.773,.802,.753,.733],gk=[347,113,37];class Va extends Ia{constructor(){super(M(Va.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const e=M(Va.getDefaults(),arguments,["roomSize"]);this.roomSize=new ne({context:this.context,value:e.roomSize,units:"normalRange"}),this._scaleRoomSize=new Sr({context:this.context,min:-.733,max:.197}),this._allpassFilters=gk.map(n=>{const s=this.context.createBiquadFilter();return s.type="allpass",s.frequency.value=n,s}),this._feedbackCombFilters=ff.map((n,s)=>{const r=new Oa({context:this.context,delayTime:n});return this._scaleRoomSize.connect(r.resonance),r.resonance.value=mk[s],s<ff.length/2?this.connectEffectLeft(...this._allpassFilters,r):this.connectEffectRight(...this._allpassFilters,r),r}),this.roomSize.connect(this._scaleRoomSize),te(this,["roomSize"])}static getDefaults(){return Object.assign(Ia.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach(e=>e.disconnect()),this._feedbackCombFilters.forEach(e=>e.dispose()),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class Rh extends z{constructor(){super(M(Rh.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new Z({context:this.context}),this.side=new Z({context:this.context}),this._left=new kl({context:this.context}),this._leftMult=new Rt({context:this.context,value:Math.SQRT1_2}),this._right=new Dh({context:this.context}),this._rightMult=new Rt({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Nr({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class ja extends Cr{constructor(){super(M(ja.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const e=M(ja.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new As({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new kr({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,te(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Cr.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class De extends z{constructor(){super(M(De.getDefaults(),arguments,["solo"])),this.name="Solo";const e=M(De.getDefaults(),arguments,["solo"]);this.input=this.output=new Z({context:this.context}),De._allSolos.has(this.context)||De._allSolos.set(this.context,new Set),De._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(z.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),De._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){De._soloed.has(this.context)||De._soloed.set(this.context,new Set),De._soloed.get(this.context).add(this)}_removeSolo(){De._soloed.has(this.context)&&De._soloed.get(this.context).delete(this)}_isSoloed(){return De._soloed.has(this.context)&&De._soloed.get(this.context).has(this)}_noSolos(){return!De._soloed.has(this.context)||De._soloed.has(this.context)&&De._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),De._allSolos.get(this.context).delete(this),this._removeSolo(),this}}De._allSolos=new Map;De._soloed=new Map;class La extends z{constructor(){super(M(La.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=M(La.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Ra({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ds({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,te(this,["pan","volume"])}static getDefaults(){return Object.assign(z.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class tn extends z{constructor(){super(M(tn.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=M(tn.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new De({solo:e.solo,context:this.context}),this._panVol=this.output=new La({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),te(this,["pan","volume"])}static getDefaults(){return Object.assign(z.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return tn.buses.has(e)||tn.buses.set(e,new Z({context:this.context})),tn.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new Z({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}tn.buses=new Map;class qa extends z{constructor(){super(M(qa.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new Z({context:this.context}),this.output=void 0,this.low=new gn({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new gn({context:this.context,frequency:0,type:"highpass"}),this.mid=new gn({context:this.context,frequency:0,type:"lowpass"}),this.high=new gn({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const e=M(qa.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new ne({context:this.context,units:"frequency",value:e.lowFrequency}),this.highFrequency=new ne({context:this.context,units:"frequency",value:e.highFrequency}),this.Q=new ne({context:this.context,units:"positive",value:e.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),te(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(z.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),io(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class _k extends z{constructor(){super(...arguments),this.name="Listener",this.positionX=new J({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new J({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new J({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new J({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new J({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new J({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new J({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new J({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new J({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(z.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}yl(t=>{t.listener=new _k({context:t})});vl(t=>{t.listener.dispose()});class za extends z{constructor(){super(M(za.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=M(za.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new J({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new J({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new J({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new J({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new J({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),te(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(z.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Wa extends z{constructor(){super(M(Wa.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new Z({context:this.context}),this._internalChannels=[];const e=M(Wa.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new qa({context:this.context,highFrequency:e.highFrequency,lowFrequency:e.lowFrequency}),this._lowGain=new Z({context:this.context,gain:e.low,units:"decibels"}),this._midGain=new Z({context:this.context,gain:e.mid,units:"decibels"}),this._highGain=new Z({context:this.context,gain:e.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),te(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(z.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),io(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}const Ae=ut().transport;ut().destination;ut().destination;ut().listener;ut().draw;ut();const Ba={C:0,"C#":1,Db:1,D:2,"D#":3,Eb:3,E:4,F:5,"F#":6,Gb:6,G:7,"G#":8,Ab:8,A:9,"A#":10,Bb:10,B:11},Lg=[0,2,4,5,7,9,11],qg=[0,2,3,5,7,8,10];function $r(t){const e=/^(\d+)\/(\d+)$/.exec(t||"4/4"),n=e?parseInt(e[1],10):4;return Math.max(1,n)}function pf(t){let e=t>>>0;return function(){e|=0,e=e+1831565813|0;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function mf(t,e,n){return Math.max(e,Math.min(n,t))}function yk(t){let e=t.trim().replace(//g,"");const n=e.includes("");e=e.replace("","");const s=e.toUpperCase(),i={I:0,II:1,III:2,IV:3,V:4,VI:5,VII:6}[s];return i===void 0?null:{degree:i,quality:n?"dim":e===s?"maj":"min"}}function vk(t){const e=/^([A-Ga-g])([b#]?)(maj|min|m|dim|aug|M)?(7)?$/.exec(t.trim());if(!e)return null;let n=e[1].toUpperCase();const s=e[2]||"",r=(e[3]||"").toLowerCase();let i="maj";return r==="m"||r==="min"?i="min":r==="dim"?i="dim":r==="aug"&&(i="aug"),{rootSemi:(Ba[n+s]??Ba[n])%12,quality:i}}function gf(t,e,n,s){let o=48+(s+(n==="minor"?qg:Lg)[t])%12,a=e==="maj"?4:3,l=e==="dim"?6:7;const u=[o,o+a,o+l];for(let c=0;c<u.length;c++){for(;u[c]>72;)u[c]-=12;for(;u[c]<48;)u[c]+=12}return u}function wk(t,e){let n=48+t%12,s=e==="maj"?4:3,r=e==="dim"?6:e==="aug"?8:7;const i=[n,n+s,n+r];for(let o=0;o<i.length;o++){for(;i[o]>72;)i[o]-=12;for(;i[o]<48;)i[o]+=12}return i}function xk(t){return t?t.split(/[\s\-|,;]+/g).filter(Boolean):[]}function Sk(t,e,n,s){const r=[],i=o=>xk(o.chords||e);for(const o of t){const a=i(o);for(let l=0;l<o.bars;l++){const u=a.length?a[l%a.length]:"I";let c;const h=yk(u);if(h)c=gf(h.degree,h.quality,s,n);else{const d=vk(u);d?c=wk(d.rootSemi,d.quality):c=gf(0,"maj",s,n)}r.push({notes:c})}}return r}function kk(t){const e=t.numberOfChannels,n=t.sampleRate,s=t.length,i=e*2,o=n*i,a=s*i,l=new ArrayBuffer(44+a),u=new DataView(l);let c=0;function h(_){for(let w=0;w<_.length;w++)u.setUint8(c++,_.charCodeAt(w))}function d(_){u.setUint16(c,_,!0),c+=2}function p(_){u.setUint32(c,_,!0),c+=4}h("RIFF"),p(36+a),h("WAVE"),h("fmt "),p(16),d(1),d(e),p(n),p(o),d(i),d(16),h("data"),p(a);const m=[];for(let _=0;_<e;_++)m.push(t.getChannelData(_));for(let _=0;_<s;_++)for(let w=0;w<e;w++){let f=m[w][_];f=Math.max(-1,Math.min(1,f)),u.setInt16(c,f<0?f*32768:f*32767,!0),c+=2}return new Blob([l],{type:"audio/wav"})}function Tk({bpm:t,drumEvents:e,bassEvents:n,chordEvents:s,leadEvents:r,ppq:i=480}){const o=Math.floor(6e7/t);function a(S){const x=[];let D=S&127;for(;S>>=7;)D<<=8,D|=S&127|128;for(;x.push(D&255),D&128;)D>>=8;return x}function l(S,x,D,N){S.push(...a(x),255,D,N.length,...N)}function u(S,x,D,N,A){S.push(...a(x),D,N,A)}function c(S,x){const D=[];return u(D,0,192|S,x,0),D}function h(S,x){const D=[],N=[];for(const E of x){const I=Math.round(E.startBeat*i),F=Math.round((E.startBeat+E.durBeats)*i);if(Array.isArray(E.midis))for(const G of E.midis)N.push({onTick:I,offTick:F,midi:G,vel:E.vel??96});else N.push({onTick:I,offTick:F,midi:E.midi,vel:E.vel??96})}N.sort((E,I)=>E.onTick-I.onTick||E.offTick-I.offTick);let A=0;for(const E of N){let I=E.onTick-A;u(D,I,144|S,E.midi,E.vel),A=E.onTick,I=E.offTick-A,u(D,I,128|S,E.midi,64),A=E.offTick}return l(D,0,47,[]),D}const d=[];l(d,0,81,[o>>16&255,o>>8&255,o&255]),l(d,0,88,[4,2,24,8]),l(d,0,47,[]);const p=h(9,e.map(S=>({startBeat:S.startBeat,durBeats:S.durBeats,midi:S.note,vel:S.vel??90}))),m=c(0,33).concat(h(0,n)),_=c(1,48).concat(h(1,s)),w=c(2,81).concat(h(2,r));function f(S,x){const D=[S.charCodeAt(0),S.charCodeAt(1),S.charCodeAt(2),S.charCodeAt(3)],N=x.length,A=[N>>24&255,N>>16&255,N>>8&255,N&255];return new Uint8Array([...D,...A,...x])}const y=[f("MThd",[0,1,0,5,i>>8&255,i&255]),f("MTrk",d),f("MTrk",p),f("MTrk",m),f("MTrk",_),f("MTrk",w)],k=y.reduce((S,x)=>S+x.length,0),v=new Uint8Array(k);let T=0;for(const S of y)v.set(S,T),T+=S.length;return new Blob([v],{type:"audio/midi"})}var Ua,zg,$a,Wg,Ga,Bg,Ha,Ug,Qa,$g;class Ck{constructor(e={}){Ps(this,Ua);Ps(this,$a);Ps(this,Ga);Ps(this,Ha);Ps(this,Qa);this.sampleRate=e.sampleRate||48e3}defaultSpec(){return{seed:Math.floor(Math.random()*2**31),style:"",key:"C",mode:"major",bpm:96,ts:"4/4",progression:"I V vi IV",structure:[{name:"Verse",bars:8},{name:"Chorus",bars:8},{name:"Verse",bars:8},{name:"Chorus",bars:8},{name:"Bridge",bars:8},{name:"Chorus",bars:8}],regen:{lane:"lead",startBar:1,bars:4}}}async generate(e){const n=this.sampleRate,s=$r(e.ts),r=Math.max(40,Math.min(260,Number(e.bpm)||120)),i=60/r,o=Array.isArray(e.structure)&&e.structure.length?e.structure:this.defaultSpec().structure,a=Math.max(1,o.reduce((A,E)=>A+((E==null?void 0:E.bars)||0),0)),l=a*s,u=Math.max(.1,l*i),c=Math.max(1,Math.ceil(u*n)),h=Ba[e.key]??0,d=Sk(o,e.progression,h,e.mode),p={...e,bpm:r,structure:o,beatsPerBar:s};if(!(()=>{try{const A=typeof OfflineAudioContext<"u"?OfflineAudioContext:typeof webkitOfflineAudioContext<"u"?webkitOfflineAudioContext:null;if(!A)return!1;const E=new A(1,c,n);return E.oncomplete=null,!0}catch(A){return console.warn("OfflineAudioContext unavailable",A),!1}})()){const A=new AudioBuffer({length:c,sampleRate:n,numberOfChannels:2}),E={totalBars:a,totalBeats:l,totalSec:u,key:p.key,mode:p.mode,bpm:p.bpm,ts:p.ts,sampleRate:n};return this._lastMidi={bpm:p.bpm,drumEvents:[],bassEvents:[],chordEvents:[],leadEvents:[]},{stems:{drums:A,bass:A,chords:A,lead:A},mix:A,meta:E}}let _=!0;try{await Ur(()=>{},.01,{channels:2,sampleRate:n})}catch(A){_=!1,console.warn("Tone.Offline unavailable",A)}if(!_){const A=new AudioBuffer({length:c,sampleRate:n,numberOfChannels:2}),E={totalBars:a,totalBeats:l,totalSec:u,key:p.key,mode:p.mode,bpm:p.bpm,ts:p.ts,sampleRate:n};return this._lastMidi={bpm:p.bpm,drumEvents:[],bassEvents:[],chordEvents:[],leadEvents:[]},{stems:{drums:A,bass:A,chords:A,lead:A},mix:A,meta:E}}const w=[],f=[],g=[],y=[],k=async A=>{try{return await A()}catch(E){return console.error("Render fallback",E),new AudioBuffer({length:c,sampleRate:n,numberOfChannels:2})}},[v,T,S,x]=await Promise.all([k(()=>Fs(this,Ua,zg).call(this,c,n,p,w)),k(()=>Fs(this,$a,Wg).call(this,c,n,p,d,f)),k(()=>Fs(this,Ga,Bg).call(this,c,n,p,d,g)),k(()=>Fs(this,Ha,Ug).call(this,c,n,p,d,y))]),D=await Fs(this,Qa,$g).call(this,[v,T,S,x]),N={totalBars:a,totalBeats:l,totalSec:u,key:p.key,mode:p.mode,bpm:p.bpm,ts:p.ts,sampleRate:n};return this._lastMidi={bpm:p.bpm,drumEvents:w,bassEvents:f,chordEvents:g,leadEvents:y},{stems:{drums:v,bass:T,chords:S,lead:x},mix:D,meta:N}}exportMidi(){if(!this._lastMidi)throw new Error("No MIDI in memory. Call generate() first.");return Tk(this._lastMidi)}encodeWav(e){return kk(e)}}Ua=new WeakSet,zg=async function(e,n,s,r){const i=$r(s.ts),o=60/s.bpm,l=Math.max(1,s.structure.reduce((c,h)=>c+((h==null?void 0:h.bars)||0),0))*i,u=Math.max(.1,l*o);return Ur(async()=>{Ae.cancel(0),Ae.bpm.value=s.bpm;const c=new tn({volume:-3}).toDestination(),h=new za({threshold:-8,ratio:3,attack:.002,release:.18}).connect(c),d=new Tr({envelope:{attack:.001,decay:.45,sustain:0},pitchDecay:.03,octaves:2.8}).connect(h),p=new Li({noise:{type:"pink"},envelope:{attack:.001,decay:.28,sustain:0},filterEnvelope:{attack:.001,decay:.1,sustain:0,baseFrequency:1800,octaves:2}}).connect(h),m=new Li({noise:{type:"white"},envelope:{attack:.001,decay:.08,sustain:0},filterEnvelope:{attack:.001,decay:.05,sustain:0,baseFrequency:8e3,octaves:1}}),_=new Rh().toDestination();m.connect(_);const w=pf(s.seed^13693390);for(let f=0;f<l;f++){const g=f*o,y=f%i;if((y===0||y===2)&&(Ae.schedule(k=>{d.triggerAttackRelease("C2","8n",k,1)},g),r.push({startBeat:f,durBeats:.1,note:36,vel:110})),y===1||y===3){const k=g+.01;Ae.schedule(v=>{p.triggerAttackRelease("8n",v,.8)},k),r.push({startBeat:f+.01/s.bpm*60,durBeats:.1,note:38,vel:100})}if(Ae.schedule(k=>{m.triggerAttackRelease("16n",k,.35)},g),Ae.schedule(k=>{m.triggerAttackRelease("16n",k,.3)},g+o*.5),y===3&&Ae.schedule(k=>{m.triggerAttackRelease("8n",k,.45)},g+o*.8),y===1&&w()<.3){const k=g+o*.5;Ae.schedule(v=>{d.triggerAttackRelease("C2","8n",v,.8)},k),r.push({startBeat:f+.5,durBeats:.1,note:36,vel:100})}}Ae.start(0)},u+.5,{channels:2,sampleRate:n})},$a=new WeakSet,Wg=async function(e,n,s,r,i){const o=$r(s.ts),a=60/s.bpm,l=Math.max(1,r.length||0),u=l*o,c=Math.max(.1,u*a);return Ur(async()=>{Ae.cancel(0),Ae.bpm.value=s.bpm;const h=new ji({oscillator:{type:"square"},filter:{type:"lowpass",rolloff:-24,Q:1},envelope:{attack:.01,decay:.2,sustain:.6,release:.3},filterEnvelope:{attack:.01,decay:.15,sustain:.3,release:.1,baseFrequency:80,octaves:3}}),d=new Bi(.2).toDestination(),p=new Wa({low:3,mid:-4,high:-6}).connect(d);h.connect(p);let m=0;for(let _=0;_<l;_++){const w=r[_].notes,f=mf(w[0]-12,36,60);for(let g=0;g<o;g++){const y=m*a;Ae.schedule(k=>{h.triggerAttackRelease(nu(f,"midi"),a*.95,k,.8)},y),i.push({startBeat:m,durBeats:.95,midi:f,vel:96}),m++}}Ae.start(0)},c+.5,{channels:2,sampleRate:n})},Ga=new WeakSet,Bg=async function(e,n,s,r,i){const o=$r(s.ts),a=60/s.bpm,l=Math.max(1,r.length||0),u=l*o,c=Math.max(.1,u*a);return Ur(async()=>{Ae.cancel(0),Ae.bpm.value=s.bpm;const h=new Va(.2),d=new Bi(.4),p=new Pa(2.4,.4,.35).start(),m=new ba(Mh,{oscillator:{type:"sawtooth"},envelope:{attack:.08,decay:.2,sustain:.7,release:.4},filter:{type:"lowpass",rolloff:-12}});m.chain(d,p,h,new tn({pan:-.12,volume:-4}).toDestination());for(let _=0;_<l;_++){const w=_*o*a,f=r[_].notes;Ae.schedule(g=>{m.triggerAttackRelease(f.map(y=>nu(y,"midi")),o*a,g,.7)},w),i.push({startBeat:_*o,durBeats:o,midis:f.slice(),vel:90})}Ae.start(0)},c+.5,{channels:2,sampleRate:n})},Ha=new WeakSet,Ug=async function(e,n,s,r,i){const o=$r(s.ts),a=60/s.bpm,l=Math.max(1,r.length||0),u=l*o,c=Math.max(.1,u*a),h=Ba[s.key]??0,d=s.mode==="minor"?qg:Lg,p=pf((s.seed^12245589)>>>0);return Ur(async()=>{Ae.cancel(0),Ae.bpm.value=s.bpm;const m=new ja(6,.2),_=new Fa(.22,.35),w=new ji({oscillator:{type:"sawtooth"},envelope:{attack:.01,decay:.2,sustain:.5,release:.25},filter:{type:"lowpass",rolloff:-12},filterEnvelope:{attack:.01,decay:.1,sustain:.2,release:.2,baseFrequency:600,octaves:3}});w.chain(m,_,new tn({pan:.14,volume:-6}).toDestination());let f=72+h;for(let g=0;g<l;g++){const y=r[g].notes.map(v=>v+12);let k=0;for(;k<o;){const T=p()<.4?.25:.5,S=g*o+k;let x;if(p()<.6)x=y[Math.floor(p()*y.length)];else{const N=Math.floor(p()*7),A=70+h+d[N]+12*Math.floor(p()*2);x=mf(A,67,88)}f=x;const D=S*a;Ae.schedule(N=>{w.triggerAttackRelease(nu(f,"midi"),T*a,N,.85)},D),i.push({startBeat:S,durBeats:T,midi:f,vel:96}),k+=T}}Ae.start(0)},c+.5,{channels:2,sampleRate:n})},Qa=new WeakSet,$g=async function(e){const n=e[0].sampleRate,s=Math.max(1,...e.map(o=>Math.max(1,o.length||0))),r=new OfflineAudioContext(2,s,n),i=r.createGain();return i.gain.value=.9,i.connect(r.destination),e.forEach((o,a)=>{const l=r.createBufferSource();l.buffer=o;const u=r.createStereoPanner();u.pan.value=a===3?.15:a===2?-.1:0,l.connect(u).connect(i),l.start(0)}),r.startRendering()};const _f={intro:2,verse:8,pre:4,chorus:8,break:8,bridge:4,outro:2},Nk=["Metalcore","Djent","NuMetal","AltProg"],Ek=["C","C#","D","Eb","E","F","F#","G","Ab","A","Bb","B"],Ak=["Aeolian (Natural Minor)","Phrygian","Dorian","Harmonic Minor","Locrian (spice)"],Dk=["Drop D (D A D G B E)","Drop C (C G C F A D)","Drop B (B F# B E G# C#)","Drop A (A E A D F# B)"],Mk=[{name:"Stable Audio Open",summary:"Latentdiffusion textaudio tuned for fast, highfidelity 44.1 kHz stereo renders."},{name:"MusicGen (AudioCraft)",summary:"Autoregressive EnCodec token LM that locks bar structure and supports conditioned edits."},{name:"Spectrogram diffusion (optional)",summary:"Riffusionstyle textmel pipelines for style morphs and creative interpolations."}],Ok=["Arrangement grid with BPM, meter, and key locks so generation follows the song map.","Deterministic seeds plus nondestructive 4bar regen windows and A/B take management.","Instrument & harmony lanes with perlane prompts, chordtrack import, and laneonly regeneration.","True stems at generation time (multistem MusicGen) with Demucs fallback and 24bit/48 kHz exports."],bk=["Next.js frontend with WebAudio previews, arranger grid, and piano roll hooks.","FastAPI/Node orchestrator with Redis/RQ dispatching GPU workers on Kubernetes; perjob weight loading and object storage for assets.","Producer LLM agent converts briefs into structured SessionSpec and coordinates model workers, storing a project graph for revision safety.","Audio ops: EnCodec tokenization, resampling, loudness normalization, Demucs separation, FFmpeg utility, HLS streaming, and exports (stems + MIDI + tempo map + optional AAF/VST3/AU)."];function Rk(){const[t,e]=ye.useState("Metalcore"),[n,s]=ye.useState("C#"),[r,i]=ye.useState("Aeolian (Natural Minor)"),[o,a]=ye.useState(142),[l,u]=ye.useState("4/4"),[c,h]=ye.useState("Drop C (C G C F A D)"),[d,p]=ye.useState(2.8),[m,_]=ye.useState(""),[w,f]=ye.useState(()=>Math.floor(Math.random()*1e9)),g=ye.useMemo(()=>jk(w),[w]),y=ye.useMemo(()=>Y(t),[t]),[k,v]=ye.useState(["intro","verse","pre","chorus","verse","pre","chorus","break","bridge","chorus","outro"]),[T,S]=ye.useState(!1),[x,D]=ye.useState(0),[N,A]=ye.useState(0),[E,I]=ye.useState(!1),F=ye.useRef(null),G=ye.useRef(0),L=ye.useMemo(()=>new Ck({sampleRate:44100}),[]),B=ye.useMemo(()=>k.map(V=>({section:V,bars:_f[V]||4})),[k]),O=B.reduce((V,U)=>V+U.bars,0),b=Hg(l)*Gg(o),P=Math.max(1,O)*b;ye.useEffect(()=>{_(vf(g,t,y))},[g,t,y]);function j({timeline:V,key:U,scale:$,bpm:ee,timeSig:ae,preset:We,seed:Tt,targetMin:Pr,targetBars:Nl}){const El=V.map(Al=>_f[Al]||4),Qg=Pk({baseBars:El,targetMin:Pr,targetBars:Nl,bpm:ee,timeSig:ae}),Yg=V.map((Al,Xg)=>({name:ru(Al),bars:Qg[Xg]}));return{seed:Tt,style:We,key:U,mode:Ik($),bpm:ee,ts:ae,progression:"I V vi IV",structure:Yg,regen:{lane:"lead",startBar:1,bars:4}}}function Y(V){const U={rapEnergy:.2,anthem:.25,ambient:.2,djent:.35};return V==="Djent"&&(U.djent=.45),V==="NuMetal"&&(U.rapEnergy=.45),V==="AltProg"&&(U.ambient=.35),U}function Re(V){const U=performance.now()/1e3,$=()=>{const ee=performance.now()/1e3-U;D(Math.min(V,ee)),ee<V&&F.current?G.current=requestAnimationFrame($):de()};G.current=requestAnimationFrame($)}function de(){if(!F.current){S(!1),D(0);return}try{const{ctx:V,out:U,src:$}=F.current,ee=V.currentTime;if($)try{$.stop()}catch{}U.gain.cancelScheduledValues(ee),U.gain.setValueAtTime(U.gain.value,ee),U.gain.linearRampToValueAtTime(1e-4,ee+.06),setTimeout(()=>{try{V.close()}catch{}F.current=null},80)}finally{cancelAnimationFrame(G.current),S(!1),D(0)}}function K(V){if(V.state==="suspended"&&V.resume)try{V.resume()}catch{}}async function ie(){if(F.current){de();return}I(!0);try{const V=j({timeline:k,key:n,scale:r,bpm:o,timeSig:l,preset:t,seed:w,targetMin:d}),{mix:U,meta:$}=await L.generate(V),ee=window.AudioContext||window.webkitAudioContext,ae=new ee;K(ae);const We=ae.createGain();We.gain.value=.85,We.connect(ae.destination);const Tt=ae.createBufferSource();Tt.buffer=U,Tt.connect(We),Tt.start(),F.current={ctx:ae,out:We,src:Tt},S(!0),A($.totalSec),Re($.totalSec)}catch(V){console.error(V),de()}finally{I(!1)}}async function Ce(){const V=j({timeline:k,key:n,scale:r,bpm:o,timeSig:l,preset:t,seed:w,targetBars:16});await Zt(V,`${ou(m||"anvil")}-30s.wav`)}async function H(){const V=j({timeline:k,key:n,scale:r,bpm:o,timeSig:l,preset:t,seed:w,targetMin:d});await Zt(V,`${ou(m||"anvil")}-full.wav`)}async function un(){I(!0);try{const V=j({timeline:k,key:n,scale:r,bpm:o,timeSig:l,preset:t,seed:w,targetMin:d});await L.generate(V);const U=L.exportMidi(),$=document.createElement("a");$.href=URL.createObjectURL(U),$.download=`${ou(m||"anvil")}.mid`,$.click(),setTimeout(()=>URL.revokeObjectURL($.href),1e3)}catch(V){console.error(V)}finally{I(!1)}}async function Zt(V,U){I(!0);try{const{mix:$}=await L.generate(V),ee=L.encodeWav($),ae=document.createElement("a");ae.href=URL.createObjectURL(ee),ae.download=U,ae.click(),setTimeout(()=>URL.revokeObjectURL(ae.href),1e3)}catch($){console.error($)}finally{I(!1)}}function bn(V){v(U=>[...U,V])}function Rn(V,U){V.dataTransfer.setData("text/plain",String(U))}function Tl(V){V.preventDefault()}function Cl(V,U){V.preventDefault();const $=Number(V.dataTransfer.getData("text/plain"));Number.isNaN($)||v(ee=>{const ae=ee.slice(),We=ae[U];return ae[U]=ae[$],ae[$]=We,ae})}function q(V){v(U=>U.filter(($,ee)=>ee!==V))}function X(){v(["intro","verse","pre","chorus","verse","pre","chorus","break","bridge","chorus","outro"])}return C.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden bg-slate-950 text-slate-50",children:[C.jsx("div",{className:"noise-layer","aria-hidden":!0}),C.jsx("div",{className:"grid-radial","aria-hidden":!0}),C.jsx("div",{className:"pointer-events-none absolute -left-10 top-12 h-64 w-64 rounded-full bg-emerald-500/10 blur-3xl","aria-hidden":!0}),C.jsx("div",{className:"pointer-events-none absolute -right-24 -top-10 h-72 w-72 rounded-full bg-cyan-400/10 blur-3xl","aria-hidden":!0}),C.jsx("header",{className:"sticky top-0 z-40 border-b border-white/10 bg-slate-950/70 backdrop-blur",children:C.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-3 py-4",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-white/5 ring-1 ring-white/10",children:C.jsx(Vk,{className:"h-6 w-6"})}),C.jsxs("div",{className:"leading-tight",children:[C.jsx("div",{className:"text-sm font-semibold tracking-tight",children:"producer.ai"}),C.jsx("div",{className:"text-[11px] uppercase tracking-[0.18em] text-emerald-300",children:"Metal arranger"})]})]}),C.jsxs("div",{className:"hidden items-center gap-4 text-xs text-slate-300 sm:flex",children:[C.jsx("span",{className:"hover:text-white",children:"Product"}),C.jsx("span",{className:"hover:text-white",children:"Showcase"}),C.jsx("span",{className:"hover:text-white",children:"Docs"}),C.jsx("span",{className:"hover:text-white",children:"Roadmap"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{onClick:un,disabled:E,className:"rounded-xl border border-white/15 px-3 py-2 text-xs font-medium text-slate-100 transition hover:bg-white/10 disabled:opacity-60",children:"MIDI"}),C.jsx("button",{onClick:Ce,disabled:E,className:"rounded-xl border border-white/15 px-3 py-2 text-xs font-medium text-slate-100 transition hover:bg-white/10 disabled:opacity-60",children:"Export 30s"}),C.jsx("button",{onClick:H,disabled:E,className:"rounded-xl bg-emerald-500 px-3 py-2 text-xs font-semibold text-emerald-950 shadow-[0_10px_50px_-16px_rgba(16,185,129,0.8)] transition hover:bg-emerald-400 disabled:opacity-60",children:"Full render"})]})]})}),C.jsxs("main",{className:"relative mx-auto flex max-w-6xl flex-col gap-12 px-4 pb-16 pt-10",children:[C.jsxs("div",{className:"grid items-start gap-10 lg:grid-cols-[1.05fr_0.95fr]",children:[C.jsxs("section",{className:"space-y-6",children:[C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-[11px] uppercase tracking-[0.22em] text-emerald-200/80",children:[C.jsx(Fn,{tone:"emerald",children:"Live composer"}),C.jsxs(Fn,{tone:"zinc",children:["Seed #",w]}),C.jsxs(Fn,{tone:"zinc",children:[k.length," sections"]}),C.jsxs(Fn,{tone:"emerald",children:[us(P)," est."]})]}),C.jsx("h1",{className:"text-3xl font-semibold leading-tight tracking-tight text-white sm:text-4xl",children:"Producer.ai for heavy music & live stems"}),C.jsx("p",{className:"max-w-2xl text-sm text-slate-300",children:"Generate arrangement-aware riffs, regenerate 4-bar clips without losing the groove, and export stems that drop straight into your DAW."}),C.jsxs("div",{className:"flex flex-wrap gap-2",children:[C.jsx("button",{onClick:ie,disabled:E,className:"rounded-xl bg-emerald-500 px-4 py-3 text-sm font-semibold text-emerald-950 shadow-[0_10px_40px_-15px_rgba(16,185,129,0.8)] transition hover:bg-emerald-400 disabled:opacity-60",children:E?"Rendering":T?"Stop preview":"Generate & preview"}),C.jsx("button",{onClick:de,className:"rounded-xl border border-white/15 px-4 py-3 text-sm font-semibold text-slate-100 transition hover:bg-white/10",children:"Stop playback"}),C.jsx("button",{onClick:()=>f(Math.floor(Math.random()*1e9)),className:"rounded-xl border border-white/10 px-4 py-3 text-sm text-slate-200 transition hover:bg-white/10",children:"Shuffle seed"}),C.jsx("button",{onClick:()=>_(vf(g,t,y)),className:"rounded-xl border border-white/10 px-4 py-3 text-sm text-slate-200 transition hover:bg-white/10",children:"Regenerate title"})]})]}),C.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[C.jsx(Metric,{label:"Preset",value:t,description:"Influence blend"}),C.jsx(Metric,{label:"Tempo",value:`${o} BPM`,description:l}),C.jsx(Metric,{label:"Key & scale",value:`${n}  ${r.split("(")[0].trim()}`,description:c}),C.jsx(Metric,{label:"Length",value:`${d.toFixed(1)} min target`,description:`${us(P)} est.`})]}),C.jsx(Ls,{title:"Producer-grade workflow",children:C.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[C.jsxs("div",{className:"space-y-2 text-sm text-slate-200/90",children:[C.jsx("p",{children:"Every session is mapped as an arrangement grid so stems and MIDI keep the groove when you regen a single bar or lane."}),C.jsx("p",{className:"text-slate-400 text-xs",children:"Stem separation happens at generation time with Demucs fallback for true multi-track exports."})]}),C.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[C.jsx(Fn,{tone:"emerald",children:"Lane-based regen"}),C.jsx(Fn,{tone:"zinc",children:"Hybrid Demucs v4"}),C.jsx(Fn,{tone:"emerald",children:"DAW-ready stems"}),C.jsx(Fn,{tone:"zinc",children:"24-bit / 48 kHz"})]})]})})]}),C.jsxs("section",{className:"space-y-4",children:[C.jsx(Ls,{title:"Session mixer",children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{className:"flex items-center justify-between gap-2",children:[C.jsxs("div",{className:"flex-1",children:[C.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Title"}),C.jsx("input",{value:m,onChange:V=>_(V.target.value),className:"w-full rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-white outline-none focus:border-emerald-400/60",placeholder:"Generate a title"})]}),C.jsx("button",{onClick:ie,disabled:E,className:"rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold text-emerald-950 shadow-[0_8px_30px_-12px_rgba(16,185,129,0.8)] transition hover:bg-emerald-400 disabled:opacity-60",children:T?"Re-render":"Preview"})]}),C.jsx(Fk,{value:x,max:N||1}),C.jsxs("div",{className:"flex items-center justify-between text-[11px] text-slate-400",children:[C.jsxs("span",{children:[us(x)," / ",us(N||0)]}),C.jsxs("span",{children:[O," bars  ",us(P)]})]}),C.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[C.jsx(Gr,{label:"Preset",value:t,onChange:e,options:Nk}),C.jsx(Gr,{label:"Key",value:n,onChange:s,options:Ek}),C.jsx(Gr,{label:"Scale",value:r,onChange:i,options:Ak}),C.jsx(Gr,{label:"Time Sig",value:l,onChange:u,options:["4/4","3/4","6/8","7/8","5/4"]}),C.jsx(Gr,{label:"Tuning",value:c,onChange:h,options:Dk}),C.jsx(yf,{label:`BPM: ${o}`,value:o,onChange:a,min:70,max:210}),C.jsx(yf,{label:`Length: ${d.toFixed(1)} min`,value:d,onChange:p,min:2,max:5,step:.1}),C.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs text-slate-300",children:[C.jsx("div",{className:"text-[11px] uppercase tracking-[0.22em] text-emerald-200",children:"Influence"}),C.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[11px] text-slate-400",children:[C.jsx("span",{children:"Anthemic hooks"}),C.jsxs("span",{className:"text-right text-slate-100",children:[Math.round(y.anthem*100),"%"]}),C.jsx("span",{children:"Rap energy"}),C.jsxs("span",{className:"text-right text-slate-100",children:[Math.round(y.rapEnergy*100),"%"]}),C.jsx("span",{children:"Ambient layer"}),C.jsxs("span",{className:"text-right text-slate-100",children:[Math.round(y.ambient*100),"%"]}),C.jsx("span",{children:"Djent chugs"}),C.jsxs("span",{className:"text-right text-slate-100",children:[Math.round(y.djent*100),"%"]})]})]})]})]})}),C.jsxs(Ls,{title:"Song timeline",children:[C.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:k.map((V,U)=>C.jsxs("div",{draggable:!0,onDragStart:$=>Rn($,U),onDragOver:Tl,onDrop:$=>Cl($,U),className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-xs text-slate-100 shadow-sm shadow-emerald-500/5 select-none",children:[C.jsx("span",{className:"capitalize",children:ru(V)}),C.jsx("button",{onClick:()=>q(U),className:"text-rose-300",children:""})]},U))}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsxs("select",{onChange:V=>{V.target.value&&(bn(V.target.value),V.target.value="")},defaultValue:"",className:"rounded-xl border border-white/10 bg-white/5 px-3 py-2 text-xs text-slate-100 outline-none",children:[C.jsx("option",{value:"",disabled:!0,children:"Add section"}),C.jsx("option",{value:"intro",children:"Intro"}),C.jsx("option",{value:"verse",children:"Verse"}),C.jsx("option",{value:"pre",children:"PreChorus"}),C.jsx("option",{value:"chorus",children:"Chorus"}),C.jsx("option",{value:"break",children:"Breakdown"}),C.jsx("option",{value:"bridge",children:"Bridge"}),C.jsx("option",{value:"outro",children:"Outro"})]}),C.jsx("button",{onClick:X,className:"rounded-xl border border-white/10 px-3 py-2 text-xs text-slate-200 transition hover:bg-white/10",children:"Reset"})]})]}),C.jsxs(Ls,{title:"Arrangement snapshot",children:[C.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400 mb-2",children:[C.jsxs("span",{children:[k.length," sections  drag to reorder"]}),C.jsxs("span",{children:[O," bars  ",us(P)]})]}),C.jsx("div",{className:"space-y-2",children:B.map((V,U)=>C.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-white/5 px-3 py-2",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("span",{className:"text-[11px] uppercase tracking-[0.22em] text-emerald-200/80",children:String(U+1).padStart(2,"0")}),C.jsx("span",{className:"capitalize text-sm text-white",children:ru(V.section)})]}),C.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-300",children:[C.jsxs("span",{children:[V.bars," bars"]}),C.jsx("span",{children:us(V.bars*b)})]})]},`${V.section}-${U}`))})]})]})]}),C.jsxs("section",{className:"grid gap-4 lg:grid-cols-2",children:[C.jsx(Ls,{title:"Render MIDI with real instruments",children:C.jsxs("div",{className:"grid gap-3 md:grid-cols-2 text-sm text-slate-200/90",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx("p",{children:"Export the generated MIDI and run it through pro samplers to get livesounding drums and guitars (GGD, Superior Drummer, STL Tones, Neural DSP)."}),C.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-slate-200",children:[C.jsxs("li",{children:["Click ",C.jsx("span",{className:"font-semibold",children:"Export MIDI"})," above."]}),C.jsx("li",{children:"Load the MIDI into your sampler (browser SoundFonts or DAW VSTs)."}),C.jsx("li",{children:"Render stems for drums, bass, chords, and lead to mirror the browser mix."})]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:[C.jsx("div",{className:"text-[11px] uppercase tracking-[0.22em] text-slate-400 mb-1",children:"Browser"}),C.jsx("p",{className:"text-sm text-slate-200",children:"Pair the MIDI with a SoundFont sampler (Tone.js Sampler or tinysf2) using multisample drum kits and DI guitars reamped with IRs."})]}),C.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-3",children:[C.jsx("div",{className:"text-[11px] uppercase tracking-[0.22em] text-slate-400 mb-1",children:"Desktop DAW"}),C.jsx("p",{className:"text-sm text-slate-200",children:"Drop the MIDI into your DAW and assign GGD, Superior Drummer, STL AmpHub, or Neural DSP for realistic articulations and amp captures."})]})]})]})}),C.jsxs(Ls,{title:"Pro audio engine blueprint",children:[C.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[C.jsx(iu,{title:"Model layer",items:Mk,tone:"emerald"}),C.jsx(iu,{title:"Pro workflow controls",items:Ok,tone:"zinc"})]}),C.jsx("div",{className:"mt-3",children:C.jsx(iu,{title:"System architecture",items:bk,tone:"amber"})})]})]})]})]})}function ru(t){return t==="pre"?"PreChorus":t.charAt(0).toUpperCase()+t.slice(1)}function Ik(t){const e=(t||"").toLowerCase();return e.includes("minor")||e.includes("phrygian")||e.includes("dorian")||e.includes("locrian")?"minor":"major"}function Pk({baseBars:t,targetMin:e,targetBars:n,bpm:s,timeSig:r}){let i=t.slice();if(n){const o=i.reduce((l,u)=>l+u,0)||1,a=n/o;i=i.map(l=>Math.max(1,Math.round(l*a)))}else if(e){const o=Hg(r||"4/4")*Gg(s),a=Math.max(1,Math.round(e*60/o)),l=i.reduce((c,h)=>c+h,0)||1,u=a/l;i=i.map(c=>Math.max(1,Math.round(c*u)))}return i}function Ls({title:t,children:e}){return C.jsxs("div",{className:"bg-[#0d1017] rounded-2xl border border-[#1b202c] p-4 shadow-[0_0_0_1px_rgba(255,255,255,0.02)]",children:[C.jsx("h3",{className:"text-sm font-semibold tracking-wide text-slate-200 mb-3",children:t}),e]})}function Fn({children:t,tone:e="zinc"}){const n=e==="emerald"?"bg-emerald-500/15 text-emerald-200 border-emerald-300/30":"bg-white/5 text-zinc-200 border-white/10";return C.jsx("span",{className:`text-[11px] px-2.5 py-1 rounded-full border ${n}`,children:t})}function iu({title:t,items:e,tone:n="zinc"}){const s=n==="emerald"?"bg-emerald-500/10 border-emerald-300/30 text-emerald-100":n==="amber"?"bg-amber-500/10 border-amber-300/30 text-amber-100":"bg-white/5 border-white/10 text-slate-100";return C.jsxs("div",{className:`rounded-2xl p-3 border ${s}`,children:[C.jsx("div",{className:"text-[11px] uppercase tracking-wide opacity-90 mb-2",children:t}),C.jsx("ul",{className:"space-y-2 text-sm leading-snug text-slate-100/90",children:e.map((r,i)=>{const o=typeof r=="string"?r:r.summary,a=typeof r=="string"?null:r.name;return C.jsxs("li",{className:"flex gap-2 items-start",children:[C.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-current/70","aria-hidden":!0}),C.jsxs("div",{children:[a?C.jsx("div",{className:"font-semibold text-xs text-white",children:a}):null,C.jsx("div",{children:o})]})]},i)})})]})}function Gr({label:t,value:e,onChange:n,options:s}){return C.jsxs("label",{className:"flex flex-col text-xs gap-1",children:[C.jsx("span",{className:"text-slate-400",children:t}),C.jsx("select",{value:e,onChange:r=>n(r.target.value),className:"bg-[#0f121a] border border-[#1b202c] rounded-xl px-3 py-2 outline-none text-white",children:s.map(r=>C.jsx("option",{value:r,children:r},r))})]})}function yf({label:t,value:e,onChange:n,min:s=0,max:r=100,step:i=1}){return C.jsxs("label",{className:"block text-xs space-y-1",children:[C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("span",{className:"text-slate-400",children:t}),C.jsx("span",{className:"text-slate-400",children:typeof e=="number"?Math.round(e):e})]}),C.jsx("input",{type:"range",min:s,max:r,step:i,value:e,onChange:o=>n(Number(o.target.value)),className:"w-full accent-[#7cc7ff]"})]})}function Fk({value:t,max:e}){const n=Math.max(0,Math.min(1,e?t/e:0));return C.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:C.jsx("div",{className:"h-full bg-[#7cc7ff]",style:{width:`${(n*100).toFixed(1)}%`}})})}function Vk({className:t="w-6 h-6"}){return C.jsx("svg",{viewBox:"0 0 24 24",className:t,fill:"currentColor","aria-hidden":!0,children:C.jsx("path",{d:"M21 8h-3l-1-2H7L6 8H3a1 1 0 0 0 0 2h7v2.2l-3.5 1.4a2 2 0 0 0-1.2 1.8V16h14v-0.6a2 2 0 0 0-1.2-1.8L14 12.2V10h7a1 1 0 0 0 0-2z"})})}function Gg(t){return 60/Math.max(40,Math.min(260,t||120))}function Hg(t){const e=/^(\d+)\/(\d+)$/.exec(t||"4/4");return(e?parseInt(e[1],10):4)||4}function ou(t){return(t||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function jk(t){let e=(t>>>0)+1831565813;return function(){e|=0,e=e+1831565813|0;let n=Math.imul(e^e>>>15,1|e);return n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296}}function us(t){if(!t||!Number.isFinite(t))return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60).toString().padStart(2,"0");return`${e}:${n}`}function vf(t,e,n){const s=["Ashen","Ember","Midnight","Iron","Neon","Phantom","Cerulean","Spectral"],r=["Reckoning","Echoes","Siege","Pulse","Monolith","Signal","Warden","Horizon"];return e.includes("Metal"),n.anthem>.3,`${s[Math.floor(t()*s.length)]} ${r[Math.floor(t()*r.length)]}`}typeof window<"u"&&typeof window.Metric>"u"&&(window.Metric=class{});au.createRoot(document.getElementById("root")).render(C.jsx(p_.StrictMode,{children:C.jsx(Rk,{})}));
